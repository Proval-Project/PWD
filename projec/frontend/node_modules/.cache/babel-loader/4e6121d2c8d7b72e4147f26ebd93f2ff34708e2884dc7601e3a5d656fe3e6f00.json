{"ast":null,"code":"var _jsxFileName = \"/Users/simjimin/Downloads/final_develop/projec/frontend/src/components/CustomerSearchModal.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { searchUsers } from '../api/userManagement';\nimport './UserSearchModal.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CustomerSearchModal = ({\n  isOpen,\n  onClose,\n  onSelectUser\n}) => {\n  _s();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const performSearch = React.useCallback(async () => {\n    if (!searchTerm.trim()) return;\n    try {\n      setLoading(true);\n      setError(null);\n      const results = await searchUsers(searchTerm);\n      console.log('검색 결과 (전체):', results);\n      // 고객(roleID: 3)만 필터링\n      const filteredResults = results.filter(user => user.roleID === 3);\n      console.log('필터링된 고객 결과:', filteredResults);\n      setUsers(filteredResults);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('고객 검색 실패:', err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || '고객 검색에 실패했습니다.');\n    } finally {\n      setLoading(false);\n    }\n  }, [searchTerm]);\n  useEffect(() => {\n    if (isOpen && searchTerm.trim()) {\n      const timeoutId = setTimeout(() => {\n        performSearch();\n      }, 300);\n      return () => clearTimeout(timeoutId);\n    }\n  }, [searchTerm, isOpen, performSearch]);\n  const handleUserSelect = user => {\n    onSelectUser(user);\n    onClose();\n  };\n  const handleClose = () => {\n    setSearchTerm('');\n    setUsers([]);\n    setError(null);\n    onClose();\n  };\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-search-modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uACE0\\uAC1D \\uAC80\\uC0C9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-btn\",\n          onClick: handleClose,\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-input\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"\\uACE0\\uAC1D\\uC744 \\uD68C\\uC0AC\\uBA85, \\uC774\\uB984, \\uC774\\uBA54\\uC77C\\uB85C \\uAC80\\uC0C9\\uD558\\uC138\\uC694...\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"search-btn\",\n            onClick: performSearch,\n            disabled: loading || !searchTerm.trim(),\n            children: loading ? '검색 중...' : '검색'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-message\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-message\",\n          children: \"\\uAC80\\uC0C9 \\uC911...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this), !loading && searchTerm && users.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-results\",\n          children: \"\\uACE0\\uAC1D \\uC911 \\uAC80\\uC0C9 \\uACB0\\uACFC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this), !loading && users.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-list\",\n          children: users.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-item\",\n            onClick: () => handleUserSelect(user),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user-name\",\n                children: user.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user-company\",\n                children: user.companyName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user-email\",\n                children: user.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-role\",\n              children: user.roleID === 3 ? '고객' : '기타'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 19\n            }, this)]\n          }, user.userID, true, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n_s(CustomerSearchModal, \"W6RXzhGZ11+QWyJN2X+bVjRZKjw=\");\n_c = CustomerSearchModal;\nexport default CustomerSearchModal;\nvar _c;\n$RefreshReg$(_c, \"CustomerSearchModal\");","map":{"version":3,"names":["React","useState","useEffect","searchUsers","jsxDEV","_jsxDEV","CustomerSearchModal","isOpen","onClose","onSelectUser","_s","searchTerm","setSearchTerm","users","setUsers","loading","setLoading","error","setError","performSearch","useCallback","trim","results","console","log","filteredResults","filter","user","roleID","err","_err$response","_err$response$data","response","data","message","timeoutId","setTimeout","clearTimeout","handleUserSelect","handleClose","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","placeholder","value","onChange","e","target","disabled","length","map","name","companyName","email","userID","_c","$RefreshReg$"],"sources":["/Users/simjimin/Downloads/final_develop/projec/frontend/src/components/CustomerSearchModal.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { searchUsers, UserListResponseDto } from '../api/userManagement';\nimport './UserSearchModal.css';\n\ninterface CustomerSearchModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSelectUser: (user: UserListResponseDto) => void;\n}\n\nconst CustomerSearchModal: React.FC<CustomerSearchModalProps> = ({ \n  isOpen, \n  onClose, \n  onSelectUser \n}) => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [users, setUsers] = useState<UserListResponseDto[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const performSearch = React.useCallback(async () => {\n    if (!searchTerm.trim()) return;\n\n    try {\n      setLoading(true);\n      setError(null);\n      const results = await searchUsers(searchTerm);\n      console.log('검색 결과 (전체):', results);\n      // 고객(roleID: 3)만 필터링\n      const filteredResults = results.filter(user => user.roleID === 3);\n      console.log('필터링된 고객 결과:', filteredResults);\n      setUsers(filteredResults);\n    } catch (err: any) {\n      console.error('고객 검색 실패:', err);\n      setError(err.response?.data?.message || '고객 검색에 실패했습니다.');\n    } finally {\n      setLoading(false);\n    }\n  }, [searchTerm]);\n\n  useEffect(() => {\n    if (isOpen && searchTerm.trim()) {\n      const timeoutId = setTimeout(() => {\n        performSearch();\n      }, 300);\n\n      return () => clearTimeout(timeoutId);\n    }\n  }, [searchTerm, isOpen, performSearch]);\n\n  const handleUserSelect = (user: UserListResponseDto) => {\n    onSelectUser(user);\n    onClose();\n  };\n\n  const handleClose = () => {\n    setSearchTerm('');\n    setUsers([]);\n    setError(null);\n    onClose();\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"modal-overlay\">\n      <div className=\"user-search-modal\">\n        <div className=\"modal-header\">\n          <h3>고객 검색</h3>\n          <button className=\"close-btn\" onClick={handleClose}>×</button>\n        </div>\n\n        <div className=\"modal-body\">\n          <div className=\"search-input\">\n            <input\n              type=\"text\"\n              placeholder=\"고객을 회사명, 이름, 이메일로 검색하세요...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n            />\n            <button \n              className=\"search-btn\" \n              onClick={performSearch}\n              disabled={loading || !searchTerm.trim()}\n            >\n              {loading ? '검색 중...' : '검색'}\n            </button>\n          </div>\n\n          {error && (\n            <div className=\"error-message\">\n              {error}\n            </div>\n          )}\n\n          {loading && (\n            <div className=\"loading-message\">\n              검색 중...\n            </div>\n          )}\n\n          {!loading && searchTerm && users.length === 0 && (\n            <div className=\"no-results\">\n              고객 중 검색 결과가 없습니다.\n            </div>\n          )}\n\n          {!loading && users.length > 0 && (\n            <div className=\"user-list\">\n              {users.map(user => (\n                <div \n                  key={user.userID} \n                  className=\"user-item\"\n                  onClick={() => handleUserSelect(user)}\n                >\n                  <div className=\"user-info\">\n                    <div className=\"user-name\">{user.name}</div>\n                    <div className=\"user-company\">{user.companyName}</div>\n                    <div className=\"user-email\">{user.email}</div>\n                  </div>\n                  <div className=\"user-role\">\n                    {user.roleID === 3 ? '고객' : '기타'}\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CustomerSearchModal; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}