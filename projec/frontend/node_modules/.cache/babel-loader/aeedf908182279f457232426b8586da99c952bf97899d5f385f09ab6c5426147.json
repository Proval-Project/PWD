{"ast":null,"code":"var _jsxFileName = \"/Users/simjimin/Downloads/final_develop/projec/frontend/src/pages/Dashboard/EstimateDetailPage.tsx\",\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef, useMemo } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { getEstimateDetail } from '../../api/estimateRequest';\nimport './DashboardPages.css';\nimport './EstimateDetailPage.css';\n\n// í¬ë¡œìŠ¤í”Œë«í¼ ê²½ë¡œ ì²˜ë¦¬ë¥¼ ìœ„í•œ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst isManagerFile = filePath => {\n  if (!filePath) return false;\n\n  // Windowsì™€ Unix ê²½ë¡œ ëª¨ë‘ ì§€ì›\n  const normalizedPath = filePath.replace(/\\\\/g, '/'); // Windows ë°±ìŠ¬ë˜ì‹œë¥¼ ìŠ¬ë˜ì‹œë¡œ ë³€í™˜\n\n  // ë‹¤ì–‘í•œ ê²½ë¡œ íŒ¨í„´ ì§€ì›\n  const managerFilePatterns = ['/ResultFiles/', '\\\\ResultFiles\\\\', 'ResultFiles/', 'ResultFiles\\\\'];\n  return managerFilePatterns.some(pattern => normalizedPath.includes(pattern));\n};\n\n// ê²½ë¡œì—ì„œ managerFileType ì¶”ì¶œí•˜ëŠ” í¬ë¡œìŠ¤í”Œë«í¼ í•¨ìˆ˜\nconst extractManagerFileType = filePath => {\n  if (!filePath) return null;\n  const normalizedPath = filePath.replace(/\\\\/g, '/');\n  const pathParts = normalizedPath.split('/');\n  const resultFilesIndex = pathParts.findIndex(part => part === 'ResultFiles');\n  if (resultFilesIndex !== -1 && resultFilesIndex + 1 < pathParts.length) {\n    return pathParts[resultFilesIndex + 1];\n  }\n  return null;\n};\n\n// CustomerRequest íŒŒì¼ì¸ì§€ í™•ì¸í•˜ëŠ” í¬ë¡œìŠ¤í”Œë«í¼ í•¨ìˆ˜\nconst isCustomerFile = filePath => {\n  if (!filePath) return false;\n  const normalizedPath = filePath.replace(/\\\\/g, '/');\n  const customerFilePatterns = ['/CustomerRequest/', '\\\\CustomerRequest\\\\', 'CustomerRequest/', 'CustomerRequest\\\\'];\n  return customerFilePatterns.some(pattern => normalizedPath.includes(pattern));\n};\n\n// ğŸ”‘ íŒŒì¼ ê´€ë ¨ íƒ€ì… ì¶”ê°€\n\nconst EstimateDetailPage = () => {\n  _s2();\n  var _s = $RefreshSig$();\n  const navigate = useNavigate();\n  const {\n    tempEstimateNo\n  } = useParams();\n\n  // ìƒíƒœ ê´€ë¦¬\n  const [types, setTypes] = useState([]);\n  const [valves, setValves] = useState([]);\n  const [selectedValve, setSelectedValve] = useState(null);\n  const [selectedType, setSelectedType] = useState('');\n\n  // ë§ˆìŠ¤í„° ë°ì´í„°\n  const [bodyValveList, setBodyValveList] = useState([]);\n  const [bodySizeList, setBodySizeList] = useState([]);\n  const [bodyMatList, setBodyMatList] = useState([]);\n  const [trimMatList, setTrimMatList] = useState([]);\n  const [trimOptionList, setTrimOptionList] = useState([]);\n  const [bodyRatingList, setBodyRatingList] = useState([]);\n\n  // Step 3 ë§ˆìŠ¤í„° ë°ì´í„°\n  const [bodyBonnetList, setBodyBonnetList] = useState([]);\n  const [bodyConnectionList, setBodyConnectionList] = useState([]);\n  const [trimTypeList, setTrimTypeList] = useState([]);\n  const [trimSeriesList, setTrimSeriesList] = useState([]);\n  const [trimPortSizeList, setTrimPortSizeList] = useState([]);\n  const [trimFormList, setTrimFormList] = useState([]);\n  const [actTypeList, setActTypeList] = useState([]);\n  const [actSeriesList, setActSeriesList] = useState([]);\n  const [actSizeList, setActSizeList] = useState([]);\n  const [actHWList, setActHWList] = useState([]);\n  const [accMakerList, setAccMakerList] = useState([]);\n  const [accModelList, setAccModelList] = useState([]);\n\n  // ê¸°íƒ€ ë°ì´í„°\n  const [customerRequirement, setCustomerRequirement] = useState(''); // ê³ ê° ìš”ì²­ì‚¬í•­\n  const [staffComment, setStaffComment] = useState(''); // ê´€ë¦¬ì ì½”ë©˜íŠ¸\n  const [attachments, setAttachments] = useState([]);\n  const [customerAttachments, setCustomerAttachments] = useState([]); // ê³ ê° ìš”ì²­ ì²¨ë¶€íŒŒì¼\n  const [managerAttachments, setManagerAttachments] = useState([]); // ê´€ë¦¬ ì²¨ë¶€íŒŒì¼\n  const [currentStatus, setCurrentStatus] = useState('ê²¬ì ìš”ì²­');\n  const [isReadOnly, setIsReadOnly] = useState(false); // ì½ê¸° ì „ìš© ìƒíƒœ ì¶”ê°€\n\n  // ğŸ”‘ íŒŒì¼ ê´€ë¦¬ ìƒíƒœ ì¶”ê°€\n  const [managerFiles, setManagerFiles] = useState([]);\n  const [customerFiles, setCustomerFiles] = useState([]);\n  const [isLoadingFiles, setIsLoadingFiles] = useState(false);\n\n  // ğŸ”‘ PDF ì—…ë¡œë“œ ê´€ë ¨ state ì¶”ê°€\n  const [selectedPdfFiles, setSelectedPdfFiles] = useState({\n    datasheet: null,\n    cvlist: null,\n    vllist: null,\n    singlequote: null,\n    multiquote: null\n  });\n\n  // ğŸ”‘ PDF ë·°ì–´ë¥¼ ìœ„í•œ state ì¶”ê°€\n  const [uploadedPdfUrls, setUploadedPdfUrls] = useState({\n    datasheet: null,\n    cvlist: null,\n    vllist: null,\n    singlequote: null,\n    multiquote: null\n  });\n\n  // ğŸ”‘ íŒŒì¼ ì…ë ¥ ref ì¶”ê°€\n  const fileInputRefs = useRef({\n    datasheet: null,\n    cvlist: null,\n    vllist: null,\n    singlequote: null,\n    multiquote: null\n  });\n\n  // ACC ì„¹ì…˜ ì„ íƒ ìƒíƒœ ê´€ë¦¬\n  const [accSelections, setAccSelections] = useState({\n    // ê° ì•…ì„¸ì‚¬ë¦¬ì˜ typeCodeë¥¼ í•˜ë“œì½”ë”©ëœ ê°’ìœ¼ë¡œ ì´ˆê¸°í™”\n    positioner: {\n      typeCode: 'A',\n      makerCode: '',\n      modelCode: '',\n      specification: ''\n    },\n    solenoid: {\n      typeCode: 'B',\n      makerCode: '',\n      modelCode: '',\n      specification: ''\n    },\n    limiter: {\n      typeCode: 'C',\n      makerCode: '',\n      modelCode: '',\n      specification: ''\n    },\n    airSupply: {\n      typeCode: 'D',\n      makerCode: '',\n      modelCode: '',\n      specification: ''\n    },\n    volumeBooster: {\n      typeCode: 'E',\n      makerCode: '',\n      modelCode: '',\n      specification: ''\n    },\n    airOperator: {\n      typeCode: 'F',\n      makerCode: '',\n      modelCode: '',\n      specification: ''\n    },\n    lockUp: {\n      typeCode: 'G',\n      makerCode: '',\n      modelCode: '',\n      specification: ''\n    },\n    snapActingRelay: {\n      typeCode: 'H',\n      makerCode: '',\n      modelCode: '',\n      specification: ''\n    }\n  });\n\n  // ëª¨ë“  ìƒíƒœ ë³€ìˆ˜ ì„ ì–¸ í›„, ë Œë”ë§ ì‹œ accSelections ìƒíƒœ ë¡œê¹…\n  //console.log('EstimateDetailPage render - accSelections:', accSelections);\n\n  // TagNoë³„ ì‚¬ìš©ì ì„ íƒê°’ ì„ì‹œ ì €ì¥ (TagNo ë³€ê²½ ì‹œ ë³µì›ìš©)\n  const [tempSelections, setTempSelections] = useState({});\n\n  // í˜„ì¬ ì„ íƒê°’ì„ tempSelectionsì— ì €ì¥í•˜ëŠ” í•¨ìˆ˜\n  const saveCurrentSelections = sheetID => {\n    if (sheetID) {\n      setTempSelections(prev => ({\n        ...prev,\n        [sheetID]: {\n          body: {\n            ...bodySelections\n          },\n          trim: {\n            ...trimSelections\n          },\n          act: {\n            ...actSelections\n          },\n          acc: {\n            ...accSelections\n          }\n        }\n      }));\n      //console.log(`${sheetID}ì˜ ì„ íƒê°’ë“¤ì„ ì„ì‹œ ì €ì¥í–ˆìŠµë‹ˆë‹¤.`);\n    }\n  };\n\n  // valve ì„ íƒ ì‹œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜\n  const handleValveSelection = valve => {\n    //console.log('ì„ íƒëœ valveì˜ sheetID:', valve.sheetID); // sheetID ë¡œê·¸ ì¶”ê°€\n\n    // í˜„ì¬ ì„ íƒëœ valveê°€ ìˆë‹¤ë©´ ì„ íƒê°’ë“¤ì„ ì €ì¥\n    if (selectedValve) {\n      saveCurrentSelections(selectedValve.sheetID);\n    }\n\n    // ìƒˆë¡œìš´ valve ì„ íƒ\n    setSelectedValve(valve);\n\n    // ì´ SheetIDì— ì €ì¥ëœ ì„ íƒê°’ì´ ìˆëŠ”ì§€ í™•ì¸\n    if (tempSelections[valve.sheetID]) {\n      // ì €ì¥ëœ ì„ íƒê°’ì´ ìˆìŒ: ë³µì›\n      //console.log(`${valve.sheetID}ì˜ ì €ì¥ëœ ì„ íƒê°’ì„ ë³µì›í•©ë‹ˆë‹¤.`);\n      restoreTempSelections(valve.sheetID);\n    } else {\n      // ì €ì¥ëœ ì„ íƒê°’ì´ ì—†ìŒ: DBì—ì„œ ì´ˆê¸° ë°ì´í„° ë¡œë“œ\n      //console.log(`${valve.sheetID}ì˜ ì´ˆê¸° ë°ì´í„°ë¥¼ DBì—ì„œ ë¡œë“œí•©ë‹ˆë‹¤.`);\n      loadInitialSpecification(valve.sheetID);\n    }\n  };\n\n  // Body ì„¹ì…˜ ì„ íƒ ìƒíƒœ ê´€ë¦¬\n  const [bodySelections, setBodySelections] = useState({\n    bonnetType: '',\n    bonnetTypeCode: '',\n    // Code ê°’ ì¶”ê°€\n    materialBody: '',\n    materialBodyCode: '',\n    // Code ê°’ ì¶”ê°€\n    sizeBodyUnit: '',\n    sizeBody: '',\n    sizeBodyUnitCode: '',\n    // Code ê°’ ì¶”ê°€\n    sizeBodyCode: '',\n    // Code ê°’ ì¶”ê°€\n    ratingUnit: '',\n    rating: '',\n    ratingUnitCode: '',\n    // Code ê°’ ì¶”ê°€\n    ratingCode: '',\n    // Code ê°’ ì¶”ê°€\n    connection: '',\n    connectionCode: '' // Code ê°’ ì¶”ê°€\n  });\n\n  // Trim ì„¹ì…˜ ì„ íƒ ìƒíƒœ ê´€ë¦¬\n  const [trimSelections, setTrimSelections] = useState({\n    trimType: '',\n    trimTypeCode: '',\n    // Code ê°’ ì¶”ê°€\n    trimSeries: '',\n    trimSeriesCode: '',\n    // Code ê°’ ì¶”ê°€\n    materialTrim: '',\n    materialTrimCode: '',\n    // Code ê°’ ì¶”ê°€\n    sizePortUnit: '',\n    sizePort: '',\n    sizePortUnitCode: '',\n    // Code ê°’ ì¶”ê°€\n    sizePortCode: '',\n    // Code ê°’ ì¶”ê°€\n    form: '',\n    formCode: '',\n    // Code ê°’ ì¶”ê°€\n    option: '' // Trim Option í•„ë“œ ì¶”ê°€\n  });\n\n  // ACT ì„¹ì…˜ ì„ íƒ ìƒíƒœ ê´€ë¦¬\n  const [actSelections, setActSelections] = useState({\n    actionType: '',\n    actionTypeCode: '',\n    // Code ê°’ ì¶”ê°€\n    series: '',\n    seriesCode: '',\n    // Code ê°’ ì¶”ê°€\n    size: '',\n    sizeCode: '',\n    // Code ê°’ ì¶”ê°€\n    hw: '',\n    hwCode: '' // Code ê°’ ì¶”ê°€\n  });\n\n  // ìƒíƒœ ë° í”„ë¡œì íŠ¸ ì •ë³´\n  const [projectName, setProjectName] = useState('');\n\n  // BodyValveList ê°€ì ¸ì˜¤ê¸°\n  const fetchBodyValveList = async () => {\n    try {\n      const response = await fetch('http://localhost:5135/api/estimate/body-valve-list');\n      const data = await response.json();\n      setBodyValveList(data);\n    } catch (error) {\n      console.error('BodyValveList ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨:', error);\n    }\n  };\n\n  // ACT Size ëª©ë¡ ê°€ì ¸ì˜¤ê¸°\n  const fetchActSizeList = async actSeriesCode => {\n    try {\n      console.log('fetchActSizeList ì‹œì‘:', actSeriesCode);\n      const response = await fetch(`http://localhost:5135/api/masterdata/act/size?actSeriesCode=${actSeriesCode}`);\n      const data = await response.json();\n      console.log('ACT Size API ì‘ë‹µ:', data);\n      setActSizeList(data || []);\n    } catch (error) {\n      console.error('ACT Size ëª©ë¡ ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨:', error);\n      setActSizeList([]);\n    }\n  };\n\n  // ğŸ”‘ íŒŒì¼ ê´€ë¦¬ í•¨ìˆ˜ë“¤ ì¶”ê°€\n  const fetchManagerFiles = async () => {\n    if (!tempEstimateNo) return;\n    try {\n      setIsLoadingFiles(true);\n      console.log('ğŸ”„ fetchManagerFiles ì‹œì‘ - tempEstimateNo:', tempEstimateNo);\n      const response = await fetch(`http://localhost:5135/api/estimate/sheets/${tempEstimateNo}/attachments`);\n      console.log('ğŸ“¡ API ì‘ë‹µ ìƒíƒœ:', response.status, response.ok);\n      if (response.ok) {\n        const attachments = await response.json();\n        console.log('ğŸ“¥ API ì‘ë‹µ ë°ì´í„°:', attachments);\n        console.log('ğŸ“¥ API ì‘ë‹µ ë°ì´í„° ê¸¸ì´:', attachments.length);\n\n        // ğŸ”‘ ResultFiles ê²½ë¡œì˜ ëª¨ë“  íŒŒì¼ ê°€ì ¸ì˜¤ê¸° (ì—‘ì…€ + PDF)\n        const allManagerFiles = attachments.filter(att => {\n          const filePath = att.path || att.filePath;\n          const isManagerFileResult = filePath && isManagerFile(filePath);\n          console.log('ğŸ” íŒŒì¼ í•„í„°ë§ ì²´í¬:', att.name || att.fileName, 'ê²½ë¡œ:', filePath, 'ê´€ë¦¬íŒŒì¼ì—¬ë¶€:', isManagerFileResult);\n          return isManagerFileResult;\n        }).map(att => {\n          // ê²½ë¡œì—ì„œ managerFileType ì¶”ì¶œ (í¬ë¡œìŠ¤í”Œë«í¼)\n          const filePath = att.path || att.filePath;\n          att.managerFileType = extractManagerFileType(filePath);\n          console.log('ğŸ·ï¸ ì¶”ì¶œëœ managerFileType:', att.managerFileType);\n          return att;\n        });\n        setManagerFiles(allManagerFiles);\n        console.log('âœ… ê´€ë¦¬ì íŒŒì¼ ëª©ë¡ ë¡œë“œ ì™„ë£Œ:', allManagerFiles.length, 'ê°œ');\n        console.log('ğŸ” í•„í„°ë§ëœ ê´€ë¦¬ íŒŒì¼ë“¤:', allManagerFiles);\n      } else {\n        console.error('âŒ API ì‘ë‹µ ì‹¤íŒ¨:', response.status, response.statusText);\n      }\n    } catch (error) {\n      console.error('ê´€ë¦¬ì íŒŒì¼ ëª©ë¡ ì¡°íšŒ ì¤‘ ì˜¤ë¥˜:', error);\n    } finally {\n      setIsLoadingFiles(false);\n    }\n  };\n  const fetchCustomerFiles = async () => {\n    if (!tempEstimateNo) return;\n    try {\n      setIsLoadingFiles(true);\n      console.log('ğŸ”„ fetchCustomerFiles ì‹œì‘ - tempEstimateNo:', tempEstimateNo);\n      const response = await fetch(`http://localhost:5135/api/estimate/sheets/${tempEstimateNo}/attachments`);\n      console.log('ğŸ“¡ API ì‘ë‹µ ìƒíƒœ:', response.status, response.ok);\n      if (response.ok) {\n        const attachments = await response.json();\n        console.log('ğŸ“¥ API ì‘ë‹µ ë°ì´í„°:', attachments);\n        console.log('ğŸ“¥ API ì‘ë‹µ ë°ì´í„° ê¸¸ì´:', attachments.length);\n\n        // ğŸ”‘ NewEstimateRequestPageì™€ ë™ì¼í•œ ë¡œì§ìœ¼ë¡œ ìˆ˜ì •\n        // ê³ ê° íŒŒì¼ì€ ResultFilesê°€ ì•„ë‹Œ ê²½ë¡œì— ìˆëŠ” íŒŒì¼ë“¤\n        const customerFiles = attachments.filter(att => {\n          const filePath = att.path || att.filePath;\n          const isCustomerFile = filePath && !isManagerFile(filePath);\n          console.log('ğŸ” íŒŒì¼ í•„í„°ë§ ì²´í¬:', att.name || att.fileName, 'ê²½ë¡œ:', filePath, 'ê³ ê°íŒŒì¼ì—¬ë¶€:', isCustomerFile);\n          return isCustomerFile;\n        });\n        setCustomerFiles(customerFiles);\n        console.log('âœ… ê³ ê° íŒŒì¼ ëª©ë¡ ë¡œë“œ ì™„ë£Œ:', customerFiles.length, 'ê°œ');\n        console.log('ğŸ” í•„í„°ë§ëœ ê³ ê° íŒŒì¼ë“¤:', customerFiles);\n      } else {\n        console.error('âŒ API ì‘ë‹µ ì‹¤íŒ¨:', response.status, response.statusText);\n      }\n    } catch (error) {\n      console.error('ê³ ê° íŒŒì¼ ëª©ë¡ ì¡°íšŒ ì¤‘ ì˜¤ë¥˜:', error);\n    } finally {\n      setIsLoadingFiles(false);\n    }\n  };\n  const deleteFile = async managerFileType => {\n    if (!tempEstimateNo) return;\n    if (!window.confirm('ì •ë§ë¡œ ì´ íŒŒì¼ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {\n      return;\n    }\n    try {\n      const response = await fetch(`http://localhost:5135/api/estimate/sheets/${tempEstimateNo}/files/${managerFileType}`, {\n        method: 'DELETE'\n      });\n      if (response.ok) {\n        // íŒŒì¼ ëª©ë¡ ìƒˆë¡œê³ ì¹¨\n        await fetchManagerFiles();\n        alert('íŒŒì¼ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');\n      } else {\n        alert('íŒŒì¼ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');\n      }\n    } catch (error) {\n      console.error('íŒŒì¼ ì‚­ì œ ì¤‘ ì˜¤ë¥˜:', error);\n      alert('íŒŒì¼ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');\n    }\n  };\n  const downloadFile = async (filePath, fileName) => {\n    try {\n      // ğŸ”‘ íŒŒì¼ ë‹¤ìš´ë¡œë“œ API ìˆ˜ì • - ìƒˆë¡œ ì¶”ê°€ëœ API ì‚¬ìš©\n      const response = await fetch(`http://localhost:5135/api/estimate/attachments/download?filePath=${encodeURIComponent(filePath)}`);\n      if (response.ok) {\n        const blob = await response.blob();\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = fileName;\n        document.body.appendChild(a);\n        a.click();\n        window.URL.revokeObjectURL(url);\n        document.body.removeChild(a);\n      } else {\n        // ğŸ”‘ ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨ ì‹œ ìƒì„¸ ì—ëŸ¬ ì •ë³´ í‘œì‹œ\n        const errorText = await response.text();\n        console.error('íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨:', response.status, errorText);\n        alert(`íŒŒì¼ ë‹¤ìš´ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. (${response.status})\\n${errorText}`);\n      }\n    } catch (error) {\n      console.error('íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì¤‘ ì˜¤ë¥˜:', error);\n      alert('íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');\n    }\n  };\n  const getFileTypeDisplayName = managerFileType => {\n    const typeMap = {\n      'cvlist': 'CV List',\n      'vllist': 'VL List',\n      'datasheet': 'DataSheet',\n      'singlequote': 'ë‹¨í’ˆê²¬ì ì„œ',\n      'multiquote': 'ë‹¤ìˆ˜ëŸ‰ê²¬ì ì„œ'\n    };\n    return typeMap[managerFileType] || managerFileType;\n  };\n  const formatFileSize = bytes => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleString('ko-KR');\n  };\n\n  // ğŸ”‘ PDF ì—…ë¡œë“œ ê´€ë ¨ í•¨ìˆ˜ë“¤ ì¶”ê°€\n  const handlePdfUpload = (event, fileType) => {\n    var _event$target$files;\n    // ğŸ”‘ í™”ë©´ ì´ë™ ë°©ì§€\n    event.preventDefault();\n    const file = (_event$target$files = event.target.files) === null || _event$target$files === void 0 ? void 0 : _event$target$files[0];\n    if (file) {\n      if (file.type !== 'application/pdf') {\n        alert('PDF íŒŒì¼ë§Œ ì—…ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤.');\n        return;\n      }\n\n      // ğŸ”‘ ìƒíƒœ ì—…ë°ì´íŠ¸ë¥¼ ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬í•˜ì—¬ í™”ë©´ ì´ë™ ë°©ì§€\n      setTimeout(() => {\n        setSelectedPdfFiles(prev => ({\n          ...prev,\n          [fileType]: file\n        }));\n      }, 0);\n    }\n  };\n\n  // ğŸ”‘ íŒŒì¼ ì„ íƒì„ ìœ„í•œ ë³„ë„ í•¨ìˆ˜ ì¶”ê°€\n  const handleFileSelect = fileType => {\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.accept = '.pdf';\n    input.style.display = 'none';\n    input.onchange = e => {\n      const target = e.target;\n      if (target.files && target.files[0]) {\n        const file = target.files[0];\n        if (file.type !== 'application/pdf') {\n          alert('PDF íŒŒì¼ë§Œ ì—…ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤.');\n          return;\n        }\n        setSelectedPdfFiles(prev => ({\n          ...prev,\n          [fileType]: file\n        }));\n      }\n    };\n    document.body.appendChild(input);\n    input.click();\n    document.body.removeChild(input);\n  };\n\n  // Body ì„¹ì…˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë“¤\n  const handleBodyChange = (field, value) => {\n    setBodySelections(prev => {\n      const newSelections = {\n        ...prev,\n        [field]: value\n      };\n\n      // Bonnet Type ë³€ê²½ ì‹œ ì½”ë“œ ê°’ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸\n      if (field === 'bonnetType') {\n        const selectedItem = bodyBonnetList.find(item => item.bonnetCode === value);\n        if (selectedItem) {\n          newSelections.bonnetTypeCode = selectedItem.bonnetCode;\n        }\n      }\n\n      // Material Body ë³€ê²½ ì‹œ ì½”ë“œ ê°’ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸\n      if (field === 'materialBody') {\n        const selectedItem = bodyMatList.find(item => item.bodyMatCode === value);\n        if (selectedItem) {\n          newSelections.materialBodyCode = selectedItem.bodyMatCode;\n        }\n      }\n\n      // Connection ë³€ê²½ ì‹œ ì½”ë“œ ê°’ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸\n      if (field === 'connection') {\n        const selectedItem = bodyConnectionList.find(item => item.connectionCode === value);\n        if (selectedItem) {\n          newSelections.connectionCode = selectedItem.connectionCode;\n        }\n      }\n\n      // Unitì´ ë³€ê²½ë˜ë©´ í•´ë‹¹í•˜ëŠ” ê°’ ì´ˆê¸°í™”\n      if (field === 'sizeBodyUnit') {\n        newSelections.sizeBody = '';\n        newSelections.sizeBodyCode = '';\n      }\n      if (field === 'ratingUnit') {\n        newSelections.rating = '';\n        newSelections.ratingCode = '';\n      }\n      return newSelections;\n    });\n  };\n\n  // Trim ì„¹ì…˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë“¤\n  const handleTrimChange = (field, value) => {\n    setTrimSelections(prev => {\n      const newSelections = {\n        ...prev,\n        [field]: value\n      };\n\n      // Trim Type ë³€ê²½ ì‹œ ì½”ë“œ ê°’ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸\n      if (field === 'trimType') {\n        const selectedItem = trimTypeList.find(item => item.trimTypeCode === value);\n        if (selectedItem) {\n          newSelections.trimTypeCode = selectedItem.trimTypeCode;\n        }\n      }\n\n      // Trim Series ë³€ê²½ ì‹œ ì½”ë“œ ê°’ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸\n      if (field === 'trimSeries') {\n        const selectedItem = trimSeriesList.find(item => item.trimSeriesCode === value);\n        if (selectedItem) {\n          newSelections.trimSeriesCode = selectedItem.trimSeriesCode;\n        }\n      }\n\n      // Material Trim ë³€ê²½ ì‹œ ì½”ë“œ ê°’ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸\n      if (field === 'materialTrim') {\n        const selectedItem = trimMatList.find(item => item.trimMatCode === value);\n        if (selectedItem) {\n          newSelections.materialTrimCode = selectedItem.trimMatCode;\n        }\n      }\n\n      // Form ë³€ê²½ ì‹œ ì½”ë“œ ê°’ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸\n      if (field === 'form') {\n        const selectedItem = trimFormList.find(item => item.trimFormCode === value);\n        if (selectedItem) {\n          newSelections.formCode = selectedItem.trimFormCode;\n        }\n      }\n\n      // Unitì´ ë³€ê²½ë˜ë©´ í•´ë‹¹í•˜ëŠ” ê°’ ì´ˆê¸°í™”\n      if (field === 'sizePortUnit') {\n        newSelections.sizePort = '';\n        newSelections.sizePortCode = '';\n      }\n      return newSelections;\n    });\n  };\n\n  // ACT ì„¹ì…˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë“¤\n  const handleActChange = (field, value) => {\n    //console.log('ACT Change:', field, value);\n    setActSelections(prev => {\n      const newSelections = {\n        ...prev,\n        [field]: value\n      };\n\n      // Action Type ë³€ê²½ ì‹œ ì½”ë“œ ê°’ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸\n      if (field === 'actionType') {\n        const selectedItem = actTypeList.find(item => item.actTypeCode === value);\n        if (selectedItem) {\n          newSelections.actionTypeCode = selectedItem.actTypeCode;\n        }\n      }\n\n      // Series ë³€ê²½ ì‹œ ì½”ë“œ ê°’ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸\n      if (field === 'series') {\n        const selectedItem = actSeriesList.find(item => item.actSeriesCode === value);\n        if (selectedItem) {\n          newSelections.seriesCode = selectedItem.actSeriesCode;\n        }\n        newSelections.size = '';\n        //console.log('Series ë³€ê²½ë¨:', value);\n        // Seriesê°€ ì„ íƒë˜ë©´ í•´ë‹¹í•˜ëŠ” Size ëª©ë¡ ê°€ì ¸ì˜¤ê¸°\n        if (value) {\n          //console.log('fetchActSizeList í˜¸ì¶œ:', value);\n          fetchActSizeList(value);\n        } else {\n          //console.log('actSizeList ì´ˆê¸°í™”');\n          setActSizeList([]);\n        }\n      }\n\n      // Size ë³€ê²½ ì‹œ ì½”ë“œ ê°’ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸\n      if (field === 'size') {\n        const selectedItem = actSizeList.find(item => item.actSizeCode === value);\n        if (selectedItem) {\n          newSelections.sizeCode = selectedItem.actSizeCode;\n        }\n      }\n\n      // H.W ë³€ê²½ ì‹œ ì½”ë“œ ê°’ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸\n      if (field === 'hw') {\n        const selectedItem = actHWList.find(item => item.hwCode === value);\n        if (selectedItem) {\n          newSelections.hwCode = selectedItem.hwCode;\n        }\n      }\n      return newSelections;\n    });\n  };\n\n  // ì•…ì„¸ì‚¬ë¦¬ ë°ì´í„° ê°€ì ¸ì˜¤ê¸° (ì¬ì‹œë„ ë¡œì§ í¬í•¨)\n  const fetchAccessoryData = async (retryCount = 0) => {\n    const maxRetries = 3;\n    try {\n      console.log(`ì•…ì„¸ì‚¬ë¦¬ ë°ì´í„° ë¡œë”© ì‹œë„ ${retryCount + 1}/${maxRetries + 1}...`);\n      const accSearchRes = await fetch('http://localhost:5135/api/masterdata/acc/search');\n      if (accSearchRes.ok) {\n        const accSearchData = await accSearchRes.json();\n        console.log('ì•…ì„¸ì‚¬ë¦¬ ê²€ìƒ‰ ë°ì´í„° ë¡œë”© ì„±ê³µ:', accSearchData.length, 'ê°œ');\n\n        // ë©”ì´ì»¤ì™€ ëª¨ë¸ ë°ì´í„° ë¶„ë¦¬\n        const allAccMakerData = [];\n        const allAccModelData = [];\n        accSearchData.forEach(item => {\n          // ë©”ì´ì»¤ ë°ì´í„° (ì¤‘ë³µ ì œê±°)\n          const existingMaker = allAccMakerData.find(maker => maker.accMakerCode === item.accMakerCode && maker.accTypeCode === item.accTypeCode);\n          if (!existingMaker) {\n            allAccMakerData.push({\n              accMakerCode: item.accMakerCode,\n              accMakerName: item.accMakerName,\n              accTypeCode: item.accTypeCode\n            });\n          }\n\n          // ëª¨ë¸ ë°ì´í„°\n          allAccModelData.push({\n            accMakerCode: item.accMakerCode,\n            accModelCode: item.accModelCode,\n            accModelName: item.accModelName,\n            accSize: item.accSize,\n            accTypeCode: item.accTypeCode\n          });\n        });\n        setAccMakerList(allAccMakerData);\n        setAccModelList(allAccModelData);\n        console.log('ì•…ì„¸ì‚¬ë¦¬ ë°ì´í„° ì„¤ì • ì™„ë£Œ - ë©”ì´ì»¤:', allAccMakerData.length, 'ê°œ, ëª¨ë¸:', allAccModelData.length, 'ê°œ');\n\n        // ì•…ì„¸ì‚¬ë¦¬ ë°ì´í„° ë¡œë“œ ì™„ë£Œ í›„ accSelections ì´ˆê¸°í™”\n        const initialAccSelections = {\n          positioner: {\n            typeCode: 'Positioner',\n            makerCode: '',\n            modelCode: '',\n            specification: ''\n          },\n          solenoid: {\n            typeCode: 'Solenoid',\n            makerCode: '',\n            modelCode: '',\n            specification: ''\n          },\n          limiter: {\n            typeCode: 'Limit',\n            makerCode: '',\n            modelCode: '',\n            specification: ''\n          },\n          airSupply: {\n            typeCode: 'Airset',\n            makerCode: '',\n            modelCode: '',\n            specification: ''\n          },\n          volumeBooster: {\n            typeCode: 'Volume',\n            makerCode: '',\n            modelCode: '',\n            specification: ''\n          },\n          airOperator: {\n            typeCode: 'Airoperate',\n            makerCode: '',\n            modelCode: '',\n            specification: ''\n          },\n          lockUp: {\n            typeCode: 'Lockup',\n            makerCode: '',\n            modelCode: '',\n            specification: ''\n          },\n          snapActingRelay: {\n            typeCode: 'Snapacting',\n            makerCode: '',\n            modelCode: '',\n            specification: ''\n          }\n        };\n        setAccSelections(initialAccSelections);\n        return true; // ì„±ê³µ\n      } else {\n        console.error('ì•…ì„¸ì‚¬ë¦¬ ê²€ìƒ‰ API ì‘ë‹µ ì‹¤íŒ¨:', accSearchRes.status, accSearchRes.statusText);\n        return false; // ì‹¤íŒ¨\n      }\n    } catch (error) {\n      console.error('ì•…ì„¸ì‚¬ë¦¬ ê²€ìƒ‰ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);\n      return false; // ì‹¤íŒ¨\n    }\n  };\n\n  // ë§ˆìŠ¤í„° ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\n  const fetchMasterData = async () => {\n    try {\n      // Step 1, 2 ë§ˆìŠ¤í„° ë°ì´í„° (EstimateController)\n      const [sizeRes, matRes, trimMatRes, optionRes, ratingRes] = await Promise.all([fetch('http://localhost:5135/api/estimate/body-size-list'), fetch('http://localhost:5135/api/estimate/body-mat-list'), fetch('http://localhost:5135/api/estimate/trim-mat-list'), fetch('http://localhost:5135/api/estimate/trim-option-list'), fetch('http://localhost:5135/api/estimate/body-rating-list')]);\n      const [sizeData, matData, trimMatData, optionData, ratingData] = await Promise.all([sizeRes.json(), matRes.json(), trimMatRes.json(), optionRes.json(), ratingRes.json()]);\n      setBodySizeList(sizeData || []);\n      setBodyMatList(matData || []);\n      setTrimMatList(trimMatData || []);\n      setTrimOptionList(optionData || []);\n      setBodyRatingList(ratingData || []);\n      //console.log('BodyRatingList ë¡œë“œë¨:', ratingData); // ë””ë²„ê¹… ë¡œê·¸ ì¶”ê°€\n\n      // Step 3 ë§ˆìŠ¤í„° ë°ì´í„° (MasterDataController)\n      const [bodyBonnetRes, bodyConnectionRes, trimTypeRes, trimSeriesRes, trimPortSizeRes, trimFormRes, actTypeRes, actSeriesRes, actHWRes] = await Promise.all([fetch('http://localhost:5135/api/masterdata/body/bonnet'), fetch('http://localhost:5135/api/masterdata/body/connection'), fetch('http://localhost:5135/api/masterdata/trim-type'), fetch('http://localhost:5135/api/masterdata/trim/series'), fetch('http://localhost:5135/api/masterdata/trim/port-size'), fetch('http://localhost:5135/api/masterdata/trim/form'), fetch('http://localhost:5135/api/masterdata/act/type'), fetch('http://localhost:5135/api/masterdata/act/series'), fetch('http://localhost:5135/api/masterdata/act/hw')]);\n\n      // ê° API ì‘ë‹µì„ ê°œë³„ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ì—¬ ì—ëŸ¬ ë°œìƒ ì‹œì—ë„ ë‹¤ë¥¸ ë°ì´í„°ëŠ” ë¡œë“œí•  ìˆ˜ ìˆë„ë¡ í•¨\n      let bodyBonnetData = [],\n        bodyConnectionData = [],\n        trimTypeData = [],\n        trimSeriesData = [],\n        trimPortSizeData = [],\n        trimFormData = [],\n        actTypeData = [],\n        actSeriesData = [],\n        actHWData = [];\n      try {\n        bodyBonnetData = await bodyBonnetRes.json();\n        //console.log('Body Bonnet ë°ì´í„° ë¡œë“œ ì„±ê³µ:', bodyBonnetData.length);\n      } catch (e) {\n        console.error('Body Bonnet ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨:', e);\n      }\n      try {\n        bodyConnectionData = await bodyConnectionRes.json();\n        //console.log('Body Connection ë°ì´í„° ë¡œë“œ ì„±ê³µ:', bodyConnectionData.length);\n      } catch (e) {\n        console.error('Body Connection ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨:', e);\n      }\n      try {\n        trimTypeData = await trimTypeRes.json();\n        //console.log('Trim Type ë°ì´í„° ë¡œë“œ ì„±ê³µ:', trimTypeData.length);\n      } catch (e) {\n        console.error('Trim Type ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨:', e);\n      }\n      try {\n        trimSeriesData = await trimSeriesRes.json();\n        //console.log('Trim Series ë°ì´í„° ë¡œë“œ ì„±ê³µ:', trimSeriesData.length);\n      } catch (e) {\n        console.error('Trim Series ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨:', e);\n      }\n      try {\n        trimPortSizeData = await trimPortSizeRes.json();\n        //console.log('Trim Port Size ë°ì´í„° ë¡œë“œ ì„±ê³µ:', trimPortSizeData.length);\n      } catch (e) {\n        console.error('Trim Port Size ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨:', e);\n      }\n      try {\n        trimFormData = await trimFormRes.json();\n        //console.log('Trim Form ë°ì´í„° ë¡œë“œ ì„±ê³µ:', trimFormData.length);\n      } catch (e) {\n        console.error('Trim Form ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨:', e);\n      }\n      try {\n        actTypeData = await actTypeRes.json();\n        //console.log('Act Type ë°ì´í„° ë¡œë“œ ì„±ê³µ:', actTypeData.length);\n      } catch (e) {\n        console.error('Act Type ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨:', e);\n      }\n      try {\n        actSeriesData = await actSeriesRes.json();\n        //console.log('Act Series ë°ì´í„° ë¡œë“œ ì„±ê³µ:', actSeriesData.length);\n      } catch (e) {\n        console.error('Act Series ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨:', e);\n      }\n      try {\n        actHWData = await actHWRes.json();\n        //console.log('Act HW ë°ì´í„° ë¡œë“œ ì„±ê³µ:', actHWData.length);\n      } catch (e) {\n        console.error('Act HW ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨:', e);\n      }\n\n      // ì•…ì„¸ì‚¬ë¦¬ ë°ì´í„° ë¡œë”©ì€ ë³„ë„ í•¨ìˆ˜ë¡œ ë¶„ë¦¬í•˜ì—¬ ì¬ì‹œë„ ê°€ëŠ¥í•˜ë„ë¡ í•¨\n      await fetchAccessoryData();\n      setBodyBonnetList(bodyBonnetData || []);\n      setBodyConnectionList(bodyConnectionData || []);\n      setTrimTypeList(trimTypeData || []);\n      setTrimSeriesList(trimSeriesData || []);\n      setTrimPortSizeList(trimPortSizeData || []);\n      setTrimFormList(trimFormData || []);\n      setActTypeList(actTypeData || []);\n      setActSeriesList(actSeriesData || []);\n      setActHWList(actHWData || []);\n    } catch (error) {\n      console.error('ë§ˆìŠ¤í„° ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨:', error);\n\n      // ê°œë³„ API ì‘ë‹µ ìƒíƒœ í™•ì¸ì„ ìœ„í•œ ë¡œê¹… ì¶”ê°€\n      //console.log('ë§ˆìŠ¤í„° ë°ì´í„° ë¡œë”© ìƒíƒœ:');\n      //console.log('- Body Size:', bodySizeList.length);\n      //console.log('- Body Material:', bodyMatList.length);\n      //console.log('- Trim Material:', trimMatList.length);\n      //\n\n      // ì—ëŸ¬ ë°œìƒ ì‹œ ë¹ˆ ë°°ì—´ë¡œ ì„¤ì •\n      setBodySizeList([]);\n      setBodyMatList([]);\n      setTrimMatList([]);\n      setTrimOptionList([]);\n      setBodyRatingList([]);\n      setBodyBonnetList([]);\n      setBodyConnectionList([]);\n      setTrimTypeList([]);\n      setTrimSeriesList([]);\n      setTrimPortSizeList([]);\n      setTrimFormList([]);\n      setActTypeList([]);\n      setActSeriesList([]);\n      setActHWList([]);\n      setAccMakerList([]);\n      setAccModelList([]);\n    }\n  };\n\n  // í’ˆë²ˆ ìƒì„± í•¨ìˆ˜ - ì„¹ì…˜ë³„ë¡œ êµ¬ë¶„\n  const generatePartNumber = useMemo(() => {\n    try {\n      // BODY ì„¹ì…˜ (6ìë¦¬) - ì½”ë“œ ì‚¬ìš©\n      const bodySection = [bodySelections.bonnetTypeCode || '0', '2',\n      // valveSeries ê¸°ë³¸ê°’\n      bodySelections.materialBodyCode || '0', bodySelections.sizeBodyCode || '0', bodySelections.ratingCode || '0', bodySelections.connectionCode || '0'].join('');\n\n      // TRIM ì„¹ì…˜ (6ìë¦¬) - ì½”ë“œ ì‚¬ìš©\n      const trimSection = [trimSelections.trimTypeCode || '0', trimSelections.trimSeriesCode || '0', trimSelections.materialTrimCode || '0', trimSelections.sizePortCode || '0', trimSelections.sizePortCode || '0',\n      // ì¤‘ë³µ\n      trimSelections.formCode || '0'].join('');\n\n      // ACT ì„¹ì…˜ (4ìë¦¬) - ì½”ë“œ ì‚¬ìš©\n      const actSection = [actSelections.actionTypeCode || '0', actSelections.seriesCode || '0', actSelections.sizeCode || '0', actSelections.hwCode || '0'].join('');\n\n      // ACC ì„¹ì…˜ (11ìë¦¬)\n      const accSection = [accSelections.positioner.makerCode || '0', accSelections.positioner.modelCode || '0', accSelections.solenoid.makerCode || '0', accSelections.solenoid.modelCode || '0', accSelections.limiter.makerCode || '0', accSelections.limiter.modelCode || '0', accSelections.airSupply.modelCode || '0', accSelections.volumeBooster.modelCode || '0', accSelections.airOperator.modelCode || '0', accSelections.lockUp.modelCode || '0', accSelections.snapActingRelay.modelCode || '0'].join('');\n\n      // ì„¹ì…˜ì„ '-'ë¡œ êµ¬ë¶„í•˜ì—¬ ë°˜í™˜\n      return `${bodySection}-${trimSection}-${actSection}-${accSection}`;\n    } catch (error) {\n      console.error('í’ˆë²ˆ ìƒì„± ì¤‘ ì˜¤ë¥˜:', error);\n      return '000000-000000-0000-00000000000';\n    }\n  }, [bodySelections, trimSelections, actSelections, accSelections]);\n\n  // ê¸°ì¡´ ë°ì´í„° ë¡œë“œ\n  const loadExistingData = useCallback(async () => {\n    if (!tempEstimateNo) return;\n\n    //console.log('í˜„ì¬ tempEstimateNo:', tempEstimateNo); // tempEstimateNo ë¡œê·¸ ì¶”ê°€\n\n    try {\n      var _data$estimateSheet, _data$estimateSheet2;\n      // í˜„ì¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ì ì •ë³´ ê°€ì ¸ì˜¤ê¸°\n      const userStr = localStorage.getItem('user');\n      const currentUser = userStr ? JSON.parse(userStr) : null;\n\n      // currentUserIdëŠ” ì„ì‹œë¡œ 'admin' ì‚¬ìš© (ì‹¤ì œë¡œëŠ” ë¡œê·¸ì¸ëœ ì‚¬ìš©ì IDë¥¼ ì‚¬ìš©í•´ì•¼ í•¨)\n      const response = await getEstimateDetail(tempEstimateNo, (currentUser === null || currentUser === void 0 ? void 0 : currentUser.userId) || 'admin'); // ì‹¤ì œ ì‚¬ìš©ì ID ì‚¬ìš©\n      const data = response;\n\n      //console.log('ê²¬ì  ìƒì„¸ ë°ì´í„°:', data);\n\n      // í”„ë¡œì íŠ¸ëª… ì„¤ì •\n      if (data.estimateSheet && data.estimateSheet.project) {\n        setProjectName(data.estimateSheet.project);\n      }\n\n      // í˜„ì¬ ìƒíƒœ ì„¤ì •\n      if (data.estimateSheet && data.estimateSheet.statusText) {\n        //console.log('API ì‘ë‹µì˜ StatusText:', data.estimateSheet.statusText); // ì´ ë¼ì¸ ì¶”ê°€\n        setCurrentStatus(data.estimateSheet.statusText);\n      } else {\n        //console.log('API ì‘ë‹µì— estimateSheet.statusTextê°€ ì—†ê±°ë‚˜ ë¹„ì–´ìˆìŠµë‹ˆë‹¤.'); // ì´ ë¼ì¸ ì¶”ê°€\n      }\n\n      // ì½ê¸° ì „ìš© ìƒíƒœ ì„¤ì •\n      const isStatusThree = ((_data$estimateSheet = data.estimateSheet) === null || _data$estimateSheet === void 0 ? void 0 : _data$estimateSheet.status) === 3; // ìƒíƒœê°€ 3 (ê²¬ì ì²˜ë¦¬ì¤‘)ì¸ì§€\n      const isCurrentUserManager = (currentUser === null || currentUser === void 0 ? void 0 : currentUser.userId) === ((_data$estimateSheet2 = data.estimateSheet) === null || _data$estimateSheet2 === void 0 ? void 0 : _data$estimateSheet2.managerID); // í˜„ì¬ ì‚¬ìš©ìê°€ ë‹´ë‹¹ìì¸ì§€\n\n      const shouldBeReadOnly = !(isStatusThree && isCurrentUserManager); // ë‘˜ ë‹¤ ì°¸ì¼ ë•Œë§Œ false (ìˆ˜ì • ê°€ëŠ¥)\n      setIsReadOnly(shouldBeReadOnly);\n      //console.log('EstimateDetailPage isReadOnly ì„¤ì •ë¨:', shouldBeReadOnly);\n      //console.log('  status:', data.estimateSheet?.status, '(3ì´ë©´ ê²¬ì ì²˜ë¦¬ì¤‘)');\n      //console.log('  managerID:', data.estimateSheet?.managerID);\n      //console.log('  currentUser.userId:', currentUser?.userId);\n\n      // EstimateRequest ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ typesì™€ valves ì„¤ì •\n      if (data.estimateRequests && data.estimateRequests.length > 0) {\n        // Type ì •ë³´ ì„¤ì •\n        const typeMap = new Map();\n        data.estimateRequests.forEach(req => {\n          const valveType = req.valveType;\n          if (typeMap.has(valveType)) {\n            typeMap.get(valveType).count += req.tagNos.reduce((sum, tag) => sum + tag.qty, 0);\n          } else {\n            const totalQty = req.tagNos.reduce((sum, tag) => sum + tag.qty, 0);\n            typeMap.set(valveType, {\n              count: totalQty,\n              order: typeMap.size + 1\n            });\n          }\n        });\n        const typesData = Array.from(typeMap.entries()).map(([code, info]) => {\n          // bodyValveListê°€ ë¡œë“œë˜ì§€ ì•Šì€ ê²½ìš°ë¥¼ ëŒ€ë¹„í•˜ì—¬ ê¸°ë³¸ê°’ ì„¤ì •\n          const valveInfo = bodyValveList.find(v => v.valveSeriesCode === code);\n          return {\n            id: code,\n            name: valveInfo ? valveInfo.valveSeries : `Valve Type ${code}`,\n            code: code,\n            count: info.count,\n            order: info.order\n          };\n        });\n        setTypes(typesData);\n\n        // Valve ì •ë³´ ì„¤ì • - TagNoDetailDtoë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë³€í™˜\n        const valvesData = [];\n        data.estimateRequests.forEach(req => {\n          req.tagNos.forEach(tag => {\n            // Body Type ì´ë¦„ ê°€ì ¸ì˜¤ê¸°\n            const valveInfo = bodyValveList.find(v => v.valveSeriesCode === req.valveType);\n            const bodyTypeName = valveInfo ? valveInfo.valveSeries : `Valve Type ${req.valveType}`;\n\n            // Rating Unit ê°€ì ¸ì˜¤ê¸° (bodyRatingListì—ì„œ ì°¾ê¸°)\n            const ratingInfo = bodyRatingList.find(r => r.ratingCode === tag.bodyRating);\n            const ratingUnit = ratingInfo ? ratingInfo.ratingUnit : '';\n            valvesData.push({\n              id: `${tag.sheetID}`,\n              tagNo: tag.tagNo,\n              qty: tag.qty,\n              order: tag.sheetID,\n              sheetID: tag.sheetID,\n              typeId: req.valveType,\n              fluid: {\n                medium: tag.medium || '',\n                fluid: tag.fluid || '',\n                density: tag.density || '',\n                molecular: tag.molecularWeight || '',\n                t1: {\n                  max: tag.inletTemperatureQ || 0,\n                  normal: tag.inletTemperatureNorQ || 0,\n                  min: tag.inletTemperatureMinQ || 0\n                },\n                p1: {\n                  max: tag.inletPressureMaxQ || 0,\n                  normal: tag.inletPressureNorQ || 0,\n                  min: tag.inletPressureMinQ || 0\n                },\n                p2: {\n                  max: tag.outletPressureMaxQ || 0,\n                  normal: tag.outletPressureNorQ || 0,\n                  min: tag.outletPressureMinQ || 0\n                },\n                dp: {\n                  max: tag.differentialPressureMaxQ || 0,\n                  normal: tag.differentialPressureNorQ || 0,\n                  min: tag.differentialPressureMinQ || 0\n                },\n                qm: {\n                  max: tag.qmMax || 0,\n                  normal: tag.qmNor || 0,\n                  min: tag.qmMin || 0,\n                  unit: tag.qmUnit || ''\n                },\n                qn: {\n                  max: tag.qnMax || 0,\n                  normal: tag.qnNor || 0,\n                  min: tag.qnMin || 0,\n                  unit: tag.qnUnit || ''\n                },\n                pressureUnit: tag.pressureUnit || '',\n                temperatureUnit: tag.temperatureUnit || ''\n              },\n              body: {\n                type: bodyTypeName,\n                // Body Type ì´ë¦„ ì„¤ì •\n                typeCode: req.valveType || '',\n                size: tag.bodySize || '',\n                sizeUnit: tag.bodySizeUnit || '',\n                materialBody: tag.bodyMat || '',\n                materialTrim: tag.trimMat || '',\n                option: tag.trimOption || '',\n                rating: tag.bodyRating || '',\n                ratingUnit: ratingUnit // Rating Unit ì„¤ì •\n              },\n              actuator: {\n                type: tag.actType || '',\n                hw: tag.isHW ? 'Yes' : 'No'\n              },\n              accessory: {\n                positioner: {\n                  type: tag.positionerType || '',\n                  exists: tag.isPositioner || false\n                },\n                explosionProof: tag.explosionProof || '',\n                transmitter: {\n                  type: tag.transmitterType || '',\n                  exists: !!tag.transmitterType\n                },\n                solenoidValve: tag.isSolenoid || false,\n                limitSwitch: tag.isLimSwitch || false,\n                airSet: tag.isAirSet || false,\n                volumeBooster: tag.isVolumeBooster || false,\n                airOperatedValve: tag.isAirOperated || false,\n                lockupValve: tag.isLockUp || false,\n                snapActingRelay: tag.isSnapActingRelay || false\n              },\n              isQM: tag.isQM || false,\n              isP2: tag.isP2 || false,\n              isN1: false,\n              // EstimateRequestDetailDtoì—ëŠ” isN1ì´ ì—†ìŒ\n              isDensity: tag.isDensity || false,\n              isHW: tag.isHW || false\n            });\n          });\n        });\n        setValves(valvesData);\n\n        // ì²« ë²ˆì§¸ valveë¥¼ ê¸°ë³¸ ì„ íƒ\n        // if (valvesData.length > 0) {\n        //   setSelectedValve(valvesData[0]);\n        // }\n      }\n\n      // ê¸°íƒ€ ìš”ì²­ì‚¬í•­ ì„¤ì •\n      if (data.estimateSheet && data.estimateSheet.customerRequirement) {\n        setCustomerRequirement(data.estimateSheet.customerRequirement);\n      }\n\n      // ê´€ë¦¬ì ì½”ë©˜íŠ¸ ì„¤ì •\n      if (data.estimateSheet && data.estimateSheet.staffComment) {\n        setStaffComment(data.estimateSheet.staffComment);\n      }\n\n      // ì²¨ë¶€íŒŒì¼ ì„¤ì • - ê³ ê° ìš”ì²­ê³¼ ê´€ë¦¬ ì²¨ë¶€íŒŒì¼ ë¶„ë¦¬\n      if (data.attachments && data.attachments.length > 0) {\n        const customerFiles = [];\n        const managerFiles = [];\n        data.attachments.forEach(att => {\n          if (att.filePath && isCustomerFile(att.filePath)) {\n            customerFiles.push(att);\n          } else if (att.filePath && isManagerFile(att.filePath)) {\n            managerFiles.push(att);\n          }\n        });\n        setCustomerAttachments(customerFiles);\n        setManagerAttachments(managerFiles);\n\n        // ê¸°ì¡´ í˜¸í™˜ì„± ìœ ì§€\n        const fileList = data.attachments.map(att => ({\n          name: att.fileName || 'Unknown',\n          size: att.fileSize || 0\n        }));\n        setAttachments(fileList);\n      }\n    } catch (error) {\n      console.error('ê¸°ì¡´ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);\n    }\n  }, [tempEstimateNo, bodyValveList, bodyRatingList]);\n\n  // ìƒíƒœ ë³€ê²½ ì²˜ë¦¬\n  const handleStatusChange = async newStatus => {\n    try {\n      // ìƒíƒœ í…ìŠ¤íŠ¸ë¥¼ ìˆ«ì ì½”ë“œë¡œ ë³€í™˜í•˜ëŠ” í—¬í¼ í•¨ìˆ˜\n      const getStatusCodeFromText = statusText => {\n        switch (statusText) {\n          case 'ì„ì‹œì €ì¥':\n            return 1;\n          case 'ê²¬ì ìš”ì²­':\n            return 2;\n          case 'ê²¬ì ì²˜ë¦¬ì¤‘':\n            return 3;\n          case 'ê²¬ì ì™„ë£Œ':\n            return 4;\n          case 'ì£¼ë¬¸':\n            return 5;\n          default:\n            return -1;\n          // ì•Œ ìˆ˜ ì—†ëŠ” ìƒíƒœ\n        }\n      };\n      const newStatusCode = getStatusCodeFromText(newStatus);\n\n      // í˜„ì¬ ì‚¬ìš©ì ì •ë³´ì™€ ê²¬ì  ì •ë³´ ê°€ì ¸ì˜¤ê¸°\n      const userStr = localStorage.getItem('user');\n      const currentUser = userStr ? JSON.parse(userStr) : null;\n\n      // ê²¬ì  ìƒì„¸ ì •ë³´ ê°€ì ¸ì˜¤ê¸° (isReadOnly ê³„ì‚°ì„ ìœ„í•´)\n      if (!tempEstimateNo) {\n        throw new Error('tempEstimateNoê°€ ì—†ìŠµë‹ˆë‹¤.');\n      }\n      const estimateResponse = await getEstimateDetail(tempEstimateNo, (currentUser === null || currentUser === void 0 ? void 0 : currentUser.userId) || 'admin');\n      const estimateData = estimateResponse;\n\n      // ê²¬ì ìš”ì²­ ìƒíƒœ(2)ì—ì„œë§Œ ê²¬ì ì²˜ë¦¬ì¤‘(3)ìœ¼ë¡œ ë³€ê²½ ê°€ëŠ¥\n      // if (currentStatusCode === 2 && newStatusCode === 3) {\n      // ìƒíƒœ ë³€ê²½ API í˜¸ì¶œ\n      const response = await fetch(`/api/estimate/sheets/${tempEstimateNo}/status`, {\n        // API ê²½ë¡œ ìˆ˜ì •\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          status: newStatusCode\n        }) // ìˆ«ì ìƒíƒœ ì½”ë“œë¡œ ì „ì†¡\n      });\n      if (response.ok) {\n        var _estimateData$estimat;\n        setCurrentStatus(newStatus); // UI ìƒíƒœ ì—…ë°ì´íŠ¸ (ë¬¸ìì—´ë¡œ ìœ ì§€)\n\n        // ìƒíƒœ ë³€ê²½ í›„ isReadOnly ì¬ê³„ì‚°\n        const newStatusCode = getStatusCodeFromText(newStatus);\n        const isStatusThree = newStatusCode === 3; // ìƒíƒœê°€ 3 (ê²¬ì ì²˜ë¦¬ì¤‘)ì¸ì§€\n        const isCurrentUserManager = (currentUser === null || currentUser === void 0 ? void 0 : currentUser.userId) === ((_estimateData$estimat = estimateData.estimateSheet) === null || _estimateData$estimat === void 0 ? void 0 : _estimateData$estimat.managerID); // í˜„ì¬ ì‚¬ìš©ìê°€ ë‹´ë‹¹ìì¸ì§€\n        const shouldBeReadOnly = !(isStatusThree && isCurrentUserManager); // ë‘˜ ë‹¤ ì°¸ì¼ ë•Œë§Œ false (ìˆ˜ì • ê°€ëŠ¥)\n        setIsReadOnly(shouldBeReadOnly);\n        alert('ìƒíƒœê°€ ì„±ê³µì ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.'); // ë©”ì‹œì§€ ì¼ë°˜í™”\n        // ìƒíƒœ ë³€ê²½ í›„ ìƒì„¸ ì •ë³´ë¥¼ ë‹¤ì‹œ ë¶ˆëŸ¬ì˜¤ëŠ” ë¡œì§ì´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n        // loadEstimateDetail(); // ìƒì„¸ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” í•¨ìˆ˜ê°€ ìˆë‹¤ë©´ í˜¸ì¶œ\n      } else {\n        // ì‘ë‹µ ë³¸ë¬¸ì„ ì½ì–´ì„œ ë” ìì„¸í•œ ì˜¤ë¥˜ ë©”ì‹œì§€ í™•ì¸\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'ìƒíƒœ ë³€ê²½ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');\n      }\n      // } else { // ì´ else ë¸”ë¡ë„ ì œê±°í•©ë‹ˆë‹¤.\n      //   alert('ê²¬ì ìš”ì²­ ìƒíƒœì—ì„œë§Œ ê²¬ì ì²˜ë¦¬ì¤‘ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.');\n      // }\n    } catch (error) {\n      console.error('ìƒíƒœ ë³€ê²½ ì‹¤íŒ¨:', error.message);\n      alert(`ìƒíƒœ ë³€ê²½ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ${error.message}`);\n    }\n  };\n\n  // ì²¨ë¶€íŒŒì¼ ê´€ë ¨ í•¨ìˆ˜ë“¤\n  const handleDownloadFile = async (file, type) => {\n    try {\n      if (type === 'customer' && !file.fileName.toLowerCase().endsWith('.pdf')) {\n        alert('ê³ ê°ì€ PDF íŒŒì¼ë§Œ ë‹¤ìš´ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.');\n        return;\n      }\n\n      // íŒŒì¼ ë‹¤ìš´ë¡œë“œ API í˜¸ì¶œ\n      const response = await fetch(`/api/estimate/attachments/${file.attachmentID}/download`);\n      if (response.ok) {\n        const blob = await response.blob();\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = file.fileName;\n        document.body.appendChild(a);\n        a.click();\n        window.URL.revokeObjectURL(url);\n        document.body.removeChild(a);\n      } else {\n        alert('íŒŒì¼ ë‹¤ìš´ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');\n      }\n    } catch (error) {\n      console.error('íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì˜¤ë¥˜:', error);\n      alert('íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');\n    }\n  };\n  const handleUploadManagerFile = async fileType => {\n    const file = selectedPdfFiles[fileType];\n    if (!file) {\n      alert('ì—…ë¡œë“œí•  PDF íŒŒì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');\n      return;\n    }\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n\n      // ğŸ”‘ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¡œ ì „ì†¡í•˜ë„ë¡ ìˆ˜ì •\n      const response = await fetch(`http://localhost:5135/api/estimate/sheets/${tempEstimateNo}/attachments?uploadUserID=admin&fileType=manager&managerFileType=${fileType}`, {\n        method: 'POST',\n        body: formData\n      });\n      if (response.ok) {\n        alert('PDF íŒŒì¼ì´ ì„±ê³µì ìœ¼ë¡œ ì—…ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.');\n\n        // ğŸ”‘ íŒŒì¼ ëª©ë¡ ìƒˆë¡œê³ ì¹¨ - ë” í™•ì‹¤í•˜ê²Œ ì²˜ë¦¬\n        console.log('ğŸ”„ íŒŒì¼ ì—…ë¡œë“œ ì™„ë£Œ, ëª©ë¡ ìƒˆë¡œê³ ì¹¨ ì‹œì‘');\n        await fetchManagerFiles();\n        await fetchCustomerFiles();\n\n        // ğŸ”‘ ì¶”ê°€ë¡œ ì ì‹œ í›„ í•œ ë²ˆ ë” ìƒˆë¡œê³ ì¹¨ (ë°±ì—”ë“œ ì²˜ë¦¬ ì§€ì—° ê³ ë ¤)\n        setTimeout(async () => {\n          console.log('ğŸ”„ ì§€ì—° ìƒˆë¡œê³ ì¹¨ ì‹¤í–‰');\n          await fetchManagerFiles();\n          await fetchCustomerFiles();\n        }, 1000);\n\n        // ğŸ”‘ ì—‘ì…€ íŒŒì¼ë„ í•¨ê»˜ ìƒˆë¡œê³ ì¹¨ (ë°±ì—”ë“œ êµì²´ ë¡œì§ ë¬¸ì œ í•´ê²°)\n        setTimeout(async () => {\n          console.log('ğŸ”„ ì—‘ì…€ íŒŒì¼ ìƒˆë¡œê³ ì¹¨ ì‹¤í–‰');\n          await fetchManagerFiles();\n          await fetchCustomerFiles();\n        }, 2000);\n\n        // ì„ íƒëœ íŒŒì¼ ì´ˆê¸°í™”\n        setSelectedPdfFiles(prev => ({\n          ...prev,\n          [fileType]: null\n        }));\n\n        // íŒŒì¼ ì…ë ¥ ì´ˆê¸°í™” - í•´ë‹¹ IDì˜ ì…ë ¥ë§Œ ì´ˆê¸°í™”\n        const fileInput = document.getElementById(`pdf-${fileType}`);\n        if (fileInput) fileInput.value = '';\n      } else {\n        const error = await response.json();\n        alert(`PDF ì—…ë¡œë“œ ì‹¤íŒ¨: ${error.message}`);\n      }\n    } catch (error) {\n      console.error('PDF ì—…ë¡œë“œ ì¤‘ ì˜¤ë¥˜:', error);\n      alert('PDF ì—…ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');\n    }\n  };\n  const handleGenerateDatasheet = async () => {\n    try {\n      // TODO: ì‚¬ìš©ìê°€ ë‚˜ì¤‘ì— ì œê³µí•  Datasheet ìƒì„± ë¡œì§\n      alert('Datasheet ìƒì„± ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.');\n    } catch (error) {\n      console.error('Datasheet ìƒì„± ì˜¤ë¥˜:', error);\n      alert('Datasheet ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');\n    }\n  };\n  const handleGenerateFile = async managerFileType => {\n    try {\n      let apiEndpoint = '';\n      let fileTypeName = '';\n      switch (managerFileType) {\n        case 'cvlist':\n          apiEndpoint = `http://localhost:5135/api/estimate/sheets/${tempEstimateNo}/generate-cv`;\n          fileTypeName = 'CV ë¦¬ìŠ¤íŠ¸';\n          break;\n        case 'vllist':\n          apiEndpoint = `http://localhost:5135/api/estimate/sheets/${tempEstimateNo}/generate-vl`;\n          fileTypeName = 'VL ë¦¬ìŠ¤íŠ¸';\n          break;\n        case 'datasheet':\n          apiEndpoint = `http://localhost:5135/api/estimate/sheets/${tempEstimateNo}/generate-datasheet`;\n          fileTypeName = 'DataSheet';\n          break;\n        case 'singlequote':\n          apiEndpoint = `http://localhost:5135/api/estimate/sheets/${tempEstimateNo}/generate-single-quote`;\n          fileTypeName = 'ë‹¨í’ˆê²¬ì ì„œ';\n          break;\n        case 'multiquote':\n          apiEndpoint = `http://localhost:5135/api/estimate/sheets/${tempEstimateNo}/generate-multi-quote`;\n          fileTypeName = 'ë‹¤ìˆ˜ëŸ‰ê²¬ì ì„œ';\n          break;\n        default:\n          alert('ì§€ì›í•˜ì§€ ì•ŠëŠ” íŒŒì¼ íƒ€ì…ì…ë‹ˆë‹¤.');\n          return;\n      }\n      console.log(`${fileTypeName} ìƒì„± ì‹œì‘:`, tempEstimateNo);\n      const response = await fetch(apiEndpoint, {\n        method: 'POST'\n      });\n      if (response.ok) {\n        const result = await response.json();\n        alert(`${fileTypeName}ê°€ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!\\n\\nìƒì„±ëœ íŒŒì¼:\\n${result.fileName}`);\n        console.log(`${fileTypeName} ìƒì„± ì„±ê³µ:`, result);\n\n        // ğŸ”‘ íŒŒì¼ ìƒì„± ì™„ë£Œ í›„ ìë™ ìƒˆë¡œê³ ì¹¨ ì¶”ê°€\n        await fetchManagerFiles();\n        await fetchCustomerFiles();\n\n        // ê¸°ì¡´ ì²¨ë¶€íŒŒì¼ ëª©ë¡ë„ ìƒˆë¡œê³ ì¹¨\n        loadExistingData();\n      } else {\n        const error = await response.json();\n        alert(`${fileTypeName} ìƒì„± ì‹¤íŒ¨: ${error.message}`);\n        console.error(`${fileTypeName} ìƒì„± ì‹¤íŒ¨:`, error);\n      }\n    } catch (error) {\n      console.error('íŒŒì¼ ìƒì„± ì˜¤ë¥˜:', error);\n      alert('íŒŒì¼ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');\n    }\n  };\n  const handleDeleteManagerFile = async file => {\n    try {\n      if (window.confirm('ì •ë§ë¡œ ì´ íŒŒì¼ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {\n        const response = await fetch(`/api/estimate/attachments/${file.attachmentID}`, {\n          method: 'DELETE'\n        });\n        if (response.ok) {\n          alert('íŒŒì¼ì´ ì„±ê³µì ìœ¼ë¡œ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');\n          loadExistingData(); // ì²¨ë¶€íŒŒì¼ ëª©ë¡ ìƒˆë¡œê³ ì¹¨\n        } else {\n          alert('íŒŒì¼ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');\n        }\n      }\n    } catch (error) {\n      console.error('íŒŒì¼ ì‚­ì œ ì˜¤ë¥˜:', error);\n      alert('íŒŒì¼ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');\n    }\n  };\n\n  // ì‚¬ì–‘ ì €ì¥ í•¨ìˆ˜\n  const handleSaveSpecification = useCallback(async () => {\n    try {\n      var _accSelections$positi, _accSelections$positi2, _accSelections$soleno, _accSelections$soleno2, _accSelections$limite, _accSelections$limite2, _accSelections$airSup, _accSelections$airSup2, _accSelections$volume, _accSelections$volume2, _accSelections$airOpe, _accSelections$airOpe2, _accSelections$lockUp, _accSelections$lockUp2, _accSelections$snapAc, _accSelections$snapAc2;\n      if (!selectedValve) {\n        alert('ì €ì¥í•  ë°¸ë¸Œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.');\n        return;\n      }\n      const specificationData = {\n        valveId: selectedValve.body.typeCode,\n        body: {\n          bonnetType: bodySelections.bonnetType || '',\n          materialBody: bodySelections.materialBody || '',\n          // materialTrim: trimSelections.materialTrim || '', // Bodyì—ì„œ Trimìœ¼ë¡œ ì´ë™\n          // option: selectedValve.body.option || '', // Trimìœ¼ë¡œ ì´ë™ ë° trimSelections.option ì‚¬ìš©\n          rating: bodySelections.ratingCode || '',\n          // ratingCode ì‚¬ìš© (Code ê°’)\n          ratingUnit: bodySelections.ratingUnitCode || '',\n          // ratingUnitCode ì‚¬ìš© (Code ê°’)\n          connection: bodySelections.connection || '',\n          sizeUnit: bodySelections.sizeBodyUnitCode || '',\n          // sizeBodyUnitCode ì‚¬ìš© (Code ê°’)\n          size: bodySelections.sizeBodyCode || '' // sizeBodyCode ì‚¬ìš© (Code ê°’)\n        },\n        trim: {\n          type: trimSelections.trimType || '',\n          series: trimSelections.trimSeries || '',\n          portSize: trimSelections.sizePortCode || '',\n          // sizePortCode ì‚¬ìš© (Code ê°’)\n          portSizeUnit: trimSelections.sizePortUnitCode || '',\n          // sizePortUnitCode ì‚¬ìš© (Code ê°’)\n          form: trimSelections.form || '',\n          materialTrim: trimSelections.materialTrim || '',\n          // Trimì— materialTrim ì¶”ê°€\n          option: trimSelections.option || '' // Trimì— option ê°’ ì¶”ê°€\n        },\n        actuator: {\n          type: actSelections.actionType || '',\n          series: actSelections.series || '',\n          size: actSelections.size || '',\n          hw: actSelections.hw || ''\n        },\n        accessories: {\n          PosCode: ((_accSelections$positi = accSelections.positioner) === null || _accSelections$positi === void 0 ? void 0 : _accSelections$positi.modelCode) || null,\n          PosMakerCode: ((_accSelections$positi2 = accSelections.positioner) === null || _accSelections$positi2 === void 0 ? void 0 : _accSelections$positi2.makerCode) || null,\n          SolCode: ((_accSelections$soleno = accSelections.solenoid) === null || _accSelections$soleno === void 0 ? void 0 : _accSelections$soleno.modelCode) || null,\n          SolMakerCode: ((_accSelections$soleno2 = accSelections.solenoid) === null || _accSelections$soleno2 === void 0 ? void 0 : _accSelections$soleno2.makerCode) || null,\n          LimCode: ((_accSelections$limite = accSelections.limiter) === null || _accSelections$limite === void 0 ? void 0 : _accSelections$limite.modelCode) || null,\n          LimMakerCode: ((_accSelections$limite2 = accSelections.limiter) === null || _accSelections$limite2 === void 0 ? void 0 : _accSelections$limite2.makerCode) || null,\n          ASCode: ((_accSelections$airSup = accSelections.airSupply) === null || _accSelections$airSup === void 0 ? void 0 : _accSelections$airSup.modelCode) || null,\n          ASMakerCode: ((_accSelections$airSup2 = accSelections.airSupply) === null || _accSelections$airSup2 === void 0 ? void 0 : _accSelections$airSup2.makerCode) || null,\n          VolCode: ((_accSelections$volume = accSelections.volumeBooster) === null || _accSelections$volume === void 0 ? void 0 : _accSelections$volume.modelCode) || null,\n          VolMakerCode: ((_accSelections$volume2 = accSelections.volumeBooster) === null || _accSelections$volume2 === void 0 ? void 0 : _accSelections$volume2.makerCode) || null,\n          AirOpCode: ((_accSelections$airOpe = accSelections.airOperator) === null || _accSelections$airOpe === void 0 ? void 0 : _accSelections$airOpe.modelCode) || null,\n          AirOpMakerCode: ((_accSelections$airOpe2 = accSelections.airOperator) === null || _accSelections$airOpe2 === void 0 ? void 0 : _accSelections$airOpe2.makerCode) || null,\n          LockupCode: ((_accSelections$lockUp = accSelections.lockUp) === null || _accSelections$lockUp === void 0 ? void 0 : _accSelections$lockUp.modelCode) || null,\n          LockupMakerCode: ((_accSelections$lockUp2 = accSelections.lockUp) === null || _accSelections$lockUp2 === void 0 ? void 0 : _accSelections$lockUp2.makerCode) || null,\n          SnapActCode: ((_accSelections$snapAc = accSelections.snapActingRelay) === null || _accSelections$snapAc === void 0 ? void 0 : _accSelections$snapAc.modelCode) || null,\n          SnapActMakerCode: ((_accSelections$snapAc2 = accSelections.snapActingRelay) === null || _accSelections$snapAc2 === void 0 ? void 0 : _accSelections$snapAc2.makerCode) || null\n        }\n      };\n\n      // ë””ë²„ê¹…ìš© ë¡œê·¸ ì¶”ê°€\n      console.log('ì„ íƒëœ ë°¸ë¸Œ ì •ë³´:', selectedValve);\n      console.log('ì „ì†¡í•  ì‚¬ì–‘ ë°ì´í„°:', specificationData);\n      console.log('=== ë””ë²„ê¹… ìƒì„¸ ì •ë³´ ===');\n      console.log('bodySelections:', bodySelections);\n      console.log('trimSelections:', trimSelections);\n      console.log('=== ì „ì†¡ë  ë°ì´í„° ìƒì„¸ ===');\n      console.log('Body Size:', bodySelections.sizeBodyCode);\n      console.log('Body SizeUnit:', bodySelections.sizeBodyUnitCode);\n      console.log('Body Rating:', bodySelections.ratingCode);\n      console.log('Trim PortSize:', trimSelections.sizePortCode);\n      console.log('Trim PortSizeUnit:', trimSelections.sizePortUnitCode);\n      const saveSpecDto = {\n        ...specificationData,\n        Accessories: specificationData.accessories\n      };\n      console.log('ì‚¬ì–‘ ì €ì¥ ìš”ì²­ DTO:', saveSpecDto); // DTO ì „ì²´ ë¡œê·¸\n      console.log('ì•…ì„¸ì‚¬ë¦¬ ì „ì†¡ ë°ì´í„° (handleSaveSpecification):', saveSpecDto.Accessories); // ì•…ì„¸ì‚¬ë¦¬ ë°ì´í„°ë§Œ ìƒì„¸ ë¡œê·¸\n\n      try {\n        const response = await fetch(`http://localhost:5135/api/estimate/sheets/${tempEstimateNo}/requests/${selectedValve.sheetID}/specification`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(saveSpecDto)\n        });\n        if (response.ok) {\n          alert('ì‚¬ì–‘ì´ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');\n        } else {\n          alert('ì‚¬ì–‘ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');\n        }\n      } catch (error) {\n        console.error('ì‚¬ì–‘ ì €ì¥ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:', error);\n        alert('ì‚¬ì–‘ ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');\n      }\n    } catch (error) {\n      console.error('ì‚¬ì–‘ ì €ì¥ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:', error);\n      alert('ì‚¬ì–‘ ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');\n    }\n  }, [selectedValve, bodySelections, trimSelections, actSelections, accSelections, tempEstimateNo]);\n  const AccessorySelector = ({\n    accTypeKey,\n    accSelections,\n    setAccSelections,\n    accMakerList,\n    accModelList\n  }) => {\n    _s();\n    const [makerSearchTerm, setMakerSearchTerm] = useState('');\n    const [modelSearchTerm, setModelSearchTerm] = useState('');\n    const [specSearchTerm, setSpecSearchTerm] = useState('');\n    const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n    const [isSelected, setIsSelected] = useState(false); // ì„ íƒ ì—¬ë¶€ ìƒíƒœ ì¶”ê°€\n    const dropdownRef = useRef(null);\n    const currentAcc = accSelections[accTypeKey];\n    const typeCode = currentAcc === null || currentAcc === void 0 ? void 0 : currentAcc.typeCode;\n\n    // ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ ì‹œ ë˜ëŠ” accSelections ë³€ê²½ ì‹œ ì…ë ¥ í•„ë“œ ì´ˆê¸°í™” ë° ì„ íƒ ìƒíƒœ ì„¤ì •\n    useEffect(() => {\n      if (currentAcc !== null && currentAcc !== void 0 && currentAcc.modelCode) {\n        var _accMakerList$find, _accModelList$find;\n        const selectedMakerName = ((_accMakerList$find = accMakerList.find(maker => maker.accMakerCode === (currentAcc === null || currentAcc === void 0 ? void 0 : currentAcc.makerCode))) === null || _accMakerList$find === void 0 ? void 0 : _accMakerList$find.accMakerName) || '';\n        const selectedModelName = ((_accModelList$find = accModelList.find(model => model.accModelCode === (currentAcc === null || currentAcc === void 0 ? void 0 : currentAcc.modelCode))) === null || _accModelList$find === void 0 ? void 0 : _accModelList$find.accModelName) || '';\n        setMakerSearchTerm(selectedMakerName);\n        setModelSearchTerm(selectedModelName);\n        setSpecSearchTerm(currentAcc.specification || '');\n        setIsSelected(true); // ëª¨ë¸ì´ ì´ë¯¸ ì„ íƒë˜ì–´ ìˆìœ¼ë©´ isSelectedë¥¼ trueë¡œ\n      } else {\n        setMakerSearchTerm('');\n        setModelSearchTerm('');\n        setSpecSearchTerm('');\n        setIsSelected(false); // ëª¨ë¸ì´ ì—†ìœ¼ë©´ isSelectedë¥¼ falseë¡œ\n      }\n    }, [currentAcc, accMakerList, accModelList]);\n\n    // í†µí•© ê²€ìƒ‰ í•„í„°ë§ ë¡œì§\n    const filteredModels = useMemo(() => {\n      const allSearchTerms = [makerSearchTerm, modelSearchTerm, specSearchTerm].filter(term => term);\n      if (allSearchTerms.length === 0) {\n        // ê²€ìƒ‰ì–´ê°€ ì—†ìœ¼ë©´ í•´ë‹¹ íƒ€ì… ì½”ë“œì™€ ì¼ì¹˜í•˜ëŠ” ì „ì²´ ëª¨ë¸ ë°˜í™˜\n        return accModelList.filter(item => item.accTypeCode === typeCode);\n      }\n      const lowerCaseSearchWords = allSearchTerms.map(term => term.toLowerCase().split(' ').filter(word => word)).flat();\n      return accModelList.filter(item => {\n        var _accMakerList$find2;\n        if (!typeCode || item.accTypeCode !== typeCode) {\n          return false;\n        }\n        const makerName = (((_accMakerList$find2 = accMakerList.find(maker => maker.accMakerCode === item.accMakerCode)) === null || _accMakerList$find2 === void 0 ? void 0 : _accMakerList$find2.accMakerName) || '').toLowerCase();\n        const modelName = (item.accModelName || '').toLowerCase();\n        const specification = (item.accSize || '').toLowerCase();\n\n        // ëª¨ë“  ê²€ìƒ‰ ë‹¨ì–´ë¥¼ ëª¨ë“  í•„ë“œì—ì„œ AND ê²€ìƒ‰\n        return lowerCaseSearchWords.every(word => makerName.includes(word) || modelName.includes(word) || specification.includes(word));\n      });\n    }, [makerSearchTerm, modelSearchTerm, specSearchTerm, accModelList, accMakerList, typeCode]);\n\n    // ì•…ì„¸ì‚¬ë¦¬ ì„ íƒ í•¸ë“¤ëŸ¬\n    const handleSelectAccessory = selectedModel => {\n      var _accMakerList$find3;\n      setAccSelections(prev => ({\n        ...prev,\n        [accTypeKey]: {\n          typeCode: selectedModel.accTypeCode,\n          makerCode: selectedModel.accMakerCode,\n          modelCode: selectedModel.accModelCode,\n          specification: selectedModel.accSize || ''\n        }\n      }));\n      // ì„ íƒ ì‹œ ì„¸ ì…ë ¥ í•„ë“œë¥¼ ì„ íƒëœ ê°’ìœ¼ë¡œ ì±„ìš°ê¸°\n      const selectedMakerName = ((_accMakerList$find3 = accMakerList.find(maker => maker.accMakerCode === selectedModel.accMakerCode)) === null || _accMakerList$find3 === void 0 ? void 0 : _accMakerList$find3.accMakerName) || '';\n      setMakerSearchTerm(selectedMakerName);\n      setModelSearchTerm(selectedModel.accModelName || '');\n      setSpecSearchTerm(selectedModel.accSize || '');\n      setIsDropdownOpen(false);\n      setIsSelected(true); // ì„ íƒ ì™„ë£Œ ì‹œ isSelectedë¥¼ trueë¡œ\n    };\n\n    // ì„ íƒ í•´ì œ í•¸ë“¤ëŸ¬\n    const handleReset = () => {\n      setAccSelections(prev => ({\n        ...prev,\n        [accTypeKey]: {\n          typeCode: typeCode || '',\n          // ê¸°ì¡´ typeCode ìœ ì§€\n          makerCode: '',\n          modelCode: '',\n          specification: ''\n        }\n      }));\n      setMakerSearchTerm('');\n      setModelSearchTerm('');\n      setSpecSearchTerm('');\n      setIsSelected(false); // ì„ íƒ í•´ì œ ì‹œ isSelectedë¥¼ falseë¡œ\n      setIsDropdownOpen(false); // ë“œë¡­ë‹¤ìš´ ë‹«ê¸°\n    };\n\n    // ì™¸ë¶€ í´ë¦­ ê°ì§€ (ë“œë¡­ë‹¤ìš´ ë‹«ê¸°)\n    useEffect(() => {\n      const handleClickOutside = event => {\n        if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n          setIsDropdownOpen(false);\n        }\n      };\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => {\n        document.removeEventListener('mousedown', handleClickOutside);\n      };\n    }, []);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"accessory-selector\",\n      ref: dropdownRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\uBA54\\uC774\\uCEE4\",\n          value: makerSearchTerm,\n          onChange: e => {\n            if (!isSelected) {\n              setMakerSearchTerm(e.target.value);\n              setIsDropdownOpen(true);\n            }\n          },\n          onFocus: () => {\n            if (!isSelected) setIsDropdownOpen(true);\n          },\n          readOnly: isSelected || isReadOnly // isReadOnly ìƒíƒœì— ë”°ë¼ ì½ê¸° ì „ìš©\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1651,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\uBAA8\\uB378\\uBA85\",\n          value: modelSearchTerm,\n          onChange: e => {\n            if (!isSelected) {\n              setModelSearchTerm(e.target.value);\n              setIsDropdownOpen(true);\n            }\n          },\n          onFocus: () => {\n            if (!isSelected) setIsDropdownOpen(true);\n          },\n          readOnly: isSelected || isReadOnly\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1659,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\uADDC\\uACA9\",\n          value: specSearchTerm,\n          onChange: e => {\n            if (!isSelected) {\n              setSpecSearchTerm(e.target.value);\n              setIsDropdownOpen(true);\n            }\n          },\n          onFocus: () => {\n            if (!isSelected) setIsDropdownOpen(true);\n          },\n          readOnly: isSelected || isReadOnly\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1667,\n          columnNumber: 11\n        }, this), isSelected && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleReset,\n          className: \"reset-button\",\n          disabled: isReadOnly,\n          children: \"\\uCD08\\uAE30\\uD654\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1676,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1650,\n        columnNumber: 9\n      }, this), isDropdownOpen && /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"dropdown-list\",\n        children: filteredModels.length > 0 ? filteredModels.map(item => {\n          var _accMakerList$find4;\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: () => {\n              if (!isReadOnly) handleSelectAccessory(item);\n            } // isReadOnlyì¼ ë•Œ í´ë¦­ ë¶ˆê°€\n            ,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"dropdown-maker\",\n              children: ((_accMakerList$find4 = accMakerList.find(maker => maker.accMakerCode === item.accMakerCode)) === null || _accMakerList$find4 === void 0 ? void 0 : _accMakerList$find4.accMakerName) || ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1687,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"dropdown-model\",\n              children: item.accModelName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1688,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"dropdown-spec\",\n              children: item.accSize || ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1689,\n              columnNumber: 19\n            }, this)]\n          }, `${item.accTypeCode}-${item.accMakerCode}-${item.accModelCode}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1683,\n            columnNumber: 17\n          }, this);\n        }) : /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"\\uAC80\\uC0C9 \\uACB0\\uACFC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1693,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1680,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1649,\n      columnNumber: 7\n    }, this);\n  };\n  // ì´ˆê¸°í™”\n  _s(AccessorySelector, \"JbIIy0+rpYFbtf+2edrp2rZvFy0=\");\n  useEffect(() => {\n    console.log('EstimateDetailPage ì´ˆê¸°í™” ì‹œì‘');\n    fetchBodyValveList();\n    fetchMasterData();\n  }, []); // ì˜ì¡´ì„± ë°°ì—´ ë¹„ì›€ - ì´ˆê¸° ë¡œë“œë§Œ í•„ìš”\n\n  // bodyValveListì™€ bodyRatingListê°€ ë¡œë“œëœ í›„ ê¸°ì¡´ ë°ì´í„° ë¡œë“œ\n  useEffect(() => {\n    console.log('useEffect ì‹¤í–‰:', {\n      bodyValveListLength: bodyValveList.length,\n      bodyRatingListLength: bodyRatingList.length,\n      tempEstimateNo\n    });\n    if (bodyValveList.length > 0 && bodyRatingList.length > 0 && tempEstimateNo) {\n      console.log('loadExistingData í˜¸ì¶œ ì‹œì‘');\n      loadExistingData();\n    }\n  }, [bodyValveList.length, bodyRatingList.length, tempEstimateNo]); // loadExistingData ì˜ì¡´ì„± ì œê±°\n\n  // bodyValveListê°€ ë¡œë“œëœ í›„ íƒ€ì… ì •ë³´ ì—…ë°ì´íŠ¸\n  useEffect(() => {\n    if (bodyValveList.length > 0 && types.length > 0) {\n      const updatedTypes = types.map(type => {\n        const valveInfo = bodyValveList.find(v => v.valveSeriesCode === type.code);\n        return {\n          ...type,\n          name: valveInfo ? valveInfo.valveSeries : type.name\n        };\n      });\n\n      // ì‹¤ì œë¡œ ë³€ê²½ëœ ê²½ìš°ì—ë§Œ ì—…ë°ì´íŠ¸\n      const hasChanges = updatedTypes.some((updatedType, index) => updatedType.name !== types[index].name);\n      if (hasChanges) {\n        setTypes(updatedTypes);\n      }\n    }\n  }, [bodyValveList]); // types ì˜ì¡´ì„± ì œê±° - ë¬´í•œ ë£¨í”„ ë°©ì§€\n\n  // selectedValveê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ê¸°ì¡´ ì‚¬ì–‘ ë°ì´í„° ë¡œë“œ\n  useEffect(() => {\n    if (selectedValve) {\n      // ì´ˆê¸° ë¡œë“œë§Œ í•„ìš”í•˜ë¯€ë¡œ ì—¬ê¸°ì„œëŠ” ì•„ë¬´ê²ƒë„ í•˜ì§€ ì•ŠìŒ\n      // handleValveSelectionì—ì„œ ì²˜ë¦¬ë¨\n    }\n  }, [selectedValve]);\n\n  // selectedTypeì´ ë³€ê²½ë˜ë©´ selectedValveë¥¼ ì´ˆê¸°í™”í•˜ì—¬ Step 3ë¥¼ ìˆ¨ê¹€\n  useEffect(() => {\n    setSelectedValve(null);\n  }, [selectedType]);\n\n  // ì´ˆê¸° ì‚¬ì–‘ ë°ì´í„° ë¡œë“œ (DBì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°)\n  const loadInitialSpecification = async sheetID => {\n    console.log('loadInitialSpecification í˜¸ì¶œë¨, sheetID:', sheetID); // sheetID ë¡œê·¸ ì¶”ê°€\n\n    try {\n      if (!tempEstimateNo) {\n        console.error(\"tempEstimateNoê°€ ì—†ìŠµë‹ˆë‹¤.\");\n        return;\n      }\n      const response = await fetch(`http://localhost:5135/api/estimate/sheets/${tempEstimateNo}/specification/${sheetID}`);\n      if (response.ok) {\n        const specificationData = await response.json();\n        console.log('--- ì‹¤ì œ Accessories ë°ì´í„° êµ¬ì¡° ---', specificationData.accessories);\n        if (specificationData.accessories) {\n          console.log('ê°œë³„ ì•…ì„¸ì‚¬ë¦¬ ë°ì´í„° (Positioner):', specificationData.accessories.positioner);\n          console.log('ê°œë³„ ì•…ì„¸ì‚¬ë¦¬ ë°ì´í„° (Solenoid):', specificationData.accessories.solenoid);\n          console.log('ê°œë³„ ì•…ì„¸ì‚¬ë¦¬ ë°ì´í„° (AirOperator):', specificationData.accessories.airOperator);\n          console.log('ê°œë³„ ì•…ì„¸ì‚¬ë¦¬ ë°ì´í„° (LockUp):', specificationData.accessories.lockUp);\n        }\n\n        // Body ì‚¬ì–‘ ë°ì´í„° ì„¤ì • (ì´ˆê¸°ê°’ë§Œ) - null ì²˜ë¦¬ ê°œì„ \n        if (specificationData.body) {\n          console.log('Body ë°ì´í„°:', specificationData.body); // Body ë°ì´í„° ë¡œê·¸ ì¶”ê°€\n          setBodySelections(prev => ({\n            ...prev,\n            bonnetType: specificationData.body.bonnetTypeCode || '',\n            bonnetTypeCode: specificationData.body.bonnetTypeCode || '',\n            materialBody: specificationData.body.materialBodyCode || '',\n            materialBodyCode: specificationData.body.materialBodyCode || '',\n            sizeBodyUnit: specificationData.body.sizeUnit || '',\n            sizeBody: specificationData.body.sizeCode || '',\n            sizeBodyUnitCode: specificationData.body.sizeUnit || '',\n            // Code ê°’ ì¶”ê°€\n            sizeBodyCode: specificationData.body.sizeCode || '',\n            // Code ê°’ ì¶”ê°€\n            ratingUnit: (() => {\n              if (specificationData.body.ratingUnit && bodyRatingList.length > 0) {\n                const ratingItem = bodyRatingList.find(item => item.ratingUnitCode === specificationData.body.ratingUnit);\n                return ratingItem ? ratingItem.ratingUnit : '';\n              }\n              return '';\n            })(),\n            // ratingUnitCodeì— í•´ë‹¹í•˜ëŠ” ratingUnit ì´ë¦„ ì°¾ê¸°\n            rating: specificationData.body.ratingCode || '',\n            ratingUnitCode: (() => {\n              if (specificationData.body.ratingUnit && bodyRatingList.length > 0) {\n                const ratingItem = bodyRatingList.find(item => item.ratingUnitCode === specificationData.body.ratingUnit);\n                return ratingItem ? ratingItem.ratingUnitCode : '';\n              }\n              return '';\n            })(),\n            // ratingUnitCodeì— í•´ë‹¹í•˜ëŠ” ratingUnitCode ì°¾ê¸°\n            ratingCode: specificationData.body.ratingCode || '',\n            // Code ê°’ ì¶”ê°€\n            connection: specificationData.body.connectionCode || '',\n            connectionCode: specificationData.body.connectionCode || ''\n          }));\n        }\n\n        // Trim ì‚¬ì–‘ ë°ì´í„° ì„¤ì • (ì´ˆê¸°ê°’ë§Œ) - null ì²˜ë¦¬ ê°œì„ \n        if (specificationData.trim) {\n          console.log('Trim ë°ì´í„°:', specificationData.trim); // Trim ë°ì´í„° ë¡œê·¸ ì¶”ê°€\n          setTrimSelections(prev => {\n            var _specificationData$bo, _specificationData$bo2, _specificationData$bo3;\n            return {\n              ...prev,\n              trimType: specificationData.trim.typeCode || '',\n              trimTypeCode: specificationData.trim.typeCode || '',\n              trimSeries: specificationData.trim.seriesCode || '',\n              trimSeriesCode: specificationData.trim.seriesCode || '',\n              materialTrim: ((_specificationData$bo = specificationData.body) === null || _specificationData$bo === void 0 ? void 0 : _specificationData$bo.materialTrimCode) || '',\n              materialTrimCode: ((_specificationData$bo2 = specificationData.body) === null || _specificationData$bo2 === void 0 ? void 0 : _specificationData$bo2.materialTrimCode) || '',\n              sizePortUnit: specificationData.trim.portSizeUnit || '',\n              sizePort: specificationData.trim.portSizeCode || '',\n              sizePortUnitCode: specificationData.trim.portSizeUnit || '',\n              // Code ê°’ ì¶”ê°€\n              sizePortCode: specificationData.trim.portSizeCode || '',\n              // Code ê°’ ì¶”ê°€\n              form: specificationData.trim.formCode || '',\n              formCode: specificationData.trim.formCode || '',\n              option: ((_specificationData$bo3 = specificationData.body) === null || _specificationData$bo3 === void 0 ? void 0 : _specificationData$bo3.optionCode) || '' // Bodyì—ì„œ Option ê°’ì„ ê°€ì ¸ì˜´\n            };\n          });\n        }\n\n        // Actuator ì‚¬ì–‘ ë°ì´í„° ì„¤ì • (ì´ˆê¸°ê°’ë§Œ) - null ì²˜ë¦¬ ê°œì„ \n        if (specificationData.actuator) {\n          console.log('Actuator ë°ì´í„°:', specificationData.actuator); // Actuator ë°ì´í„° ë¡œê·¸ ì¶”ê°€\n          const seriesCode = specificationData.actuator.seriesCode || '';\n          setActSelections(prev => ({\n            ...prev,\n            actionType: specificationData.actuator.typeCode || '',\n            actionTypeCode: specificationData.actuator.typeCode || '',\n            series: seriesCode,\n            seriesCode: seriesCode,\n            size: specificationData.actuator.sizeCode || '',\n            sizeCode: specificationData.actuator.sizeCode || '',\n            hw: specificationData.actuator.hwCode || '',\n            hwCode: specificationData.actuator.hwCode || ''\n          }));\n\n          // Series ì½”ë“œê°€ ìˆìœ¼ë©´ í•´ë‹¹ Size ëª©ë¡ì„ ê°€ì ¸ì˜´\n          if (seriesCode) {\n            fetchActSizeList(seriesCode);\n          }\n        }\n\n        // Accessory ì‚¬ì–‘ ë°ì´í„° ì„¤ì • - ê¸°ì¡´ ë°ì´í„°ê°€ ìˆìœ¼ë©´ ë¡œë“œ, ì—†ìœ¼ë©´ fetchMasterDataì—ì„œ ì´ˆê¸°í™”ë¨\n        if (specificationData.accessories) {\n          const newAccSelections = {\n            positioner: {\n              typeCode: 'Positioner',\n              makerCode: '',\n              modelCode: '',\n              specification: ''\n            },\n            solenoid: {\n              typeCode: 'Solenoid',\n              makerCode: '',\n              modelCode: '',\n              specification: ''\n            },\n            limiter: {\n              typeCode: 'Limit',\n              makerCode: '',\n              modelCode: '',\n              specification: ''\n            },\n            airSupply: {\n              typeCode: 'Airset',\n              makerCode: '',\n              modelCode: '',\n              specification: ''\n            },\n            volumeBooster: {\n              typeCode: 'Volume',\n              makerCode: '',\n              modelCode: '',\n              specification: ''\n            },\n            airOperator: {\n              typeCode: 'Airoperate',\n              makerCode: '',\n              modelCode: '',\n              specification: ''\n            },\n            lockUp: {\n              typeCode: 'Lockup',\n              makerCode: '',\n              modelCode: '',\n              specification: ''\n            },\n            snapActingRelay: {\n              typeCode: 'Snapacting',\n              makerCode: '',\n              modelCode: '',\n              specification: ''\n            }\n          };\n          const accKeys = ['positioner', 'solenoid', 'limiter', 'airSupply', 'volumeBooster', 'airOperator', 'lockUp', 'snapActingRelay'];\n          accKeys.forEach(key => {\n            const accObj = specificationData.accessories[key];\n            console.log(`ë¡œë”©ë  ì•…ì„¸ì‚¬ë¦¬ ë°ì´í„° (${String(key)}):`, accObj);\n            // 1. ë°ì´í„° ê°œìˆ˜ í™•ì¸\n            console.log('accModelList ê¸¸ì´:', accModelList.length);\n            console.log('accMakerList ê¸¸ì´:', accMakerList.length);\n\n            // 2. Positioner ë°ì´í„° í™•ì¸\n            console.log('Positioner ëª¨ë¸ë“¤:', accModelList.filter(item => item.accTypeCode === 'Positioner'));\n            console.log('Positioner ë©”ì´ì»¤ë“¤:', accMakerList.filter(item => item.accTypeCode === 'Positioner'));\n\n            // 3. ë°ì´í„° êµ¬ì¡° í™•ì¸\n            console.log('ì²« ë²ˆì§¸ ëª¨ë¸:', accModelList[0]);\n            console.log('ì²« ë²ˆì§¸ ë©”ì´ì»¤:', accMakerList[0]);\n            if (accObj && accObj.makerCode && accObj.modelCode) {\n              // ì‹¤ì œ ë°ì´í„°ê°€ ìˆëŠ” ê²½ìš°ì—ë§Œ ì„¤ì •\n              newAccSelections[key] = {\n                typeCode: accObj.typeCode || newAccSelections[key].typeCode,\n                makerCode: accObj.makerCode || '',\n                modelCode: accObj.modelCode || '',\n                specification: accObj.specification || ''\n              };\n              console.log(`ìƒˆë¡œìš´ AccSelections (${String(key)}) ë°ì´í„° ì„¤ì •ë¨:`, newAccSelections[key]);\n            }\n            // ë°ì´í„°ê°€ ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ ìœ ì§€ (fetchMasterDataì—ì„œ ì„¤ì •ë¨)\n          });\n          console.log('ìµœì¢… ì—…ë°ì´íŠ¸ë  AccSelections:', newAccSelections);\n          setAccSelections(newAccSelections);\n        }\n        // ì•¡ì„¸ì„œë¦¬ ë°ì´í„°ê°€ ì—†ëŠ” ê²½ìš° fetchMasterDataì—ì„œ ì´ˆê¸°í™”ë¨\n      } else {\n        console.log('API ì‘ë‹µ ì‹¤íŒ¨:', response.status, response.statusText);\n      }\n    } catch (error) {\n      console.log('ì´ˆê¸° ì‚¬ì–‘ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);\n    }\n  };\n\n  // TagNo ë³€ê²½ ì‹œ ì„ì‹œ ì €ì¥ëœ ì„ íƒê°’ ë³µì›\n  const restoreTempSelections = sheetID => {\n    const tempData = tempSelections[sheetID];\n    if (tempData) {\n      console.log(`${sheetID}ì˜ ì„ì‹œ ì €ì¥ëœ ì„ íƒê°’ë“¤ì„ ë³µì›í•©ë‹ˆë‹¤:`, tempData);\n\n      // Body ì„ íƒê°’ ë³µì›\n      if (tempData.body) {\n        setBodySelections(prev => ({\n          ...prev,\n          ...tempData.body\n        }));\n      }\n\n      // Trim ì„ íƒê°’ ë³µì›\n      if (tempData.trim) {\n        setTrimSelections(prev => ({\n          ...prev,\n          ...tempData.trim\n        }));\n      }\n\n      // Actuator ì„ íƒê°’ ë³µì›\n      if (tempData.act) {\n        setActSelections(prev => ({\n          ...prev,\n          ...tempData.act\n        }));\n      }\n\n      // Accessory ì„ íƒê°’ ë³µì›\n      if (tempData.acc) {\n        setAccSelections(prev => ({\n          ...prev,\n          ...tempData.acc\n        }));\n      }\n    } else {\n      console.log(`${sheetID}ì˜ ì„ì‹œ ì €ì¥ëœ ì„ íƒê°’ì´ ì—†ìŠµë‹ˆë‹¤.`);\n    }\n  };\n\n  // Step 1, 2, 3 í†µí•© ì„¹ì…˜\n  const StepsSection = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"step-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"step-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uACAC\\uC801 \\uC0C1\\uC138 \\uC815\\uBCF4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1955,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1954,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"step-subsection\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Step 1: Type \\uC120\\uC815\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1960,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"type-header\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"step-description\",\n          children: \"\\uACAC\\uC801\\uC5D0 \\uD544\\uC694\\uD55C \\uBC38\\uBE0C \\uD0C0\\uC785\\uC744 \\uC120\\uD0DD\\uD558\\uACE0 \\uAD00\\uB9AC\\uD569\\uB2C8\\uB2E4.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1962,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1961,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"type-list\",\n        children: types.map((type, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `type-item ${selectedType === type.id ? 'selected' : ''}`,\n          onClick: () => setSelectedType(type.id),\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"type-name\",\n            children: type.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1971,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"type-count\",\n            children: [\"(\", type.count, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1972,\n            columnNumber: 15\n          }, this)]\n        }, type.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1966,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1964,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1959,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"step-subsection\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Step 2: TagNo \\uC120\\uD0DD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1981,\n          columnNumber: 11\n        }, this), selectedValve && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary btn-sm\",\n          onClick: () => {\n            const sheetId = (selectedValve === null || selectedValve === void 0 ? void 0 : selectedValve.sheetID) || 1;\n            window.open(`http://localhost:5001?estimateNo=${tempEstimateNo}&sheetId=${sheetId}`, '_blank');\n          },\n          children: \"\\uD83D\\uDD2C CONVAL \\uBD84\\uC11D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1983,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1980,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"step-description\",\n        children: \"\\uC120\\uD0DD\\uB41C Type\\uC5D0 \\uB530\\uB77C TagNo\\uB97C \\uC120\\uD0DD\\uD569\\uB2C8\\uB2E4.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1994,\n        columnNumber: 9\n      }, this), !selectedType ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-type-selected\",\n        children: \"Step 1\\uC5D0\\uC11C Type\\uC744 \\uC120\\uD0DD\\uD558\\uBA74 \\uD574\\uB2F9 Type\\uC758 TagNo\\uB97C \\uC120\\uD0DD\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1996,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"valve-list\",\n        children: valves.filter(valve => {\n          const selectedTypeData = types.find(t => t.id === selectedType);\n          return selectedTypeData && valve.body.type === selectedTypeData.name;\n        }).map((valve, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `valve-item ${(selectedValve === null || selectedValve === void 0 ? void 0 : selectedValve.id) === valve.id ? 'selected' : ''}`,\n          onClick: () => handleValveSelection(valve),\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"valve-tag\",\n            children: valve.tagNo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2012,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"valve-qty\",\n            children: [\"(\", valve.qty, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2013,\n            columnNumber: 19\n          }, this)]\n        }, valve.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2007,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2000,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1979,\n      columnNumber: 7\n    }, this), selectedValve && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"step-subsection\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Step 3: \\uC0C1\\uC138\\uC0AC\\uC591 \\uC785\\uB825\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2023,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"specification-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spec-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"BODY\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2027,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spec-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spec-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Bonnet Type:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2030,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: bodySelections.bonnetType,\n                onChange: e => handleBodyChange('bonnetType', e.target.value),\n                disabled: isReadOnly,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"\\uC120\\uD0DD\\uD558\\uC138\\uC694\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2032,\n                  columnNumber: 25\n                }, this), bodyBonnetList && bodyBonnetList.length > 0 && bodyBonnetList.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: item.bonnetCode,\n                  children: item.bonnet\n                }, item.bonnetCode, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2034,\n                  columnNumber: 27\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2031,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2029,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spec-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Material Body:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2041,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: bodySelections.materialBody,\n                onChange: e => handleBodyChange('materialBody', e.target.value),\n                disabled: isReadOnly,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"\\uC120\\uD0DD\\uD558\\uC138\\uC694\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2043,\n                  columnNumber: 25\n                }, this), bodyMatList && bodyMatList.length > 0 && bodyMatList.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: item.bodyMatCode,\n                  children: item.bodyMat\n                }, item.bodyMatCode, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2045,\n                  columnNumber: 27\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2042,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2040,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spec-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Size Body:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2052,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"size-input-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                  value: bodySelections.sizeBodyUnitCode,\n                  onChange: e => {\n                    handleBodyChange('sizeBodyUnit', e.target.value);\n                    handleBodyChange('sizeBodyUnitCode', e.target.value);\n                  },\n                  disabled: isReadOnly,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Unit \\uC120\\uD0DD\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2058,\n                    columnNumber: 27\n                  }, this), bodySizeList && bodySizeList.length > 0 && bodySizeList.map(item => item.sizeUnit).filter((unit, index, arr) => arr.indexOf(unit) === index).map(unit => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: unit,\n                    children: unit\n                  }, unit, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2064,\n                    columnNumber: 33\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2054,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: bodySelections.sizeBodyCode,\n                  onChange: e => {\n                    const selectedItem = bodySizeList.find(item => item.bodySizeCode === e.target.value);\n                    if (selectedItem) {\n                      handleBodyChange('sizeBody', selectedItem.bodySize);\n                      handleBodyChange('sizeBodyCode', selectedItem.bodySizeCode);\n                    }\n                  },\n                  disabled: !bodySelections.sizeBodyUnit || isReadOnly,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"\\uAC12 \\uC120\\uD0DD\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2077,\n                    columnNumber: 27\n                  }, this), bodySelections.sizeBodyUnit && bodySizeList && bodySizeList.length > 0 && bodySizeList.filter(item => item.sizeUnit === bodySelections.sizeBodyUnit).map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: item.bodySizeCode,\n                    children: item.bodySize\n                  }, item.bodySizeCode, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2082,\n                    columnNumber: 33\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2070,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2053,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2051,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spec-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Rating:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2091,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rating-input-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                  value: bodySelections.ratingUnit,\n                  onChange: e => {\n                    const selectedUnit = bodyRatingList.find(item => item.ratingUnit === e.target.value);\n                    if (selectedUnit) {\n                      handleBodyChange('ratingUnit', selectedUnit.ratingUnit);\n                      handleBodyChange('ratingUnitCode', selectedUnit.ratingUnitCode);\n                    }\n                  },\n                  disabled: isReadOnly,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Unit \\uC120\\uD0DD\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2100,\n                    columnNumber: 27\n                  }, this), bodyRatingList && bodyRatingList.length > 0 && bodyRatingList.map(item => item.ratingUnit).filter((unit, index, arr) => arr.indexOf(unit) === index).map(unit => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: unit,\n                    children: unit\n                  }, unit, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2106,\n                    columnNumber: 33\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2093,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: bodySelections.ratingCode,\n                  onChange: e => {\n                    const selectedItem = bodyRatingList.find(item => item.ratingCode === e.target.value);\n                    if (selectedItem) {\n                      handleBodyChange('rating', selectedItem.ratingName);\n                      handleBodyChange('ratingCode', selectedItem.ratingCode);\n                    }\n                  },\n                  disabled: !bodySelections.ratingUnitCode || isReadOnly,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"\\uAC12 \\uC120\\uD0DD\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2119,\n                    columnNumber: 27\n                  }, this), bodySelections.ratingUnit && bodyRatingList && bodyRatingList.length > 0 && bodyRatingList.filter(item => item.ratingUnit === bodySelections.ratingUnit).map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: item.ratingCode,\n                    children: item.ratingName\n                  }, item.ratingCode, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2124,\n                    columnNumber: 33\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2112,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2092,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2090,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spec-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Connection:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2133,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: bodySelections.connection,\n                onChange: e => handleBodyChange('connection', e.target.value),\n                disabled: isReadOnly,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"\\uC120\\uD0DD\\uD558\\uC138\\uC694\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2135,\n                  columnNumber: 25\n                }, this), bodyConnectionList && bodyConnectionList.length > 0 && bodyConnectionList.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: item.connectionCode,\n                  children: item.connection\n                }, item.connectionCode, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2137,\n                  columnNumber: 27\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2134,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2132,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2028,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2026,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spec-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Trim\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2148,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spec-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spec-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Trim Type:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2151,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: trimSelections.trimType,\n                onChange: e => handleTrimChange('trimType', e.target.value),\n                disabled: isReadOnly,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"\\uC120\\uD0DD\\uD558\\uC138\\uC694\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2153,\n                  columnNumber: 25\n                }, this), trimTypeList && trimTypeList.length > 0 && trimTypeList.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: item.trimTypeCode,\n                  children: item.trimType\n                }, item.trimTypeCode, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2155,\n                  columnNumber: 27\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2152,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2150,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spec-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Trim Series:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2162,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: trimSelections.trimSeries,\n                onChange: e => handleTrimChange('trimSeries', e.target.value),\n                disabled: isReadOnly,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"\\uC120\\uD0DD\\uD558\\uC138\\uC694\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2164,\n                  columnNumber: 25\n                }, this), trimSeriesList && trimSeriesList.length > 0 && trimSeriesList.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: item.trimSeriesCode,\n                  children: item.trimSeries\n                }, item.trimSeriesCode, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2166,\n                  columnNumber: 27\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2163,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2161,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spec-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Material Trim:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2173,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: trimSelections.materialTrim,\n                onChange: e => handleTrimChange('materialTrim', e.target.value),\n                disabled: isReadOnly,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"\\uC120\\uD0DD\\uD558\\uC138\\uC694\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2175,\n                  columnNumber: 25\n                }, this), trimMatList && trimMatList.length > 0 && trimMatList.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: item.trimMatCode,\n                  children: item.trimMat\n                }, item.trimMatCode, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2177,\n                  columnNumber: 27\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2174,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2172,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spec-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Option:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2184,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: trimSelections.option,\n                onChange: e => handleTrimChange('option', e.target.value),\n                disabled: isReadOnly,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"\\uC120\\uD0DD\\uD558\\uC138\\uC694\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2186,\n                  columnNumber: 25\n                }, this), trimOptionList && trimOptionList.length > 0 && trimOptionList.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: item.trimOptionCode,\n                  children: item.trimOption\n                }, item.trimOptionCode, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2188,\n                  columnNumber: 27\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2185,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2183,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spec-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Size Port:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2195,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"size-input-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                  value: trimSelections.sizePortUnitCode,\n                  onChange: e => {\n                    handleTrimChange('sizePortUnit', e.target.value);\n                    handleTrimChange('sizePortUnitCode', e.target.value);\n                  },\n                  disabled: isReadOnly,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Unit \\uC120\\uD0DD\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2201,\n                    columnNumber: 27\n                  }, this), trimPortSizeList && trimPortSizeList.length > 0 && trimPortSizeList.map(item => item.portSizeUnit).filter((unit, index, arr) => arr.indexOf(unit) === index).map(unit => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: unit,\n                    children: unit\n                  }, unit, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2207,\n                    columnNumber: 33\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2197,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: trimSelections.sizePortCode,\n                  onChange: e => {\n                    const selectedItem = trimPortSizeList.find(item => item.portSizeCode === e.target.value);\n                    if (selectedItem) {\n                      handleTrimChange('sizePort', selectedItem.portSize);\n                      handleTrimChange('sizePortCode', selectedItem.portSizeCode);\n                    }\n                  },\n                  disabled: !trimSelections.sizePortUnit || isReadOnly,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"\\uAC12 \\uC120\\uD0DD\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2220,\n                    columnNumber: 27\n                  }, this), trimSelections.sizePortUnit && trimPortSizeList && trimPortSizeList.length > 0 && trimPortSizeList.filter(item => item.portSizeUnit === trimSelections.sizePortUnit).map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: item.portSizeCode,\n                    children: item.portSize\n                  }, item.portSizeCode, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2225,\n                    columnNumber: 33\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2213,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2196,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2194,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spec-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Form:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2234,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: trimSelections.form,\n                onChange: e => handleTrimChange('form', e.target.value),\n                disabled: isReadOnly,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"\\uC120\\uD0DD\\uD558\\uC138\\uC694\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2236,\n                  columnNumber: 25\n                }, this), trimFormList && trimFormList.length > 0 && trimFormList.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: item.trimFormCode,\n                  children: item.trimForm\n                }, item.trimFormCode, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2238,\n                  columnNumber: 27\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2235,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2233,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2149,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2147,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spec-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"ACT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2249,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spec-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spec-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Action Type:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2252,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: actSelections.actionType,\n                onChange: e => handleActChange('actionType', e.target.value),\n                disabled: isReadOnly,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"\\uC120\\uD0DD\\uD558\\uC138\\uC694\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2254,\n                  columnNumber: 25\n                }, this), actTypeList && actTypeList.length > 0 && actTypeList.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: item.actTypeCode,\n                  children: item.actType\n                }, item.actTypeCode, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2256,\n                  columnNumber: 27\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2253,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2251,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spec-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Series:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2263,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: actSelections.series,\n                onChange: e => handleActChange('series', e.target.value),\n                disabled: isReadOnly,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"\\uC120\\uD0DD\\uD558\\uC138\\uC694\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2265,\n                  columnNumber: 25\n                }, this), actSeriesList && actSeriesList.length > 0 && actSeriesList.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: item.actSeriesCode,\n                  children: item.actSeries\n                }, item.actSeriesCode, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2267,\n                  columnNumber: 27\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2264,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2262,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spec-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Size:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2274,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: actSelections.size,\n                onChange: e => handleActChange('size', e.target.value),\n                disabled: !actSelections.series || isReadOnly,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"\\uC120\\uD0DD\\uD558\\uC138\\uC694\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2276,\n                  columnNumber: 25\n                }, this), actSizeList && actSizeList.length > 0 && actSizeList.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: item.actSizeCode,\n                  children: [item.actSize, \" \"]\n                }, item.actSizeCode, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2279,\n                  columnNumber: 29\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2275,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2273,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spec-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"H.W:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2287,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: actSelections.hw,\n                onChange: e => handleActChange('hw', e.target.value),\n                disabled: isReadOnly,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"\\uC120\\uD0DD\\uD558\\uC138\\uC694\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2289,\n                  columnNumber: 25\n                }, this), actHWList && actHWList.length > 0 && actHWList.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: item.hwCode,\n                  children: item.hw\n                }, item.hwCode, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2291,\n                  columnNumber: 27\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2288,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2286,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2250,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2248,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2024,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"acc-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"ACC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2304,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: async () => {\n              console.log('ì•…ì„¸ì‚¬ë¦¬ ë°ì´í„° ê°•ì œ ë¦¬ë¡œë“œ ì‹œì‘...');\n              const success = await fetchAccessoryData();\n              if (success) {\n                alert('ì•…ì„¸ì‚¬ë¦¬ ë°ì´í„°ê°€ ì„±ê³µì ìœ¼ë¡œ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!');\n              } else {\n                alert('ì•…ì„¸ì‚¬ë¦¬ ë°ì´í„° ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');\n              }\n            },\n            style: {\n              padding: '8px 16px',\n              backgroundColor: '#007bff',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: 'pointer',\n              fontSize: '12px'\n            },\n            title: \"\\uC545\\uC138\\uC0AC\\uB9AC \\uB370\\uC774\\uD130 \\uAC15\\uC81C \\uB9AC\\uB85C\\uB4DC\",\n            children: \"\\uD83D\\uDD04 \\uC545\\uC138\\uC0AC\\uB9AC \\uB9AC\\uB85C\\uB4DC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2305,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '11px',\n              color: '#666',\n              marginLeft: '10px'\n            },\n            children: [\"\\uBA54\\uC774\\uCEE4: \", accMakerList.length, \"\\uAC1C, \\uBAA8\\uB378: \", accModelList.length, \"\\uAC1C\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2328,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2303,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"acc-table\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\uC120\\uD0DD\\uBAA9\\uB85D\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2336,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\uBA54\\uC774\\uCEE4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2337,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\uBAA8\\uB378\\uBA85\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2338,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\uADDC\\uACA9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2339,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2335,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2334,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"Positioner\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2344,\n                  columnNumber: 31\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"acc-options-group\",\n                  colSpan: 3,\n                  children: /*#__PURE__*/_jsxDEV(AccessorySelector, {\n                    accTypeKey: \"positioner\",\n                    accSelections: accSelections,\n                    setAccSelections: setAccSelections,\n                    accMakerList: accMakerList,\n                    accModelList: accModelList\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2346,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2345,\n                  columnNumber: 31\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2343,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"Solenoid Valve\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2356,\n                  columnNumber: 31\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"acc-options-group\",\n                  colSpan: 3,\n                  children: /*#__PURE__*/_jsxDEV(AccessorySelector, {\n                    accTypeKey: \"solenoid\",\n                    accSelections: accSelections,\n                    setAccSelections: setAccSelections,\n                    accMakerList: accMakerList,\n                    accModelList: accModelList\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2358,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2357,\n                  columnNumber: 31\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2355,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"Limit Switch\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2368,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"acc-options-group\",\n                  colSpan: 3,\n                  children: /*#__PURE__*/_jsxDEV(AccessorySelector, {\n                    accTypeKey: \"limiter\",\n                    accSelections: accSelections,\n                    setAccSelections: setAccSelections,\n                    accMakerList: accMakerList,\n                    accModelList: accModelList\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2370,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2369,\n                  columnNumber: 31\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2367,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"Air Set\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2380,\n                  columnNumber: 31\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"acc-options-group\",\n                  colSpan: 3,\n                  children: /*#__PURE__*/_jsxDEV(AccessorySelector, {\n                    accTypeKey: \"airSupply\",\n                    accSelections: accSelections,\n                    setAccSelections: setAccSelections,\n                    accMakerList: accMakerList,\n                    accModelList: accModelList\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2382,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2381,\n                  columnNumber: 31\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2379,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"Volume Booster\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2392,\n                  columnNumber: 31\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"acc-options-group\",\n                  colSpan: 3,\n                  children: /*#__PURE__*/_jsxDEV(AccessorySelector, {\n                    accTypeKey: \"volumeBooster\",\n                    accSelections: accSelections,\n                    setAccSelections: setAccSelections,\n                    accMakerList: accMakerList,\n                    accModelList: accModelList\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2394,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2393,\n                  columnNumber: 31\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2391,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"Air Operated Valve\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2404,\n                  columnNumber: 31\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"acc-options-group\",\n                  colSpan: 3,\n                  children: /*#__PURE__*/_jsxDEV(AccessorySelector, {\n                    accTypeKey: \"airOperator\",\n                    accSelections: accSelections,\n                    setAccSelections: setAccSelections,\n                    accMakerList: accMakerList,\n                    accModelList: accModelList\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2406,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2405,\n                  columnNumber: 31\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2403,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"Lock-Up Valve\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2416,\n                  columnNumber: 31\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"acc-options-group\",\n                  colSpan: 3,\n                  children: /*#__PURE__*/_jsxDEV(AccessorySelector, {\n                    accTypeKey: \"lockUp\",\n                    accSelections: accSelections,\n                    setAccSelections: setAccSelections,\n                    accMakerList: accMakerList,\n                    accModelList: accModelList\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2418,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2417,\n                  columnNumber: 31\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2415,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"Snap Acting Relay\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2428,\n                  columnNumber: 31\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"acc-options-group\",\n                  colSpan: 3,\n                  children: /*#__PURE__*/_jsxDEV(AccessorySelector, {\n                    accTypeKey: \"snapActingRelay\",\n                    accSelections: accSelections,\n                    setAccSelections: setAccSelections,\n                    accMakerList: accMakerList,\n                    accModelList: accModelList\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2430,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2429,\n                  columnNumber: 31\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2427,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2342,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2333,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2332,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2302,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"save-section\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary save-specification-btn\",\n          onClick: handleSaveSpecification,\n          disabled: isReadOnly // isReadOnly ìƒíƒœì— ë”°ë¼ ë¹„í™œì„±í™”\n          ,\n          children: \"\\uC0AC\\uC591 \\uC800\\uC7A5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2446,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2445,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(ManagerAttachmentsSection, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2456,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2022,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1953,\n    columnNumber: 5\n  }, this);\n\n  // ê³ ê° ìš”ì²­ì‚¬í•­ ì„¹ì…˜ (í•­ìƒ readonly)\n  const CustomerRequirementSection = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"step-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"step-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uACE0\\uAC1D \\uC694\\uCCAD\\uC0AC\\uD56D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2466,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2465,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"customer-requirement-content\",\n      children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: customerRequirement,\n        onChange: () => {} // ë³€ê²½ ë¶ˆê°€\n        ,\n        readOnly: true // í•­ìƒ readonly\n        ,\n        placeholder: \"\\uACE0\\uAC1D \\uC694\\uCCAD\\uC0AC\\uD56D\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\",\n        className: \"customer-requirement-textarea\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2469,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2468,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2464,\n    columnNumber: 5\n  }, this);\n\n  // ê´€ë¦¬ì ì½”ë©˜íŠ¸ ì„¹ì…˜\n  const StaffCommentSection = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"step-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"step-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uAD00\\uB9AC\\uC790 \\uCF54\\uBA58\\uD2B8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2484,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2483,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"staff-comment-content\",\n      children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: staffComment,\n        onChange: e => !isReadOnly && setStaffComment(e.target.value),\n        readOnly: isReadOnly,\n        placeholder: \"\\uAD00\\uB9AC\\uC790 \\uCF54\\uBA58\\uD2B8\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\",\n        className: \"staff-comment-textarea\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2487,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2486,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2482,\n    columnNumber: 5\n  }, this);\n\n  // ê³ ê° ìš”ì²­ ì²¨ë¶€íŒŒì¼ ì„¹ì…˜ (ë‹¤ìš´ë¡œë“œë§Œ ê°€ëŠ¥)\n  const CustomerAttachmentsSection = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"step-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"step-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uACE0\\uAC1D \\uC694\\uCCAD \\uCCA8\\uBD80\\uD30C\\uC77C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2502,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2501,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"attachments-content\",\n      children: customerAttachments.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"attachment-list\",\n        children: customerAttachments.map((file, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"attachment-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"file-name\",\n            children: file.fileName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2509,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"file-size\",\n            children: [\"(\", (file.fileSize / 1024).toFixed(2), \" KB)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2510,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary btn-sm\",\n            onClick: () => handleDownloadFile(file, 'customer'),\n            disabled: !file.fileName.toLowerCase().endsWith('.pdf'),\n            children: \"PDF \\uB2E4\\uC6B4\\uB85C\\uB4DC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2511,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2508,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2506,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-attachments\",\n        children: \"\\uACE0\\uAC1D \\uC694\\uCCAD \\uCCA8\\uBD80\\uD30C\\uC77C\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2522,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2504,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2500,\n    columnNumber: 5\n  }, this);\n\n  // ê´€ë¦¬ ì²¨ë¶€íŒŒì¼ ì„¹ì…˜ (ì—…ë¡œë“œ, ë‹¤ìš´ë¡œë“œ, ìƒì„± ê°€ëŠ¥)\n  const ManagerAttachmentsSection = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"step-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"step-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDD11 \\uAD00\\uB9AC \\uCCA8\\uBD80\\uD30C\\uC77C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2534,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"file-actions\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary btn-sm\",\n          onClick: () => {\n            fetchManagerFiles();\n            fetchCustomerFiles();\n          },\n          disabled: isLoadingFiles,\n          children: isLoadingFiles ? 'ìƒˆë¡œê³ ì¹¨ ì¤‘...' : 'ìƒˆë¡œê³ ì¹¨'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2536,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2535,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2533,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"file-list-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\uD83D\\uDCC1 \\uC0DD\\uC131\\uB41C \\uC5D1\\uC140 \\uD30C\\uC77C \\uBAA9\\uB85D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2551,\n        columnNumber: 9\n      }, this), isLoadingFiles ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"\\uD30C\\uC77C \\uBAA9\\uB85D\\uC744 \\uBD88\\uB7EC\\uC624\\uB294 \\uC911...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2556,\n        columnNumber: 11\n      }, this) : managerFiles.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-files\",\n        children: \"\\uC0DD\\uC131\\uB41C \\uD30C\\uC77C\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2558,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"file-grid\",\n        children: managerFiles.filter(file => file.fileName.toLowerCase().endsWith('.xlsx')).map(file => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"file-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: getFileTypeDisplayName(file.managerFileType)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2567,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"file-date\",\n              children: formatDate(file.uploadDate)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2568,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2566,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"file-name\",\n              children: file.fileName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2571,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"file-size\",\n              children: [\"\\uD06C\\uAE30: \", formatFileSize(file.fileSize)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2572,\n              columnNumber: 19\n            }, this), file.uploadUserID && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"upload-user\",\n              children: [\"\\uC5C5\\uB85C\\uB4DC: \", file.uploadUserID]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2574,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2570,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary btn-sm\",\n              onClick: () => downloadFile(file.filePath, file.fileName),\n              children: \"\\uD83D\\uDCE5 \\uB2E4\\uC6B4\\uB85C\\uB4DC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2578,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-danger btn-sm\",\n              onClick: () => deleteFile(file.managerFileType),\n              children: \"\\uD83D\\uDDD1\\uFE0F \\uC0AD\\uC81C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2584,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2577,\n            columnNumber: 17\n          }, this)]\n        }, file.attachmentID, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2565,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2560,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2550,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"file-generation-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\uD83D\\uDCDD \\uC5D1\\uC140 \\uD30C\\uC77C \\uC0DD\\uC131\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2599,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"generation-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success btn-sm\",\n          onClick: () => handleGenerateFile('cvlist'),\n          disabled: isReadOnly,\n          children: \"\\uD83D\\uDCCA CV \\uB9AC\\uC2A4\\uD2B8 \\uC0DD\\uC131\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2601,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success btn-sm\",\n          onClick: () => handleGenerateFile('vllist'),\n          disabled: isReadOnly,\n          children: \"\\uD83D\\uDCCB VL \\uB9AC\\uC2A4\\uD2B8 \\uC0DD\\uC131\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2608,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success btn-sm\",\n          onClick: () => handleGenerateFile('datasheet'),\n          disabled: isReadOnly,\n          children: \"\\uD83D\\uDCC4 DataSheet \\uC0DD\\uC131\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2615,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success btn-sm\",\n          onClick: () => handleGenerateFile('singlequote'),\n          disabled: isReadOnly,\n          children: \"\\uD83D\\uDCB0 \\uB2E8\\uD488\\uACAC\\uC801\\uC11C \\uC0DD\\uC131\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2622,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success btn-sm\",\n          onClick: () => handleGenerateFile('multiquote'),\n          disabled: isReadOnly,\n          children: \"\\uD83D\\uDCCA \\uB2E4\\uC218\\uB7C9\\uACAC\\uC801\\uC11C \\uC0DD\\uC131\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2629,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2600,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2598,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"file-list-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\uD83D\\uDCC4 \\uC5C5\\uB85C\\uB4DC\\uB41C PDF \\uD30C\\uC77C \\uBAA9\\uB85D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2641,\n        columnNumber: 9\n      }, this), isLoadingFiles ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"\\uD30C\\uC77C \\uBAA9\\uB85D\\uC744 \\uBD88\\uB7EC\\uC624\\uB294 \\uC911...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2646,\n        columnNumber: 11\n      }, this) : managerFiles.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-files\",\n        children: \"\\uC5C5\\uB85C\\uB4DC\\uB41C PDF \\uD30C\\uC77C\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2648,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"file-grid\",\n        children: managerFiles.filter(file => file.fileName.toLowerCase().endsWith('.pdf')) // ğŸ”‘ PDF íŒŒì¼ë§Œ í•„í„°ë§\n        .map(file => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-card\",\n            style: {\n              borderLeft: '4px solid #e74c3c'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"file-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                children: [\"\\uD83D\\uDCC4 \", getFileTypeDisplayName(file.managerFileType), \" (PDF)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2657,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"file-date\",\n                children: formatDate(file.uploadDate)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2660,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2656,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"file-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"file-name\",\n                children: file.fileName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2663,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"file-size\",\n                children: [\"\\uD06C\\uAE30: \", formatFileSize(file.fileSize)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2664,\n                columnNumber: 23\n              }, this), file.uploadUserID && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"upload-user\",\n                children: [\"\\uC5C5\\uB85C\\uB4DC: \", file.uploadUserID]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2666,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2662,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"file-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary btn-sm\",\n                onClick: () => downloadFile(file.filePath, file.fileName),\n                children: \"\\uD83D\\uDCE5 \\uB2E4\\uC6B4\\uB85C\\uB4DC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2670,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-danger btn-sm\",\n                onClick: () => deleteFile(file.managerFileType),\n                children: \"\\uD83D\\uDDD1\\uFE0F \\uC0AD\\uC81C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2676,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2669,\n              columnNumber: 21\n            }, this)]\n          }, file.attachmentID, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2655,\n            columnNumber: 19\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2650,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2640,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pdf-upload-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\uD83D\\uDCC4 PDF \\uC5C5\\uB85C\\uB4DC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2692,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pdf-upload-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pdf-upload-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"\\uD83D\\uDCC4 DataSheet PDF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2696,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline-secondary btn-sm\",\n            onClick: () => handleFileSelect('datasheet'),\n            disabled: isReadOnly,\n            style: {\n              marginBottom: '15px',\n              width: '100%'\n            },\n            children: \"\\uD83D\\uDCC1 PDF \\uD30C\\uC77C \\uC120\\uD0DD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2697,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-status\",\n            children: selectedPdfFiles.datasheet ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"file-selected\",\n              children: [\"\\u2705 \", selectedPdfFiles.datasheet.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2707,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"no-file\",\n              children: \"\\uD83D\\uDCC1 PDF \\uD30C\\uC77C\\uC744 \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2709,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2705,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary btn-sm\",\n            onClick: () => handleUploadManagerFile('datasheet'),\n            disabled: isReadOnly || !selectedPdfFiles.datasheet,\n            children: \"\\uD83D\\uDCE4 PDF \\uC5C5\\uB85C\\uB4DC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2712,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2695,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pdf-upload-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"\\uD83D\\uDCCA CV \\uB9AC\\uC2A4\\uD2B8 PDF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2723,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline-secondary btn-sm\",\n            onClick: () => handleFileSelect('cvlist'),\n            disabled: isReadOnly,\n            style: {\n              marginBottom: '15px',\n              width: '100%'\n            },\n            children: \"\\uD83D\\uDCC1 PDF \\uD30C\\uC77C \\uC120\\uD0DD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2724,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-status\",\n            children: selectedPdfFiles.cvlist ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"file-selected\",\n              children: [\"\\u2705 \", selectedPdfFiles.cvlist.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2734,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"no-file\",\n              children: \"\\uD83D\\uDCC1 PDF \\uD30C\\uC77C\\uC744 \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2736,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2732,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary btn-sm\",\n            onClick: () => handleUploadManagerFile('cvlist'),\n            disabled: isReadOnly || !selectedPdfFiles.cvlist,\n            children: \"\\uD83D\\uDCE4 PDF \\uC5C5\\uB85C\\uB4DC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2739,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2722,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pdf-upload-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"\\uD83D\\uDCCB VL \\uB9AC\\uC2A4\\uD2B8 PDF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2750,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline-secondary btn-sm\",\n            onClick: () => handleFileSelect('vllist'),\n            disabled: isReadOnly,\n            style: {\n              marginBottom: '15px',\n              width: '100%'\n            },\n            children: \"\\uD83D\\uDCC1 PDF \\uD30C\\uC77C \\uC120\\uD0DD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2751,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-status\",\n            children: selectedPdfFiles.vllist ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"file-selected\",\n              children: [\"\\u2705 \", selectedPdfFiles.vllist.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2761,\n              columnNumber: 18\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"no-file\",\n              children: \"\\uD83D\\uDCC1 PDF \\uD30C\\uC77C\\uC744 \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2763,\n              columnNumber: 18\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2759,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary btn-sm\",\n            onClick: () => handleUploadManagerFile('vllist'),\n            disabled: isReadOnly || !selectedPdfFiles.vllist,\n            children: \"\\uD83D\\uDCE4 PDF \\uC5C5\\uB85C\\uB4DC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2766,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2749,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pdf-upload-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"\\uD83D\\uDCB0 \\uB2E8\\uD488\\uACAC\\uC801\\uC11C PDF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2777,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline-secondary btn-sm\",\n            onClick: () => handleFileSelect('singlequote'),\n            disabled: isReadOnly,\n            style: {\n              marginBottom: '15px',\n              width: '100%'\n            },\n            children: \"\\uD83D\\uDCC1 PDF \\uD30C\\uC77C \\uC120\\uD0DD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2778,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-status\",\n            children: selectedPdfFiles.singlequote ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"file-selected\",\n              children: [\"\\u2705 \", selectedPdfFiles.singlequote.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2788,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"no-file\",\n              children: \"\\uD83D\\uDCC1 PDF \\uD30C\\uC77C\\uC744 \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2790,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2786,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary btn-sm\",\n            onClick: () => handleUploadManagerFile('singlequote'),\n            disabled: isReadOnly || !selectedPdfFiles.singlequote,\n            children: \"\\uD83D\\uDCE4 PDF \\uC5C5\\uB85C\\uB4DC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2793,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2776,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pdf-upload-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"\\uD83D\\uDCCA \\uB2E4\\uC218\\uB7C9\\uACAC\\uC801\\uC11C PDF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2804,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline-secondary btn-sm\",\n            onClick: () => handleFileSelect('multiquote'),\n            disabled: isReadOnly,\n            style: {\n              marginBottom: '15px',\n              width: '100%'\n            },\n            children: \"\\uD83D\\uDCC1 PDF \\uD30C\\uC77C \\uC120\\uD0DD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2805,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-status\",\n            children: selectedPdfFiles.multiquote ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"file-selected\",\n              children: [\"\\u2705 \", selectedPdfFiles.multiquote.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2815,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"no-file\",\n              children: \"\\uD83D\\uDCC1 PDF \\uD30C\\uC77C\\uC744 \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2817,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2813,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary btn-sm\",\n            onClick: () => handleUploadManagerFile('multiquote'),\n            disabled: isReadOnly || !selectedPdfFiles.multiquote,\n            children: \"\\uD83D\\uDCE4 PDF \\uC5C5\\uB85C\\uB4DC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2820,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2803,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2693,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2691,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2532,\n    columnNumber: 5\n  }, this);\n  useEffect(() => {\n    if (tempEstimateNo) {\n      loadExistingData();\n      // ğŸ”‘ íŒŒì¼ ëª©ë¡ ì¡°íšŒ ì¶”ê°€\n      fetchManagerFiles();\n      fetchCustomerFiles();\n    }\n  }, [tempEstimateNo, loadExistingData]); // loadExistingData ì¶”ê°€\n\n  useEffect(() => {\n    // typesì™€ accModelListê°€ ëª¨ë‘ ë¡œë“œëœ í›„ì—ë§Œ loadInitialSpecificationì„ í˜¸ì¶œ\n    if (tempEstimateNo && types.length > 0 && accModelList.length > 0) {\n      if (selectedValve && selectedValve.sheetID > 0) {\n        loadInitialSpecification(selectedValve.sheetID);\n      }\n    }\n  }, [selectedValve === null || selectedValve === void 0 ? void 0 : selectedValve.sheetID, tempEstimateNo, types, accModelList]); // typesì™€ accModelList ì¶”ê°€\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"estimate-detail-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"back-button\",\n        onClick: () => navigate(-1),\n        children: \"\\u2190 \\uACAC\\uC801\\uC694\\uCCAD\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2855,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\uC0AC\\uC591 \\uC120\\uC815\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2858,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          children: \"\\uACAC\\uC801 \\uC138\\uBD80 \\uC815\\uBCF4 \\uD55C\\uB208\\uC5D0 \\uBCF4\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2860,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          children: \"\\uACAC\\uC801 \\uC11C\\uB958 \\uB2E4\\uC6B4\\uB85C\\uB4DC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2861,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2859,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2854,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"status-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"status-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uC9C4\\uD589\\uC0C1\\uD0DC:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2868,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: currentStatus,\n          onChange: e => {\n            const newStatus = e.target.value;\n            if (newStatus !== currentStatus) {\n              handleStatusChange(newStatus);\n            }\n          },\n          className: \"status-select\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\\uACAC\\uC801\\uC694\\uCCAD\",\n            children: \"\\uACAC\\uC801\\uC694\\uCCAD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2879,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\\uACAC\\uC801\\uCC98\\uB9AC\\uC911\",\n            children: \"\\uACAC\\uC801\\uCC98\\uB9AC\\uC911\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2880,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\\uACAC\\uC801\\uC644\\uB8CC\",\n            children: \"\\uACAC\\uC801\\uC644\\uB8CC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2881,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\\uC8FC\\uBB38\",\n            children: \"\\uC8FC\\uBB38\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2882,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2869,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2867,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"project-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uD504\\uB85C\\uC81D\\uD2B8\\uBA85:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2886,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: projectName,\n          readOnly: isReadOnly,\n          className: \"project-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2887,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2885,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2866,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"steps-container\",\n        children: [/*#__PURE__*/_jsxDEV(StepsSection, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2894,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CustomerRequirementSection, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2895,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StaffCommentSection, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2896,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CustomerAttachmentsSection, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2897,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ManagerAttachmentsSection, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2898,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2893,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"part-number-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-gray-800 mb-4\",\n          children: \"\\uC0DD\\uC131\\uB41C \\uD488\\uBC88\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2903,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"part-number-single-line\",\n          children: generatePartNumber.split('').map((char, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `char-box ${char === '0' ? 'empty-char' : 'filled-char'}`,\n            title: `ìœ„ì¹˜ ${index}: ${char}`,\n            children: char\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2906,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2904,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2902,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2892,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2852,\n    columnNumber: 5\n  }, this);\n};\n_s2(EstimateDetailPage, \"memJ8e/YakTbFjBRfwKSLHJQU2w=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = EstimateDetailPage;\nexport default EstimateDetailPage;\nvar _c;\n$RefreshReg$(_c, \"EstimateDetailPage\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","useMemo","useNavigate","useParams","getEstimateDetail","jsxDEV","_jsxDEV","isManagerFile","filePath","normalizedPath","replace","managerFilePatterns","some","pattern","includes","extractManagerFileType","pathParts","split","resultFilesIndex","findIndex","part","length","isCustomerFile","customerFilePatterns","EstimateDetailPage","_s2","_s","$RefreshSig$","navigate","tempEstimateNo","types","setTypes","valves","setValves","selectedValve","setSelectedValve","selectedType","setSelectedType","bodyValveList","setBodyValveList","bodySizeList","setBodySizeList","bodyMatList","setBodyMatList","trimMatList","setTrimMatList","trimOptionList","setTrimOptionList","bodyRatingList","setBodyRatingList","bodyBonnetList","setBodyBonnetList","bodyConnectionList","setBodyConnectionList","trimTypeList","setTrimTypeList","trimSeriesList","setTrimSeriesList","trimPortSizeList","setTrimPortSizeList","trimFormList","setTrimFormList","actTypeList","setActTypeList","actSeriesList","setActSeriesList","actSizeList","setActSizeList","actHWList","setActHWList","accMakerList","setAccMakerList","accModelList","setAccModelList","customerRequirement","setCustomerRequirement","staffComment","setStaffComment","attachments","setAttachments","customerAttachments","setCustomerAttachments","managerAttachments","setManagerAttachments","currentStatus","setCurrentStatus","isReadOnly","setIsReadOnly","managerFiles","setManagerFiles","customerFiles","setCustomerFiles","isLoadingFiles","setIsLoadingFiles","selectedPdfFiles","setSelectedPdfFiles","datasheet","cvlist","vllist","singlequote","multiquote","uploadedPdfUrls","setUploadedPdfUrls","fileInputRefs","accSelections","setAccSelections","positioner","typeCode","makerCode","modelCode","specification","solenoid","limiter","airSupply","volumeBooster","airOperator","lockUp","snapActingRelay","tempSelections","setTempSelections","saveCurrentSelections","sheetID","prev","body","bodySelections","trim","trimSelections","act","actSelections","acc","handleValveSelection","valve","restoreTempSelections","loadInitialSpecification","setBodySelections","bonnetType","bonnetTypeCode","materialBody","materialBodyCode","sizeBodyUnit","sizeBody","sizeBodyUnitCode","sizeBodyCode","ratingUnit","rating","ratingUnitCode","ratingCode","connection","connectionCode","setTrimSelections","trimType","trimTypeCode","trimSeries","trimSeriesCode","materialTrim","materialTrimCode","sizePortUnit","sizePort","sizePortUnitCode","sizePortCode","form","formCode","option","setActSelections","actionType","actionTypeCode","series","seriesCode","size","sizeCode","hw","hwCode","projectName","setProjectName","fetchBodyValveList","response","fetch","data","json","error","console","fetchActSizeList","actSeriesCode","log","fetchManagerFiles","status","ok","allManagerFiles","filter","att","path","isManagerFileResult","name","fileName","map","managerFileType","statusText","fetchCustomerFiles","deleteFile","window","confirm","method","alert","downloadFile","encodeURIComponent","blob","url","URL","createObjectURL","a","document","createElement","href","download","appendChild","click","revokeObjectURL","removeChild","errorText","text","getFileTypeDisplayName","typeMap","formatFileSize","bytes","k","sizes","i","Math","floor","parseFloat","pow","toFixed","formatDate","dateString","Date","toLocaleString","handlePdfUpload","event","fileType","_event$target$files","preventDefault","file","target","files","type","setTimeout","handleFileSelect","input","accept","style","display","onchange","e","handleBodyChange","field","value","newSelections","selectedItem","find","item","bonnetCode","bodyMatCode","handleTrimChange","trimMatCode","trimFormCode","handleActChange","actTypeCode","actSizeCode","fetchAccessoryData","retryCount","maxRetries","accSearchRes","accSearchData","allAccMakerData","allAccModelData","forEach","existingMaker","maker","accMakerCode","accTypeCode","push","accMakerName","accModelCode","accModelName","accSize","initialAccSelections","fetchMasterData","sizeRes","matRes","trimMatRes","optionRes","ratingRes","Promise","all","sizeData","matData","trimMatData","optionData","ratingData","bodyBonnetRes","bodyConnectionRes","trimTypeRes","trimSeriesRes","trimPortSizeRes","trimFormRes","actTypeRes","actSeriesRes","actHWRes","bodyBonnetData","bodyConnectionData","trimTypeData","trimSeriesData","trimPortSizeData","trimFormData","actTypeData","actSeriesData","actHWData","generatePartNumber","bodySection","join","trimSection","actSection","accSection","loadExistingData","_data$estimateSheet","_data$estimateSheet2","userStr","localStorage","getItem","currentUser","JSON","parse","userId","estimateSheet","project","isStatusThree","isCurrentUserManager","managerID","shouldBeReadOnly","estimateRequests","Map","req","valveType","has","get","count","tagNos","reduce","sum","tag","qty","totalQty","set","order","typesData","Array","from","entries","code","info","valveInfo","v","valveSeriesCode","id","valveSeries","valvesData","bodyTypeName","ratingInfo","r","bodyRating","tagNo","typeId","fluid","medium","density","molecular","molecularWeight","t1","max","inletTemperatureQ","normal","inletTemperatureNorQ","min","inletTemperatureMinQ","p1","inletPressureMaxQ","inletPressureNorQ","inletPressureMinQ","p2","outletPressureMaxQ","outletPressureNorQ","outletPressureMinQ","dp","differentialPressureMaxQ","differentialPressureNorQ","differentialPressureMinQ","qm","qmMax","qmNor","qmMin","unit","qmUnit","qn","qnMax","qnNor","qnMin","qnUnit","pressureUnit","temperatureUnit","bodySize","sizeUnit","bodySizeUnit","bodyMat","trimMat","trimOption","actuator","actType","isHW","accessory","positionerType","exists","isPositioner","explosionProof","transmitter","transmitterType","solenoidValve","isSolenoid","limitSwitch","isLimSwitch","airSet","isAirSet","isVolumeBooster","airOperatedValve","isAirOperated","lockupValve","isLockUp","isSnapActingRelay","isQM","isP2","isN1","isDensity","fileList","fileSize","handleStatusChange","newStatus","getStatusCodeFromText","newStatusCode","Error","estimateResponse","estimateData","headers","stringify","_estimateData$estimat","errorData","message","handleDownloadFile","toLowerCase","endsWith","attachmentID","handleUploadManagerFile","formData","FormData","append","fileInput","getElementById","handleGenerateDatasheet","handleGenerateFile","apiEndpoint","fileTypeName","result","handleDeleteManagerFile","handleSaveSpecification","_accSelections$positi","_accSelections$positi2","_accSelections$soleno","_accSelections$soleno2","_accSelections$limite","_accSelections$limite2","_accSelections$airSup","_accSelections$airSup2","_accSelections$volume","_accSelections$volume2","_accSelections$airOpe","_accSelections$airOpe2","_accSelections$lockUp","_accSelections$lockUp2","_accSelections$snapAc","_accSelections$snapAc2","specificationData","valveId","portSize","portSizeUnit","accessories","PosCode","PosMakerCode","SolCode","SolMakerCode","LimCode","LimMakerCode","ASCode","ASMakerCode","VolCode","VolMakerCode","AirOpCode","AirOpMakerCode","LockupCode","LockupMakerCode","SnapActCode","SnapActMakerCode","saveSpecDto","Accessories","AccessorySelector","accTypeKey","makerSearchTerm","setMakerSearchTerm","modelSearchTerm","setModelSearchTerm","specSearchTerm","setSpecSearchTerm","isDropdownOpen","setIsDropdownOpen","isSelected","setIsSelected","dropdownRef","currentAcc","_accMakerList$find","_accModelList$find","selectedMakerName","selectedModelName","model","filteredModels","allSearchTerms","term","lowerCaseSearchWords","word","flat","_accMakerList$find2","makerName","modelName","every","handleSelectAccessory","selectedModel","_accMakerList$find3","handleReset","handleClickOutside","current","contains","addEventListener","removeEventListener","className","ref","children","placeholder","onChange","onFocus","readOnly","_jsxFileName","lineNumber","columnNumber","onClick","disabled","_accMakerList$find4","bodyValveListLength","bodyRatingListLength","updatedTypes","hasChanges","updatedType","index","ratingItem","_specificationData$bo","_specificationData$bo2","_specificationData$bo3","portSizeCode","optionCode","newAccSelections","accKeys","key","accObj","String","tempData","StepsSection","sheetId","open","selectedTypeData","t","bonnet","arr","indexOf","bodySizeCode","selectedUnit","ratingName","trimOptionCode","trimForm","actSeries","actSize","justifyContent","alignItems","marginBottom","success","padding","backgroundColor","color","border","borderRadius","cursor","fontSize","title","marginLeft","colSpan","ManagerAttachmentsSection","CustomerRequirementSection","StaffCommentSection","CustomerAttachmentsSection","uploadDate","uploadUserID","borderLeft","width","char","_c","$RefreshReg$"],"sources":["/Users/simjimin/Downloads/final_develop/projec/frontend/src/pages/Dashboard/EstimateDetailPage.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef, useMemo } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { getEstimateDetail } from '../../api/estimateRequest';\nimport './DashboardPages.css';\nimport './EstimateDetailPage.css';\n\n// í¬ë¡œìŠ¤í”Œë«í¼ ê²½ë¡œ ì²˜ë¦¬ë¥¼ ìœ„í•œ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜\nconst isManagerFile = (filePath: string): boolean => {\n  if (!filePath) return false;\n  \n  // Windowsì™€ Unix ê²½ë¡œ ëª¨ë‘ ì§€ì›\n  const normalizedPath = filePath.replace(/\\\\/g, '/'); // Windows ë°±ìŠ¬ë˜ì‹œë¥¼ ìŠ¬ë˜ì‹œë¡œ ë³€í™˜\n  \n  // ë‹¤ì–‘í•œ ê²½ë¡œ íŒ¨í„´ ì§€ì›\n  const managerFilePatterns = [\n    '/ResultFiles/',\n    '\\\\ResultFiles\\\\',\n    'ResultFiles/',\n    'ResultFiles\\\\'\n  ];\n  \n  return managerFilePatterns.some(pattern => normalizedPath.includes(pattern));\n};\n\n// ê²½ë¡œì—ì„œ managerFileType ì¶”ì¶œí•˜ëŠ” í¬ë¡œìŠ¤í”Œë«í¼ í•¨ìˆ˜\nconst extractManagerFileType = (filePath: string): string | null => {\n  if (!filePath) return null;\n  \n  const normalizedPath = filePath.replace(/\\\\/g, '/');\n  const pathParts = normalizedPath.split('/');\n  const resultFilesIndex = pathParts.findIndex(part => part === 'ResultFiles');\n  \n  if (resultFilesIndex !== -1 && resultFilesIndex + 1 < pathParts.length) {\n    return pathParts[resultFilesIndex + 1];\n  }\n  \n  return null;\n};\n\n// CustomerRequest íŒŒì¼ì¸ì§€ í™•ì¸í•˜ëŠ” í¬ë¡œìŠ¤í”Œë«í¼ í•¨ìˆ˜\nconst isCustomerFile = (filePath: string): boolean => {\n  if (!filePath) return false;\n  \n  const normalizedPath = filePath.replace(/\\\\/g, '/');\n  \n  const customerFilePatterns = [\n    '/CustomerRequest/',\n    '\\\\CustomerRequest\\\\',\n    'CustomerRequest/',\n    'CustomerRequest\\\\'\n  ];\n  \n  return customerFilePatterns.some(pattern => normalizedPath.includes(pattern));\n};\n\ninterface AccessorySelectorProps {\n  accTypeKey: string;\n  accSelections: { [key: string]: { typeCode: string; makerCode: string; modelCode: string; specification: string; }; };\n  setAccSelections: React.Dispatch<React.SetStateAction<{\n    positioner: { typeCode: string; makerCode: string; modelCode: string; specification: string; };\n    solenoid: { typeCode: string; makerCode: string; modelCode: string; specification: string; };\n    limiter: { typeCode: string; makerCode: string; modelCode: string; specification: string; };\n    airSupply: { typeCode: string; makerCode: string; modelCode: string; specification: string; };\n    volumeBooster: { typeCode: string; makerCode: string; modelCode: string; specification: string; };\n    airOperator: { typeCode: string; makerCode: string; modelCode: string; specification: string; };\n    lockUp: { typeCode: string; makerCode: string; modelCode: string; specification: string; };\n    snapActingRelay: { typeCode: string; makerCode: string; modelCode: string; specification: string; };\n  }>>;\n  accMakerList: any[];\n  accModelList: any[];\n}\n\ninterface ValveData {\n  id: string;\n  tagNo: string;\n  qty: number;\n  order: number;\n  sheetID: number;\n  typeId: string;\n  fluid: {\n    medium: string;\n    fluid: string;\n    density: string;\n    molecular: string;\n    t1: { max: number; normal: number; min: number; };\n    p1: { max: number; normal: number; min: number; };\n    p2: { max: number; normal: number; min: number; };\n    dp: { max: number; normal: number; min: number; };\n    qm: { max: number; normal: number; min: number; unit: string; };\n    qn: { max: number; normal: number; min: number; unit: string; };\n    pressureUnit: string;\n    temperatureUnit: string;\n  };\n  body: {\n    type: string;\n    typeCode: string;\n    size: string;\n    sizeUnit: string;\n    materialBody: string;\n    materialTrim: string;\n    option: string;\n    rating: string;\n    ratingUnit: string;\n  };\n  actuator: {\n    type: string;\n    hw: string;\n  };\n  accessory: {\n    positioner: { type: string; exists: boolean; };\n    explosionProof: string;\n    transmitter: { type: string; exists: boolean; };\n    solenoidValve: boolean;\n    limitSwitch: boolean;\n    airSet: boolean;\n    volumeBooster: boolean;\n    airOperatedValve: boolean;\n    lockupValve: boolean;\n    snapActingRelay: boolean;\n  };\n  isQM: boolean;\n  isP2: boolean;\n  isN1: boolean;\n  isDensity: boolean;\n  isHW: boolean;\n}\n\ninterface TypeData {\n  id: string;\n  name: string;\n  code: string;\n  count: number;\n  order: number;\n}\n\ninterface BodyValveData {\n  valveSeries: string;\n  valveSeriesCode: string;\n}\n\n// ğŸ”‘ íŒŒì¼ ê´€ë ¨ íƒ€ì… ì¶”ê°€\ninterface EstimateAttachment {\n  attachmentID: number;\n  tempEstimateNo: string;\n  fileName: string;\n  filePath: string;\n  fileSize: number;\n  uploadDate: string;\n  uploadUserID: string | null;\n  managerFileType: string;\n}\n\nconst EstimateDetailPage: React.FC = () => {\n  const navigate = useNavigate();\n  const { tempEstimateNo } = useParams<{ tempEstimateNo: string }>();\n  \n  // ìƒíƒœ ê´€ë¦¬\n  const [types, setTypes] = useState<TypeData[]>([]);\n  const [valves, setValves] = useState<ValveData[]>([]);\n  const [selectedValve, setSelectedValve] = useState<ValveData | null>(null);\n  const [selectedType, setSelectedType] = useState<string>('');\n  \n  // ë§ˆìŠ¤í„° ë°ì´í„°\n  const [bodyValveList, setBodyValveList] = useState<BodyValveData[]>([]);\n  const [bodySizeList, setBodySizeList] = useState<any[]>([]);\n  const [bodyMatList, setBodyMatList] = useState<any[]>([]);\n  const [trimMatList, setTrimMatList] = useState<any[]>([]);\n  const [trimOptionList, setTrimOptionList] = useState<any[]>([]);\n  const [bodyRatingList, setBodyRatingList] = useState<any[]>([]);\n  \n  // Step 3 ë§ˆìŠ¤í„° ë°ì´í„°\n  const [bodyBonnetList, setBodyBonnetList] = useState<any[]>([]);\n  const [bodyConnectionList, setBodyConnectionList] = useState<any[]>([]);\n  const [trimTypeList, setTrimTypeList] = useState<any[]>([]);\n  const [trimSeriesList, setTrimSeriesList] = useState<any[]>([]);\n  const [trimPortSizeList, setTrimPortSizeList] = useState<any[]>([]);\n  const [trimFormList, setTrimFormList] = useState<any[]>([]);\n  const [actTypeList, setActTypeList] = useState<any[]>([]);\n  const [actSeriesList, setActSeriesList] = useState<any[]>([]);\n  const [actSizeList, setActSizeList] = useState<any[]>([]);\n  const [actHWList, setActHWList] = useState<any[]>([]);\n  const [accMakerList, setAccMakerList] = useState<any[]>([]);\n  const [accModelList, setAccModelList] = useState<any[]>([]);\n  \n  // ê¸°íƒ€ ë°ì´í„°\n  const [customerRequirement, setCustomerRequirement] = useState(''); // ê³ ê° ìš”ì²­ì‚¬í•­\n  const [staffComment, setStaffComment] = useState(''); // ê´€ë¦¬ì ì½”ë©˜íŠ¸\n  const [attachments, setAttachments] = useState<File[]>([]);\n  const [customerAttachments, setCustomerAttachments] = useState<any[]>([]); // ê³ ê° ìš”ì²­ ì²¨ë¶€íŒŒì¼\n  const [managerAttachments, setManagerAttachments] = useState<any[]>([]); // ê´€ë¦¬ ì²¨ë¶€íŒŒì¼\n  const [currentStatus, setCurrentStatus] = useState<string>('ê²¬ì ìš”ì²­');\n  const [isReadOnly, setIsReadOnly] = useState(false); // ì½ê¸° ì „ìš© ìƒíƒœ ì¶”ê°€\n\n  // ğŸ”‘ íŒŒì¼ ê´€ë¦¬ ìƒíƒœ ì¶”ê°€\n  const [managerFiles, setManagerFiles] = useState<EstimateAttachment[]>([]);\n  const [customerFiles, setCustomerFiles] = useState<EstimateAttachment[]>([]);\n  const [isLoadingFiles, setIsLoadingFiles] = useState(false);\n\n  // ğŸ”‘ PDF ì—…ë¡œë“œ ê´€ë ¨ state ì¶”ê°€\n  const [selectedPdfFiles, setSelectedPdfFiles] = useState<{ [key: string]: File | null }>({\n    datasheet: null,\n    cvlist: null,\n    vllist: null,\n    singlequote: null,\n    multiquote: null\n  });\n\n  // ğŸ”‘ PDF ë·°ì–´ë¥¼ ìœ„í•œ state ì¶”ê°€\n  const [uploadedPdfUrls, setUploadedPdfUrls] = useState<{ [key: string]: string | null }>({\n    datasheet: null,\n    cvlist: null,\n    vllist: null,\n    singlequote: null,\n    multiquote: null\n  });\n\n  // ğŸ”‘ íŒŒì¼ ì…ë ¥ ref ì¶”ê°€\n  const fileInputRefs = useRef<{ [key: string]: HTMLInputElement | null }>({\n    datasheet: null,\n    cvlist: null,\n    vllist: null,\n    singlequote: null,\n    multiquote: null\n  });\n\n  // ACC ì„¹ì…˜ ì„ íƒ ìƒíƒœ ê´€ë¦¬\n  const [accSelections, setAccSelections] = useState<{\n    positioner: { typeCode: string; makerCode: string; modelCode: string; specification: string; };\n    solenoid: { typeCode: string; makerCode: string; modelCode: string; specification: string; };\n    limiter: { typeCode: string; makerCode: string; modelCode: string; specification: string; };\n    airSupply: { typeCode: string; makerCode: string; modelCode: string; specification: string; };\n    volumeBooster: { typeCode: string; makerCode: string; modelCode: string; specification: string; };\n    airOperator: { typeCode: string; makerCode: string; modelCode: string; specification: string; };\n    lockUp: { typeCode: string; makerCode: string; modelCode: string; specification: string; };\n    snapActingRelay: { typeCode: string; makerCode: string; modelCode: string; specification: string; };\n  }>({ // ê° ì•…ì„¸ì‚¬ë¦¬ì˜ typeCodeë¥¼ í•˜ë“œì½”ë”©ëœ ê°’ìœ¼ë¡œ ì´ˆê¸°í™”\n    positioner: { typeCode: 'A', makerCode: '', modelCode: '', specification: '' },\n    solenoid: { typeCode: 'B', makerCode: '', modelCode: '', specification: '' },\n    limiter: { typeCode: 'C', makerCode: '', modelCode: '', specification: '' },\n    airSupply: { typeCode: 'D', makerCode: '', modelCode: '', specification: '' },\n    volumeBooster: { typeCode: 'E', makerCode: '', modelCode: '', specification: '' },\n    airOperator: { typeCode: 'F', makerCode: '', modelCode: '', specification: '' },\n    lockUp: { typeCode: 'G', makerCode: '', modelCode: '', specification: '' },\n    snapActingRelay: { typeCode: 'H', makerCode: '', modelCode: '', specification: '' },\n  });\n\n  // ëª¨ë“  ìƒíƒœ ë³€ìˆ˜ ì„ ì–¸ í›„, ë Œë”ë§ ì‹œ accSelections ìƒíƒœ ë¡œê¹…\n  //console.log('EstimateDetailPage render - accSelections:', accSelections);\n\n  // TagNoë³„ ì‚¬ìš©ì ì„ íƒê°’ ì„ì‹œ ì €ì¥ (TagNo ë³€ê²½ ì‹œ ë³µì›ìš©)\n  const [tempSelections, setTempSelections] = useState<{\n    [sheetID: number]: {\n      body: any;\n      trim: any;\n      act: any;\n      acc: any;\n    };\n  }>({});\n\n  // í˜„ì¬ ì„ íƒê°’ì„ tempSelectionsì— ì €ì¥í•˜ëŠ” í•¨ìˆ˜\n  const saveCurrentSelections = (sheetID: number) => {\n    if (sheetID) {\n      setTempSelections(prev => ({\n        ...prev,\n        [sheetID]: {\n          body: { ...bodySelections },\n          trim: { ...trimSelections },\n          act: { ...actSelections },\n          acc: { ...accSelections }\n        }\n      }));\n      //console.log(`${sheetID}ì˜ ì„ íƒê°’ë“¤ì„ ì„ì‹œ ì €ì¥í–ˆìŠµë‹ˆë‹¤.`);\n    }\n  };\n\n  // valve ì„ íƒ ì‹œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜\n  const handleValveSelection = (valve: ValveData) => {\n    //console.log('ì„ íƒëœ valveì˜ sheetID:', valve.sheetID); // sheetID ë¡œê·¸ ì¶”ê°€\n    \n    // í˜„ì¬ ì„ íƒëœ valveê°€ ìˆë‹¤ë©´ ì„ íƒê°’ë“¤ì„ ì €ì¥\n    if (selectedValve) {\n      saveCurrentSelections(selectedValve.sheetID);\n    }\n    \n    // ìƒˆë¡œìš´ valve ì„ íƒ\n    setSelectedValve(valve);\n    \n    // ì´ SheetIDì— ì €ì¥ëœ ì„ íƒê°’ì´ ìˆëŠ”ì§€ í™•ì¸\n    if (tempSelections[valve.sheetID]) {\n      // ì €ì¥ëœ ì„ íƒê°’ì´ ìˆìŒ: ë³µì›\n      //console.log(`${valve.sheetID}ì˜ ì €ì¥ëœ ì„ íƒê°’ì„ ë³µì›í•©ë‹ˆë‹¤.`);\n      restoreTempSelections(valve.sheetID);\n    } else {\n      // ì €ì¥ëœ ì„ íƒê°’ì´ ì—†ìŒ: DBì—ì„œ ì´ˆê¸° ë°ì´í„° ë¡œë“œ\n      //console.log(`${valve.sheetID}ì˜ ì´ˆê¸° ë°ì´í„°ë¥¼ DBì—ì„œ ë¡œë“œí•©ë‹ˆë‹¤.`);\n      loadInitialSpecification(valve.sheetID);\n    }\n  };\n\n                    // Body ì„¹ì…˜ ì„ íƒ ìƒíƒœ ê´€ë¦¬\n                  const [bodySelections, setBodySelections] = useState({\n                    bonnetType: '',\n                    bonnetTypeCode: '', // Code ê°’ ì¶”ê°€\n                    materialBody: '',\n                    materialBodyCode: '', // Code ê°’ ì¶”ê°€\n                    sizeBodyUnit: '',\n                    sizeBody: '',\n                    sizeBodyUnitCode: '', // Code ê°’ ì¶”ê°€\n                    sizeBodyCode: '', // Code ê°’ ì¶”ê°€\n                    ratingUnit: '',\n                    rating: '',\n                    ratingUnitCode: '', // Code ê°’ ì¶”ê°€\n                    ratingCode: '', // Code ê°’ ì¶”ê°€\n                    connection: '',\n                    connectionCode: '' // Code ê°’ ì¶”ê°€\n                  });\n                \n                  // Trim ì„¹ì…˜ ì„ íƒ ìƒíƒœ ê´€ë¦¬\n                  const [trimSelections, setTrimSelections] = useState({\n                    trimType: '',\n                    trimTypeCode: '', // Code ê°’ ì¶”ê°€\n                    trimSeries: '',\n                    trimSeriesCode: '', // Code ê°’ ì¶”ê°€\n                    materialTrim: '',\n                    materialTrimCode: '', // Code ê°’ ì¶”ê°€\n                    sizePortUnit: '',\n                    sizePort: '',\n                    sizePortUnitCode: '', // Code ê°’ ì¶”ê°€\n                    sizePortCode: '', // Code ê°’ ì¶”ê°€\n                    form: '',\n                    formCode: '', // Code ê°’ ì¶”ê°€\n                    option: '' // Trim Option í•„ë“œ ì¶”ê°€\n                  });\n                \n                  // ACT ì„¹ì…˜ ì„ íƒ ìƒíƒœ ê´€ë¦¬\n                  const [actSelections, setActSelections] = useState({\n                    actionType: '',\n                    actionTypeCode: '', // Code ê°’ ì¶”ê°€\n                    series: '',\n                    seriesCode: '', // Code ê°’ ì¶”ê°€\n                    size: '',\n                    sizeCode: '', // Code ê°’ ì¶”ê°€\n                    hw: '',\n                    hwCode: '' // Code ê°’ ì¶”ê°€\n                  });\n\n  // ìƒíƒœ ë° í”„ë¡œì íŠ¸ ì •ë³´\n  const [projectName, setProjectName] = useState<string>('');\n\n  // BodyValveList ê°€ì ¸ì˜¤ê¸°\n  const fetchBodyValveList = async () => {\n    try {\n      const response = await fetch('http://localhost:5135/api/estimate/body-valve-list');\n      const data = await response.json();\n      setBodyValveList(data);\n    } catch (error) {\n      console.error('BodyValveList ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨:', error);\n    }\n  };\n\n  // ACT Size ëª©ë¡ ê°€ì ¸ì˜¤ê¸°\n  const fetchActSizeList = async (actSeriesCode: string) => {\n    try {\n      console.log('fetchActSizeList ì‹œì‘:', actSeriesCode);\n      const response = await fetch(`http://localhost:5135/api/masterdata/act/size?actSeriesCode=${actSeriesCode}`);\n      const data = await response.json();\n      console.log('ACT Size API ì‘ë‹µ:', data);\n      setActSizeList(data || []);\n    } catch (error) {\n      console.error('ACT Size ëª©ë¡ ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨:', error);\n      setActSizeList([]);\n    }\n  };\n\n  // ğŸ”‘ íŒŒì¼ ê´€ë¦¬ í•¨ìˆ˜ë“¤ ì¶”ê°€\n  const fetchManagerFiles = async () => {\n    if (!tempEstimateNo) return;\n    \n    try {\n      setIsLoadingFiles(true);\n      console.log('ğŸ”„ fetchManagerFiles ì‹œì‘ - tempEstimateNo:', tempEstimateNo);\n      const response = await fetch(`http://localhost:5135/api/estimate/sheets/${tempEstimateNo}/attachments`);\n      console.log('ğŸ“¡ API ì‘ë‹µ ìƒíƒœ:', response.status, response.ok);\n      \n      if (response.ok) {\n        const attachments = await response.json();\n        console.log('ğŸ“¥ API ì‘ë‹µ ë°ì´í„°:', attachments);\n        console.log('ğŸ“¥ API ì‘ë‹µ ë°ì´í„° ê¸¸ì´:', attachments.length);\n        \n        // ğŸ”‘ ResultFiles ê²½ë¡œì˜ ëª¨ë“  íŒŒì¼ ê°€ì ¸ì˜¤ê¸° (ì—‘ì…€ + PDF)\n        const allManagerFiles = attachments.filter((att: any) => {\n          const filePath = att.path || att.filePath;\n          const isManagerFileResult = filePath && isManagerFile(filePath);\n          console.log('ğŸ” íŒŒì¼ í•„í„°ë§ ì²´í¬:', att.name || att.fileName, 'ê²½ë¡œ:', filePath, 'ê´€ë¦¬íŒŒì¼ì—¬ë¶€:', isManagerFileResult);\n          return isManagerFileResult;\n        }).map((att: any) => {\n          // ê²½ë¡œì—ì„œ managerFileType ì¶”ì¶œ (í¬ë¡œìŠ¤í”Œë«í¼)\n          const filePath = att.path || att.filePath;\n          att.managerFileType = extractManagerFileType(filePath);\n          console.log('ğŸ·ï¸ ì¶”ì¶œëœ managerFileType:', att.managerFileType);\n          return att;\n        });\n        \n        setManagerFiles(allManagerFiles);\n        console.log('âœ… ê´€ë¦¬ì íŒŒì¼ ëª©ë¡ ë¡œë“œ ì™„ë£Œ:', allManagerFiles.length, 'ê°œ');\n        console.log('ğŸ” í•„í„°ë§ëœ ê´€ë¦¬ íŒŒì¼ë“¤:', allManagerFiles);\n      } else {\n        console.error('âŒ API ì‘ë‹µ ì‹¤íŒ¨:', response.status, response.statusText);\n      }\n    } catch (error) {\n      console.error('ê´€ë¦¬ì íŒŒì¼ ëª©ë¡ ì¡°íšŒ ì¤‘ ì˜¤ë¥˜:', error);\n    } finally {\n      setIsLoadingFiles(false);\n    }\n  };\n\n  const fetchCustomerFiles = async () => {\n    if (!tempEstimateNo) return;\n    \n    try {\n      setIsLoadingFiles(true);\n      console.log('ğŸ”„ fetchCustomerFiles ì‹œì‘ - tempEstimateNo:', tempEstimateNo);\n      const response = await fetch(`http://localhost:5135/api/estimate/sheets/${tempEstimateNo}/attachments`);\n      console.log('ğŸ“¡ API ì‘ë‹µ ìƒíƒœ:', response.status, response.ok);\n      \n      if (response.ok) {\n        const attachments = await response.json();\n        console.log('ğŸ“¥ API ì‘ë‹µ ë°ì´í„°:', attachments);\n        console.log('ğŸ“¥ API ì‘ë‹µ ë°ì´í„° ê¸¸ì´:', attachments.length);\n        \n        // ğŸ”‘ NewEstimateRequestPageì™€ ë™ì¼í•œ ë¡œì§ìœ¼ë¡œ ìˆ˜ì •\n        // ê³ ê° íŒŒì¼ì€ ResultFilesê°€ ì•„ë‹Œ ê²½ë¡œì— ìˆëŠ” íŒŒì¼ë“¤\n        const customerFiles = attachments.filter((att: any) => {\n          const filePath = att.path || att.filePath;\n          const isCustomerFile = filePath && !isManagerFile(filePath);\n          console.log('ğŸ” íŒŒì¼ í•„í„°ë§ ì²´í¬:', att.name || att.fileName, 'ê²½ë¡œ:', filePath, 'ê³ ê°íŒŒì¼ì—¬ë¶€:', isCustomerFile);\n          return isCustomerFile;\n        });\n        \n        setCustomerFiles(customerFiles);\n        console.log('âœ… ê³ ê° íŒŒì¼ ëª©ë¡ ë¡œë“œ ì™„ë£Œ:', customerFiles.length, 'ê°œ');\n        console.log('ğŸ” í•„í„°ë§ëœ ê³ ê° íŒŒì¼ë“¤:', customerFiles);\n      } else {\n        console.error('âŒ API ì‘ë‹µ ì‹¤íŒ¨:', response.status, response.statusText);\n      }\n    } catch (error) {\n      console.error('ê³ ê° íŒŒì¼ ëª©ë¡ ì¡°íšŒ ì¤‘ ì˜¤ë¥˜:', error);\n    } finally {\n      setIsLoadingFiles(false);\n    }\n  };\n\n  const deleteFile = async (managerFileType: string) => {\n    if (!tempEstimateNo) return;\n    \n    if (!window.confirm('ì •ë§ë¡œ ì´ íŒŒì¼ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {\n      return;\n    }\n    \n    try {\n      const response = await fetch(`http://localhost:5135/api/estimate/sheets/${tempEstimateNo}/files/${managerFileType}`, {\n        method: 'DELETE'\n      });\n      \n      if (response.ok) {\n        // íŒŒì¼ ëª©ë¡ ìƒˆë¡œê³ ì¹¨\n        await fetchManagerFiles();\n        alert('íŒŒì¼ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');\n      } else {\n        alert('íŒŒì¼ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');\n      }\n    } catch (error) {\n      console.error('íŒŒì¼ ì‚­ì œ ì¤‘ ì˜¤ë¥˜:', error);\n      alert('íŒŒì¼ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');\n    }\n  };\n\n  const downloadFile = async (filePath: string, fileName: string) => {\n    try {\n      // ğŸ”‘ íŒŒì¼ ë‹¤ìš´ë¡œë“œ API ìˆ˜ì • - ìƒˆë¡œ ì¶”ê°€ëœ API ì‚¬ìš©\n      const response = await fetch(`http://localhost:5135/api/estimate/attachments/download?filePath=${encodeURIComponent(filePath)}`);\n      if (response.ok) {\n        const blob = await response.blob();\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = fileName;\n        document.body.appendChild(a);\n        a.click();\n        window.URL.revokeObjectURL(url);\n        document.body.removeChild(a);\n      } else {\n        // ğŸ”‘ ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨ ì‹œ ìƒì„¸ ì—ëŸ¬ ì •ë³´ í‘œì‹œ\n        const errorText = await response.text();\n        console.error('íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨:', response.status, errorText);\n        alert(`íŒŒì¼ ë‹¤ìš´ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. (${response.status})\\n${errorText}`);\n      }\n    } catch (error) {\n      console.error('íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì¤‘ ì˜¤ë¥˜:', error);\n      alert('íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');\n    }\n  };\n\n  const getFileTypeDisplayName = (managerFileType: string) => {\n    const typeMap: { [key: string]: string } = {\n      'cvlist': 'CV List',\n      'vllist': 'VL List',\n      'datasheet': 'DataSheet',\n      'singlequote': 'ë‹¨í’ˆê²¬ì ì„œ',\n      'multiquote': 'ë‹¤ìˆ˜ëŸ‰ê²¬ì ì„œ'\n    };\n    return typeMap[managerFileType] || managerFileType;\n  };\n\n  const formatFileSize = (bytes: number) => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleString('ko-KR');\n  };\n\n  // ğŸ”‘ PDF ì—…ë¡œë“œ ê´€ë ¨ í•¨ìˆ˜ë“¤ ì¶”ê°€\n  const handlePdfUpload = (event: React.ChangeEvent<HTMLInputElement>, fileType: string) => {\n    // ğŸ”‘ í™”ë©´ ì´ë™ ë°©ì§€\n    event.preventDefault();\n    \n    const file = event.target.files?.[0];\n    if (file) {\n      if (file.type !== 'application/pdf') {\n        alert('PDF íŒŒì¼ë§Œ ì—…ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤.');\n        return;\n      }\n      \n      // ğŸ”‘ ìƒíƒœ ì—…ë°ì´íŠ¸ë¥¼ ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬í•˜ì—¬ í™”ë©´ ì´ë™ ë°©ì§€\n      setTimeout(() => {\n        setSelectedPdfFiles(prev => ({\n          ...prev,\n          [fileType]: file\n        }));\n      }, 0);\n    }\n  };\n\n  // ğŸ”‘ íŒŒì¼ ì„ íƒì„ ìœ„í•œ ë³„ë„ í•¨ìˆ˜ ì¶”ê°€\n  const handleFileSelect = (fileType: string) => {\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.accept = '.pdf';\n    input.style.display = 'none';\n    \n    input.onchange = (e) => {\n      const target = e.target as HTMLInputElement;\n      if (target.files && target.files[0]) {\n        const file = target.files[0];\n        if (file.type !== 'application/pdf') {\n          alert('PDF íŒŒì¼ë§Œ ì—…ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤.');\n          return;\n        }\n        \n        setSelectedPdfFiles(prev => ({\n          ...prev,\n          [fileType]: file\n        }));\n      }\n    };\n    \n    document.body.appendChild(input);\n    input.click();\n    document.body.removeChild(input);\n  };\n\n                    // Body ì„¹ì…˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë“¤\n                  const handleBodyChange = (field: string, value: string) => {\n                    setBodySelections(prev => {\n                      const newSelections = { ...prev, [field]: value };\n                      \n                      // Bonnet Type ë³€ê²½ ì‹œ ì½”ë“œ ê°’ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸\n                      if (field === 'bonnetType') {\n                        const selectedItem = bodyBonnetList.find(item => item.bonnetCode === value);\n                        if (selectedItem) {\n                          newSelections.bonnetTypeCode = selectedItem.bonnetCode;\n                        }\n                      }\n                      \n                      // Material Body ë³€ê²½ ì‹œ ì½”ë“œ ê°’ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸\n                      if (field === 'materialBody') {\n                        const selectedItem = bodyMatList.find(item => item.bodyMatCode === value);\n                        if (selectedItem) {\n                          newSelections.materialBodyCode = selectedItem.bodyMatCode;\n                        }\n                      }\n                      \n                      // Connection ë³€ê²½ ì‹œ ì½”ë“œ ê°’ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸\n                      if (field === 'connection') {\n                        const selectedItem = bodyConnectionList.find(item => item.connectionCode === value);\n                        if (selectedItem) {\n                          newSelections.connectionCode = selectedItem.connectionCode;\n                        }\n                      }\n                      \n                      // Unitì´ ë³€ê²½ë˜ë©´ í•´ë‹¹í•˜ëŠ” ê°’ ì´ˆê¸°í™”\n                      if (field === 'sizeBodyUnit') {\n                        newSelections.sizeBody = '';\n                        newSelections.sizeBodyCode = '';\n                      }\n                      if (field === 'ratingUnit') {\n                        newSelections.rating = '';\n                        newSelections.ratingCode = '';\n                      }\n                      \n                      return newSelections;\n                    });\n                  };\n\n                    // Trim ì„¹ì…˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë“¤\n                  const handleTrimChange = (field: string, value: string) => {\n                    setTrimSelections(prev => {\n                      const newSelections = { ...prev, [field]: value };\n                      \n                      // Trim Type ë³€ê²½ ì‹œ ì½”ë“œ ê°’ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸\n                      if (field === 'trimType') {\n                        const selectedItem = trimTypeList.find(item => item.trimTypeCode === value);\n                        if (selectedItem) {\n                          newSelections.trimTypeCode = selectedItem.trimTypeCode;\n                        }\n                      }\n                      \n                      // Trim Series ë³€ê²½ ì‹œ ì½”ë“œ ê°’ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸\n                      if (field === 'trimSeries') {\n                        const selectedItem = trimSeriesList.find(item => item.trimSeriesCode === value);\n                        if (selectedItem) {\n                          newSelections.trimSeriesCode = selectedItem.trimSeriesCode;\n                        }\n                      }\n                      \n                      // Material Trim ë³€ê²½ ì‹œ ì½”ë“œ ê°’ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸\n                      if (field === 'materialTrim') {\n                        const selectedItem = trimMatList.find(item => item.trimMatCode === value);\n                        if (selectedItem) {\n                          newSelections.materialTrimCode = selectedItem.trimMatCode;\n                        }\n                      }\n                      \n                      // Form ë³€ê²½ ì‹œ ì½”ë“œ ê°’ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸\n                      if (field === 'form') {\n                        const selectedItem = trimFormList.find(item => item.trimFormCode === value);\n                        if (selectedItem) {\n                          newSelections.formCode = selectedItem.trimFormCode;\n                        }\n                      }\n                      \n                      // Unitì´ ë³€ê²½ë˜ë©´ í•´ë‹¹í•˜ëŠ” ê°’ ì´ˆê¸°í™”\n                      if (field === 'sizePortUnit') {\n                        newSelections.sizePort = '';\n                        newSelections.sizePortCode = '';\n                      }\n                      \n                      return newSelections;\n                    });\n                  };\n\n                    // ACT ì„¹ì…˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë“¤\n                  const handleActChange = (field: string, value: string) => {\n                    //console.log('ACT Change:', field, value);\n                    setActSelections(prev => {\n                      const newSelections = { ...prev, [field]: value };\n                      \n                      // Action Type ë³€ê²½ ì‹œ ì½”ë“œ ê°’ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸\n                      if (field === 'actionType') {\n                        const selectedItem = actTypeList.find(item => item.actTypeCode === value);\n                        if (selectedItem) {\n                          newSelections.actionTypeCode = selectedItem.actTypeCode;\n                        }\n                      }\n                      \n                      // Series ë³€ê²½ ì‹œ ì½”ë“œ ê°’ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸\n                      if (field === 'series') {\n                        const selectedItem = actSeriesList.find(item => item.actSeriesCode === value);\n                        if (selectedItem) {\n                          newSelections.seriesCode = selectedItem.actSeriesCode;\n                        }\n                        \n                        newSelections.size = '';\n                        //console.log('Series ë³€ê²½ë¨:', value);\n                        // Seriesê°€ ì„ íƒë˜ë©´ í•´ë‹¹í•˜ëŠ” Size ëª©ë¡ ê°€ì ¸ì˜¤ê¸°\n                        if (value) {\n                          //console.log('fetchActSizeList í˜¸ì¶œ:', value);\n                          fetchActSizeList(value);\n                        } else {\n                          //console.log('actSizeList ì´ˆê¸°í™”');\n                          setActSizeList([]);\n                        }\n                      }\n                      \n                      // Size ë³€ê²½ ì‹œ ì½”ë“œ ê°’ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸\n                      if (field === 'size') {\n                        const selectedItem = actSizeList.find(item => item.actSizeCode === value);\n                        if (selectedItem) {\n                          newSelections.sizeCode = selectedItem.actSizeCode;\n                        }\n                      }\n                      \n                      // H.W ë³€ê²½ ì‹œ ì½”ë“œ ê°’ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸\n                      if (field === 'hw') {\n                        const selectedItem = actHWList.find(item => item.hwCode === value);\n                        if (selectedItem) {\n                          newSelections.hwCode = selectedItem.hwCode;\n                        }\n                      }\n                      \n                      return newSelections;\n                    });\n                  };\n\n\n\n  // ì•…ì„¸ì‚¬ë¦¬ ë°ì´í„° ê°€ì ¸ì˜¤ê¸° (ì¬ì‹œë„ ë¡œì§ í¬í•¨)\n  const fetchAccessoryData = async (retryCount = 0): Promise<boolean> => {\n    const maxRetries = 3;\n    \n    try {\n      console.log(`ì•…ì„¸ì‚¬ë¦¬ ë°ì´í„° ë¡œë”© ì‹œë„ ${retryCount + 1}/${maxRetries + 1}...`);\n      \n      const accSearchRes = await fetch('http://localhost:5135/api/masterdata/acc/search');\n      \n      if (accSearchRes.ok) {\n        const accSearchData = await accSearchRes.json();\n        console.log('ì•…ì„¸ì‚¬ë¦¬ ê²€ìƒ‰ ë°ì´í„° ë¡œë”© ì„±ê³µ:', accSearchData.length, 'ê°œ');\n        \n        // ë©”ì´ì»¤ì™€ ëª¨ë¸ ë°ì´í„° ë¶„ë¦¬\n        const allAccMakerData: any[] = [];\n        const allAccModelData: any[] = [];\n        \n        accSearchData.forEach((item: any) => {\n          // ë©”ì´ì»¤ ë°ì´í„° (ì¤‘ë³µ ì œê±°)\n          const existingMaker = allAccMakerData.find(maker => \n            maker.accMakerCode === item.accMakerCode && maker.accTypeCode === item.accTypeCode\n          );\n          if (!existingMaker) {\n            allAccMakerData.push({\n              accMakerCode: item.accMakerCode,\n              accMakerName: item.accMakerName,\n              accTypeCode: item.accTypeCode\n            });\n          }\n          \n          // ëª¨ë¸ ë°ì´í„°\n          allAccModelData.push({\n            accMakerCode: item.accMakerCode,\n            accModelCode: item.accModelCode,\n            accModelName: item.accModelName,\n            accSize: item.accSize,\n            accTypeCode: item.accTypeCode\n          });\n        });\n        \n        setAccMakerList(allAccMakerData);\n        setAccModelList(allAccModelData);\n        console.log('ì•…ì„¸ì‚¬ë¦¬ ë°ì´í„° ì„¤ì • ì™„ë£Œ - ë©”ì´ì»¤:', allAccMakerData.length, 'ê°œ, ëª¨ë¸:', allAccModelData.length, 'ê°œ');\n        \n        // ì•…ì„¸ì‚¬ë¦¬ ë°ì´í„° ë¡œë“œ ì™„ë£Œ í›„ accSelections ì´ˆê¸°í™”\n        const initialAccSelections = {\n          positioner: { typeCode: 'Positioner', makerCode: '', modelCode: '', specification: '' },\n          solenoid: { typeCode: 'Solenoid', makerCode: '', modelCode: '', specification: '' },\n          limiter: { typeCode: 'Limit', makerCode: '', modelCode: '', specification: '' },\n          airSupply: { typeCode: 'Airset', makerCode: '', modelCode: '', specification: '' },\n          volumeBooster: { typeCode: 'Volume', makerCode: '', modelCode: '', specification: '' },\n          airOperator: { typeCode: 'Airoperate', makerCode: '', modelCode: '', specification: '' },\n          lockUp: { typeCode: 'Lockup', makerCode: '', modelCode: '', specification: '' },\n          snapActingRelay: { typeCode: 'Snapacting', makerCode: '', modelCode: '', specification: '' },\n        };\n        setAccSelections(initialAccSelections);\n        \n        return true; // ì„±ê³µ\n      } else {\n        console.error('ì•…ì„¸ì‚¬ë¦¬ ê²€ìƒ‰ API ì‘ë‹µ ì‹¤íŒ¨:', accSearchRes.status, accSearchRes.statusText);\n        return false; // ì‹¤íŒ¨\n      }\n    } catch (error) {\n      console.error('ì•…ì„¸ì‚¬ë¦¬ ê²€ìƒ‰ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);\n      return false; // ì‹¤íŒ¨\n    }\n  };\n\n  // ë§ˆìŠ¤í„° ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\n  const fetchMasterData = async () => {\n    try {\n      // Step 1, 2 ë§ˆìŠ¤í„° ë°ì´í„° (EstimateController)\n      const [sizeRes, matRes, trimMatRes, optionRes, ratingRes] = await Promise.all([\n        fetch('http://localhost:5135/api/estimate/body-size-list'),\n        fetch('http://localhost:5135/api/estimate/body-mat-list'),\n        fetch('http://localhost:5135/api/estimate/trim-mat-list'),\n        fetch('http://localhost:5135/api/estimate/trim-option-list'),\n        fetch('http://localhost:5135/api/estimate/body-rating-list')\n      ]);\n      \n      const [sizeData, matData, trimMatData, optionData, ratingData] = await Promise.all([\n        sizeRes.json(),\n        matRes.json(),\n        trimMatRes.json(),\n        optionRes.json(),\n        ratingRes.json()\n      ]);\n      \n      setBodySizeList(sizeData || []);\n      setBodyMatList(matData || []);\n      setTrimMatList(trimMatData || []);\n      setTrimOptionList(optionData || []);\n      setBodyRatingList(ratingData || []);\n      //console.log('BodyRatingList ë¡œë“œë¨:', ratingData); // ë””ë²„ê¹… ë¡œê·¸ ì¶”ê°€\n\n      // Step 3 ë§ˆìŠ¤í„° ë°ì´í„° (MasterDataController)\n      const [bodyBonnetRes, bodyConnectionRes, trimTypeRes, trimSeriesRes, trimPortSizeRes, trimFormRes, \n            actTypeRes, actSeriesRes, actHWRes] = await Promise.all([\n        fetch('http://localhost:5135/api/masterdata/body/bonnet'),\n        fetch('http://localhost:5135/api/masterdata/body/connection'),\n        fetch('http://localhost:5135/api/masterdata/trim-type'),\n        fetch('http://localhost:5135/api/masterdata/trim/series'),\n        fetch('http://localhost:5135/api/masterdata/trim/port-size'),\n        fetch('http://localhost:5135/api/masterdata/trim/form'),\n        fetch('http://localhost:5135/api/masterdata/act/type'),\n        fetch('http://localhost:5135/api/masterdata/act/series'),\n        fetch('http://localhost:5135/api/masterdata/act/hw')\n      ]);\n\n      // ê° API ì‘ë‹µì„ ê°œë³„ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ì—¬ ì—ëŸ¬ ë°œìƒ ì‹œì—ë„ ë‹¤ë¥¸ ë°ì´í„°ëŠ” ë¡œë“œí•  ìˆ˜ ìˆë„ë¡ í•¨\n      let bodyBonnetData = [], bodyConnectionData = [], trimTypeData = [], trimSeriesData = [], \n          trimPortSizeData = [], trimFormData = [], actTypeData = [], actSeriesData = [], \n          actHWData = [];\n\n      try {\n        bodyBonnetData = await bodyBonnetRes.json();\n        //console.log('Body Bonnet ë°ì´í„° ë¡œë“œ ì„±ê³µ:', bodyBonnetData.length);\n      } catch (e) {\n        console.error('Body Bonnet ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨:', e);\n      }\n\n      try {\n        bodyConnectionData = await bodyConnectionRes.json();\n        //console.log('Body Connection ë°ì´í„° ë¡œë“œ ì„±ê³µ:', bodyConnectionData.length);\n      } catch (e) {\n        console.error('Body Connection ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨:', e);\n      }\n\n      try {\n        trimTypeData = await trimTypeRes.json();\n        //console.log('Trim Type ë°ì´í„° ë¡œë“œ ì„±ê³µ:', trimTypeData.length);\n      } catch (e) {\n        console.error('Trim Type ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨:', e);\n      }\n\n      try {\n        trimSeriesData = await trimSeriesRes.json();\n        //console.log('Trim Series ë°ì´í„° ë¡œë“œ ì„±ê³µ:', trimSeriesData.length);\n      } catch (e) {\n        console.error('Trim Series ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨:', e);\n      }\n\n      try {\n        trimPortSizeData = await trimPortSizeRes.json();\n        //console.log('Trim Port Size ë°ì´í„° ë¡œë“œ ì„±ê³µ:', trimPortSizeData.length);\n      } catch (e) {\n        console.error('Trim Port Size ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨:', e);\n      }\n\n      try {\n        trimFormData = await trimFormRes.json();\n        //console.log('Trim Form ë°ì´í„° ë¡œë“œ ì„±ê³µ:', trimFormData.length);\n      } catch (e) {\n        console.error('Trim Form ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨:', e);\n      }\n\n      try {\n        actTypeData = await actTypeRes.json();\n        //console.log('Act Type ë°ì´í„° ë¡œë“œ ì„±ê³µ:', actTypeData.length);\n      } catch (e) {\n        console.error('Act Type ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨:', e);\n      }\n\n      try {\n        actSeriesData = await actSeriesRes.json();\n        //console.log('Act Series ë°ì´í„° ë¡œë“œ ì„±ê³µ:', actSeriesData.length);\n      } catch (e) {\n        console.error('Act Series ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨:', e);\n      }\n\n      try {\n        actHWData = await actHWRes.json();\n        //console.log('Act HW ë°ì´í„° ë¡œë“œ ì„±ê³µ:', actHWData.length);\n      } catch (e) {\n        console.error('Act HW ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨:', e);\n      }\n\n\n\n      // ì•…ì„¸ì‚¬ë¦¬ ë°ì´í„° ë¡œë”©ì€ ë³„ë„ í•¨ìˆ˜ë¡œ ë¶„ë¦¬í•˜ì—¬ ì¬ì‹œë„ ê°€ëŠ¥í•˜ë„ë¡ í•¨\n      await fetchAccessoryData();\n\n\n\n      setBodyBonnetList(bodyBonnetData || []);\n      setBodyConnectionList(bodyConnectionData || []);\n      setTrimTypeList(trimTypeData || []);\n      setTrimSeriesList(trimSeriesData || []);\n      setTrimPortSizeList(trimPortSizeData || []);\n      setTrimFormList(trimFormData || []);\n      setActTypeList(actTypeData || []);\n      setActSeriesList(actSeriesData || []);\n      setActHWList(actHWData || []);\n\n    } catch (error) {\n      console.error('ë§ˆìŠ¤í„° ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨:', error);\n      \n      // ê°œë³„ API ì‘ë‹µ ìƒíƒœ í™•ì¸ì„ ìœ„í•œ ë¡œê¹… ì¶”ê°€\n      //console.log('ë§ˆìŠ¤í„° ë°ì´í„° ë¡œë”© ìƒíƒœ:');\n      //console.log('- Body Size:', bodySizeList.length);\n      //console.log('- Body Material:', bodyMatList.length);\n      //console.log('- Trim Material:', trimMatList.length);\n      //\n      \n      // ì—ëŸ¬ ë°œìƒ ì‹œ ë¹ˆ ë°°ì—´ë¡œ ì„¤ì •\n      setBodySizeList([]);\n      setBodyMatList([]);\n      setTrimMatList([]);\n      setTrimOptionList([]);\n      setBodyRatingList([]);\n      setBodyBonnetList([]);\n      setBodyConnectionList([]);\n      setTrimTypeList([]);\n      setTrimSeriesList([]);\n      setTrimPortSizeList([]);\n      setTrimFormList([]);\n      setActTypeList([]);\n      setActSeriesList([]);\n      setActHWList([]);\n      setAccMakerList([]);\n      setAccModelList([]);\n    }\n  };\n\n  // í’ˆë²ˆ ìƒì„± í•¨ìˆ˜ - ì„¹ì…˜ë³„ë¡œ êµ¬ë¶„\n  const generatePartNumber = useMemo(() => {\n    try {\n      // BODY ì„¹ì…˜ (6ìë¦¬) - ì½”ë“œ ì‚¬ìš©\n      const bodySection = [\n        bodySelections.bonnetTypeCode || '0',\n        '2', // valveSeries ê¸°ë³¸ê°’\n        bodySelections.materialBodyCode || '0',\n        bodySelections.sizeBodyCode || '0',\n        bodySelections.ratingCode || '0',\n        bodySelections.connectionCode || '0'\n      ].join('');\n      \n      // TRIM ì„¹ì…˜ (6ìë¦¬) - ì½”ë“œ ì‚¬ìš©\n      const trimSection = [\n        trimSelections.trimTypeCode || '0',\n        trimSelections.trimSeriesCode || '0',\n        trimSelections.materialTrimCode || '0',\n        trimSelections.sizePortCode || '0',\n        trimSelections.sizePortCode || '0', // ì¤‘ë³µ\n        trimSelections.formCode || '0'\n      ].join('');\n      \n      // ACT ì„¹ì…˜ (4ìë¦¬) - ì½”ë“œ ì‚¬ìš©\n      const actSection = [\n        actSelections.actionTypeCode || '0',\n        actSelections.seriesCode || '0',\n        actSelections.sizeCode || '0',\n        actSelections.hwCode || '0'\n      ].join('');\n      \n      // ACC ì„¹ì…˜ (11ìë¦¬)\n      const accSection = [\n        accSelections.positioner.makerCode || '0',\n        accSelections.positioner.modelCode || '0',\n        accSelections.solenoid.makerCode || '0',\n        accSelections.solenoid.modelCode || '0',\n        accSelections.limiter.makerCode || '0',\n        accSelections.limiter.modelCode || '0',\n        accSelections.airSupply.modelCode || '0',\n        accSelections.volumeBooster.modelCode || '0',\n        accSelections.airOperator.modelCode || '0',\n        accSelections.lockUp.modelCode || '0',\n        accSelections.snapActingRelay.modelCode || '0'\n      ].join('');\n      \n      // ì„¹ì…˜ì„ '-'ë¡œ êµ¬ë¶„í•˜ì—¬ ë°˜í™˜\n      return `${bodySection}-${trimSection}-${actSection}-${accSection}`;\n      \n    } catch (error) {\n      console.error('í’ˆë²ˆ ìƒì„± ì¤‘ ì˜¤ë¥˜:', error);\n      return '000000-000000-0000-00000000000';\n    }\n  }, [bodySelections, trimSelections, actSelections, accSelections]);\n\n  // ê¸°ì¡´ ë°ì´í„° ë¡œë“œ\n  const loadExistingData = useCallback(async () => {\n    if (!tempEstimateNo) return;\n    \n    //console.log('í˜„ì¬ tempEstimateNo:', tempEstimateNo); // tempEstimateNo ë¡œê·¸ ì¶”ê°€\n    \n    try {\n      // í˜„ì¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ì ì •ë³´ ê°€ì ¸ì˜¤ê¸°\n      const userStr = localStorage.getItem('user');\n      const currentUser = userStr ? JSON.parse(userStr) : null;\n\n      // currentUserIdëŠ” ì„ì‹œë¡œ 'admin' ì‚¬ìš© (ì‹¤ì œë¡œëŠ” ë¡œê·¸ì¸ëœ ì‚¬ìš©ì IDë¥¼ ì‚¬ìš©í•´ì•¼ í•¨)\n      const response = await getEstimateDetail(tempEstimateNo, currentUser?.userId || 'admin'); // ì‹¤ì œ ì‚¬ìš©ì ID ì‚¬ìš©\n      const data = response;\n      \n      //console.log('ê²¬ì  ìƒì„¸ ë°ì´í„°:', data);\n      \n      // í”„ë¡œì íŠ¸ëª… ì„¤ì •\n      if (data.estimateSheet && data.estimateSheet.project) {\n        setProjectName(data.estimateSheet.project);\n      }\n      \n      // í˜„ì¬ ìƒíƒœ ì„¤ì •\n      if (data.estimateSheet && data.estimateSheet.statusText) {\n        //console.log('API ì‘ë‹µì˜ StatusText:', data.estimateSheet.statusText); // ì´ ë¼ì¸ ì¶”ê°€\n        setCurrentStatus(data.estimateSheet.statusText);\n      } else {\n        //console.log('API ì‘ë‹µì— estimateSheet.statusTextê°€ ì—†ê±°ë‚˜ ë¹„ì–´ìˆìŠµë‹ˆë‹¤.'); // ì´ ë¼ì¸ ì¶”ê°€\n      }\n      \n      // ì½ê¸° ì „ìš© ìƒíƒœ ì„¤ì •\n      const isStatusThree = data.estimateSheet?.status === 3; // ìƒíƒœê°€ 3 (ê²¬ì ì²˜ë¦¬ì¤‘)ì¸ì§€\n      const isCurrentUserManager = currentUser?.userId === data.estimateSheet?.managerID; // í˜„ì¬ ì‚¬ìš©ìê°€ ë‹´ë‹¹ìì¸ì§€\n      \n      const shouldBeReadOnly = !(isStatusThree && isCurrentUserManager); // ë‘˜ ë‹¤ ì°¸ì¼ ë•Œë§Œ false (ìˆ˜ì • ê°€ëŠ¥)\n      setIsReadOnly(shouldBeReadOnly);\n      //console.log('EstimateDetailPage isReadOnly ì„¤ì •ë¨:', shouldBeReadOnly);\n      //console.log('  status:', data.estimateSheet?.status, '(3ì´ë©´ ê²¬ì ì²˜ë¦¬ì¤‘)');\n      //console.log('  managerID:', data.estimateSheet?.managerID);\n      //console.log('  currentUser.userId:', currentUser?.userId);\n      \n      // EstimateRequest ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ typesì™€ valves ì„¤ì •\n      if (data.estimateRequests && data.estimateRequests.length > 0) {\n        // Type ì •ë³´ ì„¤ì •\n        const typeMap = new Map<string, { count: number; order: number }>();\n        \n        data.estimateRequests.forEach((req: any) => {\n          const valveType = req.valveType;\n          if (typeMap.has(valveType)) {\n            typeMap.get(valveType)!.count += req.tagNos.reduce((sum: number, tag: any) => sum + tag.qty, 0);\n          } else {\n            const totalQty = req.tagNos.reduce((sum: number, tag: any) => sum + tag.qty, 0);\n            typeMap.set(valveType, { count: totalQty, order: typeMap.size + 1 });\n          }\n        });\n        \n        const typesData = Array.from(typeMap.entries()).map(([code, info]) => {\n          // bodyValveListê°€ ë¡œë“œë˜ì§€ ì•Šì€ ê²½ìš°ë¥¼ ëŒ€ë¹„í•˜ì—¬ ê¸°ë³¸ê°’ ì„¤ì •\n          const valveInfo = bodyValveList.find(v => v.valveSeriesCode === code);\n          return {\n            id: code,\n            name: valveInfo ? valveInfo.valveSeries : `Valve Type ${code}`,\n            code: code,\n            count: info.count,\n            order: info.order\n          };\n        });\n        \n        setTypes(typesData);\n        \n        // Valve ì •ë³´ ì„¤ì • - TagNoDetailDtoë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë³€í™˜\n        const valvesData: ValveData[] = [];\n        data.estimateRequests.forEach((req: any) => {\n          req.tagNos.forEach((tag: any) => {\n            // Body Type ì´ë¦„ ê°€ì ¸ì˜¤ê¸°\n            const valveInfo = bodyValveList.find(v => v.valveSeriesCode === req.valveType);\n            const bodyTypeName = valveInfo ? valveInfo.valveSeries : `Valve Type ${req.valveType}`;\n            \n            // Rating Unit ê°€ì ¸ì˜¤ê¸° (bodyRatingListì—ì„œ ì°¾ê¸°)\n            const ratingInfo = bodyRatingList.find(r => r.ratingCode === tag.bodyRating);\n            const ratingUnit = ratingInfo ? ratingInfo.ratingUnit : '';\n            \n            valvesData.push({\n              id: `${tag.sheetID}`,\n              tagNo: tag.tagNo,\n              qty: tag.qty,\n              order: tag.sheetID,\n              sheetID: tag.sheetID,\n              typeId: req.valveType,\n              fluid: {\n                medium: tag.medium || '',\n                fluid: tag.fluid || '',\n                density: tag.density || '',\n                molecular: tag.molecularWeight || '',\n                t1: { max: tag.inletTemperatureQ || 0, normal: tag.inletTemperatureNorQ || 0, min: tag.inletTemperatureMinQ || 0 },\n                p1: { max: tag.inletPressureMaxQ || 0, normal: tag.inletPressureNorQ || 0, min: tag.inletPressureMinQ || 0 },\n                p2: { max: tag.outletPressureMaxQ || 0, normal: tag.outletPressureNorQ || 0, min: tag.outletPressureMinQ || 0 },\n                dp: { max: tag.differentialPressureMaxQ || 0, normal: tag.differentialPressureNorQ || 0, min: tag.differentialPressureMinQ || 0 },\n                qm: { max: tag.qmMax || 0, normal: tag.qmNor || 0, min: tag.qmMin || 0, unit: tag.qmUnit || '' },\n                qn: { max: tag.qnMax || 0, normal: tag.qnNor || 0, min: tag.qnMin || 0, unit: tag.qnUnit || '' },\n                pressureUnit: tag.pressureUnit || '',\n                temperatureUnit: tag.temperatureUnit || ''\n              },\n              body: {\n                type: bodyTypeName, // Body Type ì´ë¦„ ì„¤ì •\n                typeCode: req.valveType || '',\n                size: tag.bodySize || '',\n                sizeUnit: tag.bodySizeUnit || '',\n                materialBody: tag.bodyMat || '',\n                materialTrim: tag.trimMat || '',\n                option: tag.trimOption || '',\n                rating: tag.bodyRating || '',\n                ratingUnit: ratingUnit // Rating Unit ì„¤ì •\n              },\n              actuator: {\n                type: tag.actType || '',\n                hw: tag.isHW ? 'Yes' : 'No'\n              },\n              accessory: {\n                positioner: { type: tag.positionerType || '', exists: tag.isPositioner || false },\n                explosionProof: tag.explosionProof || '',\n                transmitter: { type: tag.transmitterType || '', exists: !!tag.transmitterType },\n                solenoidValve: tag.isSolenoid || false,\n                limitSwitch: tag.isLimSwitch || false,\n                airSet: tag.isAirSet || false,\n                volumeBooster: tag.isVolumeBooster || false,\n                airOperatedValve: tag.isAirOperated || false,\n                lockupValve: tag.isLockUp || false,\n                snapActingRelay: tag.isSnapActingRelay || false\n              },\n              isQM: tag.isQM || false,\n              isP2: tag.isP2 || false,\n              isN1: false, // EstimateRequestDetailDtoì—ëŠ” isN1ì´ ì—†ìŒ\n              isDensity: tag.isDensity || false,\n              isHW: tag.isHW || false\n            });\n          });\n        });\n        \n        setValves(valvesData);\n        \n        // ì²« ë²ˆì§¸ valveë¥¼ ê¸°ë³¸ ì„ íƒ\n        // if (valvesData.length > 0) {\n        //   setSelectedValve(valvesData[0]);\n        // }\n      }\n      \n      // ê¸°íƒ€ ìš”ì²­ì‚¬í•­ ì„¤ì •\n      if (data.estimateSheet && data.estimateSheet.customerRequirement) {\n        setCustomerRequirement(data.estimateSheet.customerRequirement);\n      }\n      \n      // ê´€ë¦¬ì ì½”ë©˜íŠ¸ ì„¤ì •\n      if (data.estimateSheet && data.estimateSheet.staffComment) {\n        setStaffComment(data.estimateSheet.staffComment);\n      }\n      \n      // ì²¨ë¶€íŒŒì¼ ì„¤ì • - ê³ ê° ìš”ì²­ê³¼ ê´€ë¦¬ ì²¨ë¶€íŒŒì¼ ë¶„ë¦¬\n      if (data.attachments && data.attachments.length > 0) {\n        const customerFiles: any[] = [];\n        const managerFiles: any[] = [];\n        \n        data.attachments.forEach((att: any) => {\n          if (att.filePath && isCustomerFile(att.filePath)) {\n            customerFiles.push(att);\n          } else if (att.filePath && isManagerFile(att.filePath)) {\n            managerFiles.push(att);\n          }\n        });\n        \n        setCustomerAttachments(customerFiles);\n        setManagerAttachments(managerFiles);\n        \n        // ê¸°ì¡´ í˜¸í™˜ì„± ìœ ì§€\n        const fileList = data.attachments.map((att: any) => ({\n          name: att.fileName || 'Unknown',\n          size: att.fileSize || 0\n        } as any));\n        setAttachments(fileList);\n      }\n      \n    } catch (error) {\n      console.error('ê¸°ì¡´ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);\n    }\n  }, [tempEstimateNo, bodyValveList, bodyRatingList]);\n\n  // ìƒíƒœ ë³€ê²½ ì²˜ë¦¬\n  const handleStatusChange = async (newStatus: string) => {\n    try {\n      // ìƒíƒœ í…ìŠ¤íŠ¸ë¥¼ ìˆ«ì ì½”ë“œë¡œ ë³€í™˜í•˜ëŠ” í—¬í¼ í•¨ìˆ˜\n      const getStatusCodeFromText = (statusText: string): number => {\n        switch (statusText) {\n          case 'ì„ì‹œì €ì¥': return 1;\n          case 'ê²¬ì ìš”ì²­': return 2;\n          case 'ê²¬ì ì²˜ë¦¬ì¤‘': return 3;\n          case 'ê²¬ì ì™„ë£Œ': return 4;\n          case 'ì£¼ë¬¸': return 5;\n          default: return -1; // ì•Œ ìˆ˜ ì—†ëŠ” ìƒíƒœ\n        }\n      };\n\n      const newStatusCode = getStatusCodeFromText(newStatus);\n      \n      // í˜„ì¬ ì‚¬ìš©ì ì •ë³´ì™€ ê²¬ì  ì •ë³´ ê°€ì ¸ì˜¤ê¸°\n      const userStr = localStorage.getItem('user');\n      const currentUser = userStr ? JSON.parse(userStr) : null;\n      \n      // ê²¬ì  ìƒì„¸ ì •ë³´ ê°€ì ¸ì˜¤ê¸° (isReadOnly ê³„ì‚°ì„ ìœ„í•´)\n      if (!tempEstimateNo) {\n        throw new Error('tempEstimateNoê°€ ì—†ìŠµë‹ˆë‹¤.');\n      }\n      const estimateResponse = await getEstimateDetail(tempEstimateNo, currentUser?.userId || 'admin');\n      const estimateData = estimateResponse;\n\n      // ê²¬ì ìš”ì²­ ìƒíƒœ(2)ì—ì„œë§Œ ê²¬ì ì²˜ë¦¬ì¤‘(3)ìœ¼ë¡œ ë³€ê²½ ê°€ëŠ¥\n      // if (currentStatusCode === 2 && newStatusCode === 3) {\n        // ìƒíƒœ ë³€ê²½ API í˜¸ì¶œ\n        const response = await fetch(`/api/estimate/sheets/${tempEstimateNo}/status`, { // API ê²½ë¡œ ìˆ˜ì •\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({ status: newStatusCode }), // ìˆ«ì ìƒíƒœ ì½”ë“œë¡œ ì „ì†¡\n        });\n\n        if (response.ok) {\n          setCurrentStatus(newStatus); // UI ìƒíƒœ ì—…ë°ì´íŠ¸ (ë¬¸ìì—´ë¡œ ìœ ì§€)\n          \n          // ìƒíƒœ ë³€ê²½ í›„ isReadOnly ì¬ê³„ì‚°\n          const newStatusCode = getStatusCodeFromText(newStatus);\n          const isStatusThree = newStatusCode === 3; // ìƒíƒœê°€ 3 (ê²¬ì ì²˜ë¦¬ì¤‘)ì¸ì§€\n          const isCurrentUserManager = currentUser?.userId === estimateData.estimateSheet?.managerID; // í˜„ì¬ ì‚¬ìš©ìê°€ ë‹´ë‹¹ìì¸ì§€\n          const shouldBeReadOnly = !(isStatusThree && isCurrentUserManager); // ë‘˜ ë‹¤ ì°¸ì¼ ë•Œë§Œ false (ìˆ˜ì • ê°€ëŠ¥)\n          setIsReadOnly(shouldBeReadOnly);\n          alert('ìƒíƒœê°€ ì„±ê³µì ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.'); // ë©”ì‹œì§€ ì¼ë°˜í™”\n          // ìƒíƒœ ë³€ê²½ í›„ ìƒì„¸ ì •ë³´ë¥¼ ë‹¤ì‹œ ë¶ˆëŸ¬ì˜¤ëŠ” ë¡œì§ì´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n          // loadEstimateDetail(); // ìƒì„¸ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” í•¨ìˆ˜ê°€ ìˆë‹¤ë©´ í˜¸ì¶œ\n        } else {\n          // ì‘ë‹µ ë³¸ë¬¸ì„ ì½ì–´ì„œ ë” ìì„¸í•œ ì˜¤ë¥˜ ë©”ì‹œì§€ í™•ì¸\n          const errorData = await response.json();\n          throw new Error(errorData.message || 'ìƒíƒœ ë³€ê²½ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');\n        }\n      // } else { // ì´ else ë¸”ë¡ë„ ì œê±°í•©ë‹ˆë‹¤.\n      //   alert('ê²¬ì ìš”ì²­ ìƒíƒœì—ì„œë§Œ ê²¬ì ì²˜ë¦¬ì¤‘ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.');\n      // }\n    } catch (error: any) {\n      console.error('ìƒíƒœ ë³€ê²½ ì‹¤íŒ¨:', error.message);\n      alert(`ìƒíƒœ ë³€ê²½ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ${error.message}`);\n    }\n  };\n\n  // ì²¨ë¶€íŒŒì¼ ê´€ë ¨ í•¨ìˆ˜ë“¤\n  const handleDownloadFile = async (file: any, type: 'customer' | 'manager') => {\n    try {\n      if (type === 'customer' && !file.fileName.toLowerCase().endsWith('.pdf')) {\n        alert('ê³ ê°ì€ PDF íŒŒì¼ë§Œ ë‹¤ìš´ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.');\n        return;\n      }\n      \n      // íŒŒì¼ ë‹¤ìš´ë¡œë“œ API í˜¸ì¶œ\n              const response = await fetch(`/api/estimate/attachments/${file.attachmentID}/download`);\n      if (response.ok) {\n        const blob = await response.blob();\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = file.fileName;\n        document.body.appendChild(a);\n        a.click();\n        window.URL.revokeObjectURL(url);\n        document.body.removeChild(a);\n      } else {\n        alert('íŒŒì¼ ë‹¤ìš´ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');\n      }\n    } catch (error) {\n      console.error('íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì˜¤ë¥˜:', error);\n      alert('íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');\n    }\n  };\n\n  const handleUploadManagerFile = async (fileType: string) => {\n    const file = selectedPdfFiles[fileType];\n    if (!file) {\n      alert('ì—…ë¡œë“œí•  PDF íŒŒì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');\n      return;\n    }\n\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n\n      // ğŸ”‘ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¡œ ì „ì†¡í•˜ë„ë¡ ìˆ˜ì •\n      const response = await fetch(`http://localhost:5135/api/estimate/sheets/${tempEstimateNo}/attachments?uploadUserID=admin&fileType=manager&managerFileType=${fileType}`, {\n        method: 'POST',\n        body: formData\n      });\n\n      if (response.ok) {\n        alert('PDF íŒŒì¼ì´ ì„±ê³µì ìœ¼ë¡œ ì—…ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.');\n        \n        // ğŸ”‘ íŒŒì¼ ëª©ë¡ ìƒˆë¡œê³ ì¹¨ - ë” í™•ì‹¤í•˜ê²Œ ì²˜ë¦¬\n        console.log('ğŸ”„ íŒŒì¼ ì—…ë¡œë“œ ì™„ë£Œ, ëª©ë¡ ìƒˆë¡œê³ ì¹¨ ì‹œì‘');\n        await fetchManagerFiles();\n        await fetchCustomerFiles();\n        \n        // ğŸ”‘ ì¶”ê°€ë¡œ ì ì‹œ í›„ í•œ ë²ˆ ë” ìƒˆë¡œê³ ì¹¨ (ë°±ì—”ë“œ ì²˜ë¦¬ ì§€ì—° ê³ ë ¤)\n        setTimeout(async () => {\n          console.log('ğŸ”„ ì§€ì—° ìƒˆë¡œê³ ì¹¨ ì‹¤í–‰');\n          await fetchManagerFiles();\n          await fetchCustomerFiles();\n        }, 1000);\n        \n        // ğŸ”‘ ì—‘ì…€ íŒŒì¼ë„ í•¨ê»˜ ìƒˆë¡œê³ ì¹¨ (ë°±ì—”ë“œ êµì²´ ë¡œì§ ë¬¸ì œ í•´ê²°)\n        setTimeout(async () => {\n          console.log('ğŸ”„ ì—‘ì…€ íŒŒì¼ ìƒˆë¡œê³ ì¹¨ ì‹¤í–‰');\n          await fetchManagerFiles();\n          await fetchCustomerFiles();\n        }, 2000);\n        \n        // ì„ íƒëœ íŒŒì¼ ì´ˆê¸°í™”\n        setSelectedPdfFiles(prev => ({\n          ...prev,\n          [fileType]: null\n        }));\n        \n        // íŒŒì¼ ì…ë ¥ ì´ˆê¸°í™” - í•´ë‹¹ IDì˜ ì…ë ¥ë§Œ ì´ˆê¸°í™”\n        const fileInput = document.getElementById(`pdf-${fileType}`) as HTMLInputElement;\n        if (fileInput) fileInput.value = '';\n      } else {\n        const error = await response.json();\n        alert(`PDF ì—…ë¡œë“œ ì‹¤íŒ¨: ${error.message}`);\n      }\n    } catch (error) {\n      console.error('PDF ì—…ë¡œë“œ ì¤‘ ì˜¤ë¥˜:', error);\n      alert('PDF ì—…ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');\n    }\n  };\n\n  const handleGenerateDatasheet = async () => {\n    try {\n      // TODO: ì‚¬ìš©ìê°€ ë‚˜ì¤‘ì— ì œê³µí•  Datasheet ìƒì„± ë¡œì§\n      alert('Datasheet ìƒì„± ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.');\n    } catch (error) {\n      console.error('Datasheet ìƒì„± ì˜¤ë¥˜:', error);\n      alert('Datasheet ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');\n    }\n  };\n\n  const handleGenerateFile = async (managerFileType: string) => {\n    try {\n      let apiEndpoint = '';\n      let fileTypeName = '';\n      \n      switch (managerFileType) {\n        case 'cvlist':\n          apiEndpoint = `http://localhost:5135/api/estimate/sheets/${tempEstimateNo}/generate-cv`;\n          fileTypeName = 'CV ë¦¬ìŠ¤íŠ¸';\n          break;\n        case 'vllist':\n          apiEndpoint = `http://localhost:5135/api/estimate/sheets/${tempEstimateNo}/generate-vl`;\n          fileTypeName = 'VL ë¦¬ìŠ¤íŠ¸';\n          break;\n        case 'datasheet':\n          apiEndpoint = `http://localhost:5135/api/estimate/sheets/${tempEstimateNo}/generate-datasheet`;\n          fileTypeName = 'DataSheet';\n          break;\n        case 'singlequote':\n          apiEndpoint = `http://localhost:5135/api/estimate/sheets/${tempEstimateNo}/generate-single-quote`;\n          fileTypeName = 'ë‹¨í’ˆê²¬ì ì„œ';\n          break;\n        case 'multiquote':\n          apiEndpoint = `http://localhost:5135/api/estimate/sheets/${tempEstimateNo}/generate-multi-quote`;\n          fileTypeName = 'ë‹¤ìˆ˜ëŸ‰ê²¬ì ì„œ';\n          break;\n        default:\n          alert('ì§€ì›í•˜ì§€ ì•ŠëŠ” íŒŒì¼ íƒ€ì…ì…ë‹ˆë‹¤.');\n          return;\n      }\n      \n      console.log(`${fileTypeName} ìƒì„± ì‹œì‘:`, tempEstimateNo);\n      \n      const response = await fetch(apiEndpoint, {\n        method: 'POST'\n      });\n      \n      if (response.ok) {\n        const result = await response.json();\n        alert(`${fileTypeName}ê°€ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!\\n\\nìƒì„±ëœ íŒŒì¼:\\n${result.fileName}`);\n        console.log(`${fileTypeName} ìƒì„± ì„±ê³µ:`, result);\n        \n        // ğŸ”‘ íŒŒì¼ ìƒì„± ì™„ë£Œ í›„ ìë™ ìƒˆë¡œê³ ì¹¨ ì¶”ê°€\n        await fetchManagerFiles();\n        await fetchCustomerFiles();\n        \n        // ê¸°ì¡´ ì²¨ë¶€íŒŒì¼ ëª©ë¡ë„ ìƒˆë¡œê³ ì¹¨\n        loadExistingData();\n      } else {\n        const error = await response.json();\n        alert(`${fileTypeName} ìƒì„± ì‹¤íŒ¨: ${error.message}`);\n        console.error(`${fileTypeName} ìƒì„± ì‹¤íŒ¨:`, error);\n      }\n    } catch (error) {\n      console.error('íŒŒì¼ ìƒì„± ì˜¤ë¥˜:', error);\n      alert('íŒŒì¼ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');\n    }\n  };\n\n  const handleDeleteManagerFile = async (file: any) => {\n    try {\n      if (window.confirm('ì •ë§ë¡œ ì´ íŒŒì¼ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {\n        const response = await fetch(`/api/estimate/attachments/${file.attachmentID}`, {\n          method: 'DELETE'\n        });\n        \n        if (response.ok) {\n          alert('íŒŒì¼ì´ ì„±ê³µì ìœ¼ë¡œ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');\n          loadExistingData(); // ì²¨ë¶€íŒŒì¼ ëª©ë¡ ìƒˆë¡œê³ ì¹¨\n        } else {\n          alert('íŒŒì¼ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');\n        }\n      }\n    } catch (error) {\n      console.error('íŒŒì¼ ì‚­ì œ ì˜¤ë¥˜:', error);\n      alert('íŒŒì¼ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');\n    }\n  };\n\n  // ì‚¬ì–‘ ì €ì¥ í•¨ìˆ˜\n  const handleSaveSpecification = useCallback(async () => {\n    try {\n      if (!selectedValve) {\n        alert('ì €ì¥í•  ë°¸ë¸Œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.');\n        return;\n      }\n\n      const specificationData = {\n        valveId: selectedValve.body.typeCode,\n        body: {\n          bonnetType: bodySelections.bonnetType || '',\n          materialBody: bodySelections.materialBody || '',\n          // materialTrim: trimSelections.materialTrim || '', // Bodyì—ì„œ Trimìœ¼ë¡œ ì´ë™\n          // option: selectedValve.body.option || '', // Trimìœ¼ë¡œ ì´ë™ ë° trimSelections.option ì‚¬ìš©\n          rating: bodySelections.ratingCode || '', // ratingCode ì‚¬ìš© (Code ê°’)\n          ratingUnit: bodySelections.ratingUnitCode || '', // ratingUnitCode ì‚¬ìš© (Code ê°’)\n          connection: bodySelections.connection || '',\n          sizeUnit: bodySelections.sizeBodyUnitCode || '', // sizeBodyUnitCode ì‚¬ìš© (Code ê°’)\n          size: bodySelections.sizeBodyCode || '' // sizeBodyCode ì‚¬ìš© (Code ê°’)\n        },\n        trim: {\n          type: trimSelections.trimType || '',\n          series: trimSelections.trimSeries || '',\n          portSize: trimSelections.sizePortCode || '', // sizePortCode ì‚¬ìš© (Code ê°’)\n          portSizeUnit: trimSelections.sizePortUnitCode || '', // sizePortUnitCode ì‚¬ìš© (Code ê°’)\n          form: trimSelections.form || '',\n          materialTrim: trimSelections.materialTrim || '', // Trimì— materialTrim ì¶”ê°€\n          option: trimSelections.option || '' // Trimì— option ê°’ ì¶”ê°€\n        },\n        actuator: {\n          type: actSelections.actionType || '',\n          series: actSelections.series || '',\n          size: actSelections.size || '',\n          hw: actSelections.hw || ''\n        },\n        accessories: {\n          PosCode: accSelections.positioner?.modelCode || null,\n          PosMakerCode: accSelections.positioner?.makerCode || null,\n          SolCode: accSelections.solenoid?.modelCode || null,\n          SolMakerCode: accSelections.solenoid?.makerCode || null,\n          LimCode: accSelections.limiter?.modelCode || null,\n          LimMakerCode: accSelections.limiter?.makerCode || null,\n          ASCode: accSelections.airSupply?.modelCode || null,\n          ASMakerCode: accSelections.airSupply?.makerCode || null,\n          VolCode: accSelections.volumeBooster?.modelCode || null,\n          VolMakerCode: accSelections.volumeBooster?.makerCode || null,\n          AirOpCode: accSelections.airOperator?.modelCode || null,\n          AirOpMakerCode: accSelections.airOperator?.makerCode || null,\n          LockupCode: accSelections.lockUp?.modelCode || null,\n          LockupMakerCode: accSelections.lockUp?.makerCode || null,\n          SnapActCode: accSelections.snapActingRelay?.modelCode || null,\n          SnapActMakerCode: accSelections.snapActingRelay?.makerCode || null,\n        },\n      };\n\n      // ë””ë²„ê¹…ìš© ë¡œê·¸ ì¶”ê°€\n      console.log('ì„ íƒëœ ë°¸ë¸Œ ì •ë³´:', selectedValve);\n      console.log('ì „ì†¡í•  ì‚¬ì–‘ ë°ì´í„°:', specificationData);\n      console.log('=== ë””ë²„ê¹… ìƒì„¸ ì •ë³´ ===');\n      console.log('bodySelections:', bodySelections);\n      console.log('trimSelections:', trimSelections);\n      console.log('=== ì „ì†¡ë  ë°ì´í„° ìƒì„¸ ===');\n      console.log('Body Size:', bodySelections.sizeBodyCode);\n      console.log('Body SizeUnit:', bodySelections.sizeBodyUnitCode);\n      console.log('Body Rating:', bodySelections.ratingCode);\n      console.log('Trim PortSize:', trimSelections.sizePortCode);\n      console.log('Trim PortSizeUnit:', trimSelections.sizePortUnitCode);\n\n      const saveSpecDto = {\n        ...specificationData,\n        Accessories: specificationData.accessories,\n      };\n\n      console.log('ì‚¬ì–‘ ì €ì¥ ìš”ì²­ DTO:', saveSpecDto); // DTO ì „ì²´ ë¡œê·¸\n      console.log('ì•…ì„¸ì‚¬ë¦¬ ì „ì†¡ ë°ì´í„° (handleSaveSpecification):', saveSpecDto.Accessories); // ì•…ì„¸ì‚¬ë¦¬ ë°ì´í„°ë§Œ ìƒì„¸ ë¡œê·¸\n\n      try {\n        const response = await fetch(`http://localhost:5135/api/estimate/sheets/${tempEstimateNo}/requests/${selectedValve.sheetID}/specification`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify(saveSpecDto),\n        });\n\n        if (response.ok) {\n          alert('ì‚¬ì–‘ì´ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');\n        } else {\n          alert('ì‚¬ì–‘ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');\n        }\n      } catch (error) {\n        console.error('ì‚¬ì–‘ ì €ì¥ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:', error);\n        alert('ì‚¬ì–‘ ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');\n      }\n    } catch (error) {\n      console.error('ì‚¬ì–‘ ì €ì¥ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:', error);\n      alert('ì‚¬ì–‘ ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');\n    }\n  }, [selectedValve, bodySelections, trimSelections, actSelections, accSelections, tempEstimateNo]);\n\n  const AccessorySelector: React.FC<AccessorySelectorProps> = ({\n    accTypeKey,\n    accSelections,\n    setAccSelections,\n    accMakerList,\n    accModelList,\n  }) => {\n    const [makerSearchTerm, setMakerSearchTerm] = useState('');\n    const [modelSearchTerm, setModelSearchTerm] = useState('');\n    const [specSearchTerm, setSpecSearchTerm] = useState('');\n    const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n    const [isSelected, setIsSelected] = useState(false); // ì„ íƒ ì—¬ë¶€ ìƒíƒœ ì¶”ê°€\n    const dropdownRef = useRef<HTMLDivElement>(null);\n\n    const currentAcc = accSelections[accTypeKey];\n    const typeCode = currentAcc?.typeCode;\n\n    // ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ ì‹œ ë˜ëŠ” accSelections ë³€ê²½ ì‹œ ì…ë ¥ í•„ë“œ ì´ˆê¸°í™” ë° ì„ íƒ ìƒíƒœ ì„¤ì •\n    useEffect(() => {\n      if (currentAcc?.modelCode) {\n        const selectedMakerName = accMakerList.find(maker => maker.accMakerCode === currentAcc?.makerCode)?.accMakerName || '';\n        const selectedModelName = accModelList.find(model => model.accModelCode === currentAcc?.modelCode)?.accModelName || '';\n        setMakerSearchTerm(selectedMakerName);\n        setModelSearchTerm(selectedModelName);\n        setSpecSearchTerm(currentAcc.specification || '');\n        setIsSelected(true); // ëª¨ë¸ì´ ì´ë¯¸ ì„ íƒë˜ì–´ ìˆìœ¼ë©´ isSelectedë¥¼ trueë¡œ\n      } else {\n        setMakerSearchTerm('');\n        setModelSearchTerm('');\n        setSpecSearchTerm('');\n        setIsSelected(false); // ëª¨ë¸ì´ ì—†ìœ¼ë©´ isSelectedë¥¼ falseë¡œ\n      }\n    }, [currentAcc, accMakerList, accModelList]);\n\n\n\n    // í†µí•© ê²€ìƒ‰ í•„í„°ë§ ë¡œì§\n    const filteredModels = useMemo(() => {\n      const allSearchTerms = [\n        makerSearchTerm,\n        modelSearchTerm,\n        specSearchTerm\n      ].filter(term => term);\n\n      if (allSearchTerms.length === 0) {\n        // ê²€ìƒ‰ì–´ê°€ ì—†ìœ¼ë©´ í•´ë‹¹ íƒ€ì… ì½”ë“œì™€ ì¼ì¹˜í•˜ëŠ” ì „ì²´ ëª¨ë¸ ë°˜í™˜\n        return accModelList.filter(item => item.accTypeCode === typeCode);\n      }\n\n      const lowerCaseSearchWords = allSearchTerms.map(term => term.toLowerCase().split(' ').filter(word => word)).flat();\n\n      return accModelList.filter(item => {\n        if (!typeCode || item.accTypeCode !== typeCode) {\n          return false;\n        }\n\n        const makerName = (accMakerList.find(maker => maker.accMakerCode === item.accMakerCode)?.accMakerName || '').toLowerCase();\n        const modelName = (item.accModelName || '').toLowerCase();\n        const specification = (item.accSize || '').toLowerCase();\n\n        // ëª¨ë“  ê²€ìƒ‰ ë‹¨ì–´ë¥¼ ëª¨ë“  í•„ë“œì—ì„œ AND ê²€ìƒ‰\n        return lowerCaseSearchWords.every(word =>\n          makerName.includes(word) || modelName.includes(word) || specification.includes(word)\n        );\n      });\n    }, [makerSearchTerm, modelSearchTerm, specSearchTerm, accModelList, accMakerList, typeCode]);\n\n    // ì•…ì„¸ì‚¬ë¦¬ ì„ íƒ í•¸ë“¤ëŸ¬\n    const handleSelectAccessory = (selectedModel: any) => {\n      setAccSelections(prev => ({\n        ...prev,\n        [accTypeKey]: {\n          typeCode: selectedModel.accTypeCode,\n          makerCode: selectedModel.accMakerCode,\n          modelCode: selectedModel.accModelCode,\n          specification: selectedModel.accSize || '',\n        },\n      }));\n      // ì„ íƒ ì‹œ ì„¸ ì…ë ¥ í•„ë“œë¥¼ ì„ íƒëœ ê°’ìœ¼ë¡œ ì±„ìš°ê¸°\n      const selectedMakerName = accMakerList.find(maker => maker.accMakerCode === selectedModel.accMakerCode)?.accMakerName || '';\n      setMakerSearchTerm(selectedMakerName);\n      setModelSearchTerm(selectedModel.accModelName || '');\n      setSpecSearchTerm(selectedModel.accSize || '');\n      setIsDropdownOpen(false);\n      setIsSelected(true); // ì„ íƒ ì™„ë£Œ ì‹œ isSelectedë¥¼ trueë¡œ\n    };\n\n    // ì„ íƒ í•´ì œ í•¸ë“¤ëŸ¬\n    const handleReset = () => {\n      setAccSelections(prev => ({\n        ...prev,\n        [accTypeKey]: {\n          typeCode: typeCode || '', // ê¸°ì¡´ typeCode ìœ ì§€\n          makerCode: '',\n          modelCode: '',\n          specification: '',\n        },\n      }));\n      setMakerSearchTerm('');\n      setModelSearchTerm('');\n      setSpecSearchTerm('');\n      setIsSelected(false); // ì„ íƒ í•´ì œ ì‹œ isSelectedë¥¼ falseë¡œ\n      setIsDropdownOpen(false); // ë“œë¡­ë‹¤ìš´ ë‹«ê¸°\n    };\n\n    // ì™¸ë¶€ í´ë¦­ ê°ì§€ (ë“œë¡­ë‹¤ìš´ ë‹«ê¸°)\n    useEffect(() => {\n      const handleClickOutside = (event: MouseEvent) => {\n        if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n          setIsDropdownOpen(false);\n        }\n      };\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => {\n        document.removeEventListener('mousedown', handleClickOutside);\n      };\n    }, []);\n\n\n    return (\n      <div className=\"accessory-selector\" ref={dropdownRef}>\n        <div className=\"input-group\">\n          <input\n            type=\"text\"\n            placeholder=\"ë©”ì´ì»¤\"\n            value={makerSearchTerm}\n            onChange={(e) => {if (!isSelected) {setMakerSearchTerm(e.target.value); setIsDropdownOpen(true);}}}\n            onFocus={() => {if (!isSelected) setIsDropdownOpen(true);}}\n            readOnly={isSelected || isReadOnly} // isReadOnly ìƒíƒœì— ë”°ë¼ ì½ê¸° ì „ìš©\n          />\n          <input\n            type=\"text\"\n            placeholder=\"ëª¨ë¸ëª…\"\n            value={modelSearchTerm}\n            onChange={(e) => {if (!isSelected) {setModelSearchTerm(e.target.value); setIsDropdownOpen(true);}}}\n            onFocus={() => {if (!isSelected) setIsDropdownOpen(true);}}\n            readOnly={isSelected || isReadOnly}\n          />\n          <input\n            type=\"text\"\n            placeholder=\"ê·œê²©\"\n            value={specSearchTerm}\n            onChange={(e) => {if (!isSelected) {setSpecSearchTerm(e.target.value); setIsDropdownOpen(true);}}}\n            onFocus={() => {if (!isSelected) setIsDropdownOpen(true);}}\n            readOnly={isSelected || isReadOnly}\n          />\n          {isSelected && (\n            <button type=\"button\" onClick={handleReset} className=\"reset-button\" disabled={isReadOnly}>ì´ˆê¸°í™”</button>\n          )}\n        </div>\n        {isDropdownOpen && (\n          <ul className=\"dropdown-list\">\n            {filteredModels.length > 0 ? (\n              filteredModels.map((item: any) => (\n                <li\n                  key={`${item.accTypeCode}-${item.accMakerCode}-${item.accModelCode}`}\n                  onClick={() => {if (!isReadOnly) handleSelectAccessory(item);}} // isReadOnlyì¼ ë•Œ í´ë¦­ ë¶ˆê°€\n                >\n                  <span className=\"dropdown-maker\">{accMakerList.find(maker => maker.accMakerCode === item.accMakerCode)?.accMakerName || ''}</span>\n                  <span className=\"dropdown-model\">{item.accModelName}</span>\n                  <span className=\"dropdown-spec\">{item.accSize || ''}</span>\n                </li>\n              ))\n            ) : ( \n              <li>ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</li>\n            )}\n          </ul>\n        )}\n      </div>\n    );\n  };\n  // ì´ˆê¸°í™”\n  useEffect(() => {\n    console.log('EstimateDetailPage ì´ˆê¸°í™” ì‹œì‘');\n    fetchBodyValveList();\n    fetchMasterData();\n  }, []); // ì˜ì¡´ì„± ë°°ì—´ ë¹„ì›€ - ì´ˆê¸° ë¡œë“œë§Œ í•„ìš”\n\n  // bodyValveListì™€ bodyRatingListê°€ ë¡œë“œëœ í›„ ê¸°ì¡´ ë°ì´í„° ë¡œë“œ\n  useEffect(() => {\n    console.log('useEffect ì‹¤í–‰:', { \n      bodyValveListLength: bodyValveList.length, \n      bodyRatingListLength: bodyRatingList.length, \n      tempEstimateNo \n    });\n    if (bodyValveList.length > 0 && bodyRatingList.length > 0 && tempEstimateNo) {\n      console.log('loadExistingData í˜¸ì¶œ ì‹œì‘');\n      loadExistingData();\n    }\n  }, [bodyValveList.length, bodyRatingList.length, tempEstimateNo]); // loadExistingData ì˜ì¡´ì„± ì œê±°\n\n  // bodyValveListê°€ ë¡œë“œëœ í›„ íƒ€ì… ì •ë³´ ì—…ë°ì´íŠ¸\n  useEffect(() => {\n    if (bodyValveList.length > 0 && types.length > 0) {\n      const updatedTypes = types.map(type => {\n        const valveInfo = bodyValveList.find(v => v.valveSeriesCode === type.code);\n        return {\n          ...type,\n          name: valveInfo ? valveInfo.valveSeries : type.name\n        };\n      });\n      \n      // ì‹¤ì œë¡œ ë³€ê²½ëœ ê²½ìš°ì—ë§Œ ì—…ë°ì´íŠ¸\n      const hasChanges = updatedTypes.some((updatedType, index) => \n        updatedType.name !== types[index].name\n      );\n      \n      if (hasChanges) {\n        setTypes(updatedTypes);\n      }\n    }\n  }, [bodyValveList]); // types ì˜ì¡´ì„± ì œê±° - ë¬´í•œ ë£¨í”„ ë°©ì§€\n\n  // selectedValveê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ê¸°ì¡´ ì‚¬ì–‘ ë°ì´í„° ë¡œë“œ\n  useEffect(() => {\n    if (selectedValve) {\n      // ì´ˆê¸° ë¡œë“œë§Œ í•„ìš”í•˜ë¯€ë¡œ ì—¬ê¸°ì„œëŠ” ì•„ë¬´ê²ƒë„ í•˜ì§€ ì•ŠìŒ\n      // handleValveSelectionì—ì„œ ì²˜ë¦¬ë¨\n    }\n  }, [selectedValve]);\n\n  // selectedTypeì´ ë³€ê²½ë˜ë©´ selectedValveë¥¼ ì´ˆê¸°í™”í•˜ì—¬ Step 3ë¥¼ ìˆ¨ê¹€\n  useEffect(() => {\n      setSelectedValve(null);\n  }, [selectedType]);\n\n  // ì´ˆê¸° ì‚¬ì–‘ ë°ì´í„° ë¡œë“œ (DBì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°)\n  const loadInitialSpecification = async (sheetID: number) => {\n    console.log('loadInitialSpecification í˜¸ì¶œë¨, sheetID:', sheetID); // sheetID ë¡œê·¸ ì¶”ê°€\n    \n    try {\n      if (!tempEstimateNo) {\n        console.error(\"tempEstimateNoê°€ ì—†ìŠµë‹ˆë‹¤.\");\n        return;\n      }\n      const response = await fetch(`http://localhost:5135/api/estimate/sheets/${tempEstimateNo}/specification/${sheetID}`);\n      if (response.ok) {\n        const specificationData = await response.json();\n        console.log('--- ì‹¤ì œ Accessories ë°ì´í„° êµ¬ì¡° ---', specificationData.accessories);\n        \n        if (specificationData.accessories) {\n          console.log('ê°œë³„ ì•…ì„¸ì‚¬ë¦¬ ë°ì´í„° (Positioner):', specificationData.accessories.positioner);\n          console.log('ê°œë³„ ì•…ì„¸ì‚¬ë¦¬ ë°ì´í„° (Solenoid):', specificationData.accessories.solenoid);\n          console.log('ê°œë³„ ì•…ì„¸ì‚¬ë¦¬ ë°ì´í„° (AirOperator):', specificationData.accessories.airOperator);\n          console.log('ê°œë³„ ì•…ì„¸ì‚¬ë¦¬ ë°ì´í„° (LockUp):', specificationData.accessories.lockUp);\n        }\n        \n        // Body ì‚¬ì–‘ ë°ì´í„° ì„¤ì • (ì´ˆê¸°ê°’ë§Œ) - null ì²˜ë¦¬ ê°œì„ \n        if (specificationData.body) {\n          console.log('Body ë°ì´í„°:', specificationData.body); // Body ë°ì´í„° ë¡œê·¸ ì¶”ê°€\n          setBodySelections(prev => ({\n            ...prev,\n            bonnetType: specificationData.body.bonnetTypeCode || '',\n            bonnetTypeCode: specificationData.body.bonnetTypeCode || '',\n            materialBody: specificationData.body.materialBodyCode || '',\n            materialBodyCode: specificationData.body.materialBodyCode || '',\n            sizeBodyUnit: specificationData.body.sizeUnit || '',\n            sizeBody: specificationData.body.sizeCode || '',\n            sizeBodyUnitCode: specificationData.body.sizeUnit || '', // Code ê°’ ì¶”ê°€\n            sizeBodyCode: specificationData.body.sizeCode || '', // Code ê°’ ì¶”ê°€\n            ratingUnit: (() => {\n              if (specificationData.body.ratingUnit && bodyRatingList.length > 0) {\n                const ratingItem = bodyRatingList.find(item => item.ratingUnitCode === specificationData.body.ratingUnit);\n                return ratingItem ? ratingItem.ratingUnit : '';\n              }\n              return '';\n            })(), // ratingUnitCodeì— í•´ë‹¹í•˜ëŠ” ratingUnit ì´ë¦„ ì°¾ê¸°\n            rating: specificationData.body.ratingCode || '',\n            ratingUnitCode: (() => {\n              if (specificationData.body.ratingUnit && bodyRatingList.length > 0) {\n                const ratingItem = bodyRatingList.find(item => item.ratingUnitCode === specificationData.body.ratingUnit);\n                return ratingItem ? ratingItem.ratingUnitCode : '';\n              }\n              return '';\n            })(), // ratingUnitCodeì— í•´ë‹¹í•˜ëŠ” ratingUnitCode ì°¾ê¸°\n            ratingCode: specificationData.body.ratingCode || '', // Code ê°’ ì¶”ê°€\n            connection: specificationData.body.connectionCode || '',\n            connectionCode: specificationData.body.connectionCode || ''\n          }));\n        }\n        \n        // Trim ì‚¬ì–‘ ë°ì´í„° ì„¤ì • (ì´ˆê¸°ê°’ë§Œ) - null ì²˜ë¦¬ ê°œì„ \n        if (specificationData.trim) {\n          console.log('Trim ë°ì´í„°:', specificationData.trim); // Trim ë°ì´í„° ë¡œê·¸ ì¶”ê°€\n          setTrimSelections(prev => ({\n            ...prev,\n            trimType: specificationData.trim.typeCode || '',\n            trimTypeCode: specificationData.trim.typeCode || '',\n            trimSeries: specificationData.trim.seriesCode || '',\n            trimSeriesCode: specificationData.trim.seriesCode || '',\n            materialTrim: specificationData.body?.materialTrimCode || '',\n            materialTrimCode: specificationData.body?.materialTrimCode || '',\n            sizePortUnit: specificationData.trim.portSizeUnit || '',\n            sizePort: specificationData.trim.portSizeCode || '',\n            sizePortUnitCode: specificationData.trim.portSizeUnit || '', // Code ê°’ ì¶”ê°€\n            sizePortCode: specificationData.trim.portSizeCode || '', // Code ê°’ ì¶”ê°€\n            form: specificationData.trim.formCode || '',\n            formCode: specificationData.trim.formCode || '',\n            option: specificationData.body?.optionCode || '' // Bodyì—ì„œ Option ê°’ì„ ê°€ì ¸ì˜´\n          }));\n        }\n        \n        // Actuator ì‚¬ì–‘ ë°ì´í„° ì„¤ì • (ì´ˆê¸°ê°’ë§Œ) - null ì²˜ë¦¬ ê°œì„ \n        if (specificationData.actuator) {\n          console.log('Actuator ë°ì´í„°:', specificationData.actuator); // Actuator ë°ì´í„° ë¡œê·¸ ì¶”ê°€\n          const seriesCode = specificationData.actuator.seriesCode || '';\n          setActSelections(prev => ({\n            ...prev,\n            actionType: specificationData.actuator.typeCode || '',\n            actionTypeCode: specificationData.actuator.typeCode || '',\n            series: seriesCode,\n            seriesCode: seriesCode,\n            size: specificationData.actuator.sizeCode || '',\n            sizeCode: specificationData.actuator.sizeCode || '',\n            hw: specificationData.actuator.hwCode || '',\n            hwCode: specificationData.actuator.hwCode || ''\n          }));\n\n          // Series ì½”ë“œê°€ ìˆìœ¼ë©´ í•´ë‹¹ Size ëª©ë¡ì„ ê°€ì ¸ì˜´\n          if (seriesCode) {\n            fetchActSizeList(seriesCode);\n          }\n        }\n        \n        // Accessory ì‚¬ì–‘ ë°ì´í„° ì„¤ì • - ê¸°ì¡´ ë°ì´í„°ê°€ ìˆìœ¼ë©´ ë¡œë“œ, ì—†ìœ¼ë©´ fetchMasterDataì—ì„œ ì´ˆê¸°í™”ë¨\n        if (specificationData.accessories) {\n          const newAccSelections = {\n            positioner: { typeCode: 'Positioner', makerCode: '', modelCode: '', specification: '' },\n            solenoid: { typeCode: 'Solenoid', makerCode: '', modelCode: '', specification: '' },\n            limiter: { typeCode: 'Limit', makerCode: '', modelCode: '', specification: '' },\n            airSupply: { typeCode: 'Airset', makerCode: '', modelCode: '', specification: '' },\n            volumeBooster: { typeCode: 'Volume', makerCode: '', modelCode: '', specification: '' },\n            airOperator: { typeCode: 'Airoperate', makerCode: '', modelCode: '', specification: '' },\n            lockUp: { typeCode: 'Lockup', makerCode: '', modelCode: '', specification: '' },\n            snapActingRelay: { typeCode: 'Snapacting', makerCode: '', modelCode: '', specification: '' },\n          };\n\n          const accKeys: Array<keyof typeof specificationData.accessories> = [\n            'positioner', 'solenoid', 'limiter', 'airSupply',\n            'volumeBooster', 'airOperator', 'lockUp', 'snapActingRelay',\n          ];\n\n          accKeys.forEach(key => {\n            const accObj = specificationData.accessories[key];\n            console.log(`ë¡œë”©ë  ì•…ì„¸ì‚¬ë¦¬ ë°ì´í„° (${String(key)}):`, accObj);\n            // 1. ë°ì´í„° ê°œìˆ˜ í™•ì¸\nconsole.log('accModelList ê¸¸ì´:', accModelList.length);\nconsole.log('accMakerList ê¸¸ì´:', accMakerList.length);\n\n// 2. Positioner ë°ì´í„° í™•ì¸\nconsole.log('Positioner ëª¨ë¸ë“¤:', accModelList.filter(item => item.accTypeCode === 'Positioner'));\nconsole.log('Positioner ë©”ì´ì»¤ë“¤:', accMakerList.filter(item => item.accTypeCode === 'Positioner'));\n\n// 3. ë°ì´í„° êµ¬ì¡° í™•ì¸\nconsole.log('ì²« ë²ˆì§¸ ëª¨ë¸:', accModelList[0]);\nconsole.log('ì²« ë²ˆì§¸ ë©”ì´ì»¤:', accMakerList[0]);\n            if (accObj && accObj.makerCode && accObj.modelCode) {\n              // ì‹¤ì œ ë°ì´í„°ê°€ ìˆëŠ” ê²½ìš°ì—ë§Œ ì„¤ì •\n              newAccSelections[key as keyof typeof newAccSelections] = {\n                typeCode: accObj.typeCode || newAccSelections[key as keyof typeof newAccSelections].typeCode,\n                makerCode: accObj.makerCode || '',\n                modelCode: accObj.modelCode || '',\n                specification: accObj.specification || '',\n              };\n              console.log(`ìƒˆë¡œìš´ AccSelections (${String(key)}) ë°ì´í„° ì„¤ì •ë¨:`, newAccSelections[key as keyof typeof newAccSelections]);\n            }\n            // ë°ì´í„°ê°€ ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ ìœ ì§€ (fetchMasterDataì—ì„œ ì„¤ì •ë¨)\n          });\n          console.log('ìµœì¢… ì—…ë°ì´íŠ¸ë  AccSelections:', newAccSelections);\n          setAccSelections(newAccSelections);\n        }\n        // ì•¡ì„¸ì„œë¦¬ ë°ì´í„°ê°€ ì—†ëŠ” ê²½ìš° fetchMasterDataì—ì„œ ì´ˆê¸°í™”ë¨\n      } else {\n        console.log('API ì‘ë‹µ ì‹¤íŒ¨:', response.status, response.statusText);\n      }\n    } catch (error) {\n      console.log('ì´ˆê¸° ì‚¬ì–‘ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);\n    }\n  };\n\n  // TagNo ë³€ê²½ ì‹œ ì„ì‹œ ì €ì¥ëœ ì„ íƒê°’ ë³µì›\n  const restoreTempSelections = (sheetID: number) => {\n    const tempData = tempSelections[sheetID];\n    if (tempData) {\n      console.log(`${sheetID}ì˜ ì„ì‹œ ì €ì¥ëœ ì„ íƒê°’ë“¤ì„ ë³µì›í•©ë‹ˆë‹¤:`, tempData);\n      \n      // Body ì„ íƒê°’ ë³µì›\n      if (tempData.body) {\n        setBodySelections(prev => ({\n          ...prev,\n          ...tempData.body\n        }));\n      }\n      \n      // Trim ì„ íƒê°’ ë³µì›\n      if (tempData.trim) {\n        setTrimSelections(prev => ({\n          ...prev,\n          ...tempData.trim\n        }));\n      }\n      \n      // Actuator ì„ íƒê°’ ë³µì›\n      if (tempData.act) {\n        setActSelections(prev => ({\n          ...prev,\n          ...tempData.act\n        }));\n      }\n      \n      // Accessory ì„ íƒê°’ ë³µì›\n      if (tempData.acc) {\n        setAccSelections(prev => ({\n          ...prev,\n          ...tempData.acc\n        }));\n      }\n    } else {\n      console.log(`${sheetID}ì˜ ì„ì‹œ ì €ì¥ëœ ì„ íƒê°’ì´ ì—†ìŠµë‹ˆë‹¤.`);\n    }\n  };\n\n  // Step 1, 2, 3 í†µí•© ì„¹ì…˜\n  const StepsSection = () => (\n    <div className=\"step-section\">\n      <div className=\"step-header\">\n        <h3>ê²¬ì  ìƒì„¸ ì •ë³´</h3>\n      </div>\n      \n      {/* Step 1: Type ì„ ì • */}\n      <div className=\"step-subsection\">\n        <h4>Step 1: Type ì„ ì •</h4>\n        <div className=\"type-header\">\n          <p className=\"step-description\">ê²¬ì ì— í•„ìš”í•œ ë°¸ë¸Œ íƒ€ì…ì„ ì„ íƒí•˜ê³  ê´€ë¦¬í•©ë‹ˆë‹¤.</p>\n        </div>\n        <div className=\"type-list\">\n          {types.map((type, index) => (\n            <div \n              key={type.id} \n              className={`type-item ${selectedType === type.id ? 'selected' : ''}`}\n              onClick={() => setSelectedType(type.id)}\n            >\n              <span className=\"type-name\">{type.name}</span>\n              <span className=\"type-count\">({type.count})</span>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Step 2: TagNo ì„ íƒ */}\n      <div className=\"step-subsection\">\n        <div className=\"d-flex justify-content-between align-items-center\">\n          <h4>Step 2: TagNo ì„ íƒ</h4>\n          {selectedValve && (\n            <button\n              className=\"btn btn-primary btn-sm\"\n              onClick={() => {\n                const sheetId = selectedValve?.sheetID || 1;\n                window.open(`http://localhost:5001?estimateNo=${tempEstimateNo}&sheetId=${sheetId}`, '_blank');\n              }}\n            >\n              ğŸ”¬ CONVAL ë¶„ì„\n            </button>\n          )}\n        </div>\n        <p className=\"step-description\">ì„ íƒëœ Typeì— ë”°ë¼ TagNoë¥¼ ì„ íƒí•©ë‹ˆë‹¤.</p>\n        {!selectedType ? (\n          <div className=\"no-type-selected\">\n            Step 1ì—ì„œ Typeì„ ì„ íƒí•˜ë©´ í•´ë‹¹ Typeì˜ TagNoë¥¼ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n          </div>\n        ) : (\n          <div className=\"valve-list\">\n            {valves\n              .filter(valve => {\n                const selectedTypeData = types.find(t => t.id === selectedType);\n                return selectedTypeData && valve.body.type === selectedTypeData.name;\n              })\n              .map((valve, index) => (\n                <div \n                  key={valve.id} \n                  className={`valve-item ${selectedValve?.id === valve.id ? 'selected' : ''}`}\n                  onClick={() => handleValveSelection(valve)}\n                >\n                  <span className=\"valve-tag\">{valve.tagNo}</span>\n                  <span className=\"valve-qty\">({valve.qty})</span>\n                </div>\n              ))}\n          </div>\n        )}\n      </div>\n\n                {/* Step 3: ìƒì„¸ì‚¬ì–‘ ì…ë ¥ */}\n          {selectedValve && (\n            <div className=\"step-subsection\">\n              <h4>Step 3: ìƒì„¸ì‚¬ì–‘ ì…ë ¥</h4>\n              <div className=\"specification-grid\">\n                {/* BODY ì„¹ì…˜ */}\n                <div className=\"spec-section\">\n                  <h4>BODY</h4>\n                  <div className=\"spec-grid\">\n                    <div className=\"spec-item\">\n                      <label>Bonnet Type:</label>\n                      <select value={bodySelections.bonnetType} onChange={(e) => handleBodyChange('bonnetType', e.target.value)} disabled={isReadOnly}>\n                        <option value=\"\">ì„ íƒí•˜ì„¸ìš”</option>\n                        {bodyBonnetList && bodyBonnetList.length > 0 && bodyBonnetList.map((item: any) => (\n                          <option key={item.bonnetCode} value={item.bonnetCode}>\n                            {item.bonnet}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                    <div className=\"spec-item\">\n                      <label>Material Body:</label>\n                      <select value={bodySelections.materialBody} onChange={(e) => handleBodyChange('materialBody', e.target.value)} disabled={isReadOnly}>\n                        <option value=\"\">ì„ íƒí•˜ì„¸ìš”</option>\n                        {bodyMatList && bodyMatList.length > 0 && bodyMatList.map((item: any) => (\n                          <option key={item.bodyMatCode} value={item.bodyMatCode}>\n                            {item.bodyMat}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                    <div className=\"spec-item\">\n                      <label>Size Body:</label>\n                      <div className=\"size-input-group\">\n                        <select value={bodySelections.sizeBodyUnitCode} onChange={(e) => {\n                          handleBodyChange('sizeBodyUnit', e.target.value);\n                          handleBodyChange('sizeBodyUnitCode', e.target.value);\n                        }} disabled={isReadOnly}>\n                          <option value=\"\">Unit ì„ íƒ</option>\n                          {bodySizeList && bodySizeList.length > 0 && \n                            bodySizeList\n                              .map(item => item.sizeUnit)\n                              .filter((unit, index, arr) => arr.indexOf(unit) === index)\n                              .map((unit: string) => (\n                                <option key={unit} value={unit}>\n                                  {unit}\n                                </option>\n                              ))\n                          }\n                        </select>\n                        <select value={bodySelections.sizeBodyCode} onChange={(e) => {\n                          const selectedItem = bodySizeList.find(item => item.bodySizeCode === e.target.value);\n                          if (selectedItem) {\n                            handleBodyChange('sizeBody', selectedItem.bodySize);\n                            handleBodyChange('sizeBodyCode', selectedItem.bodySizeCode);\n                          }\n                        }} disabled={!bodySelections.sizeBodyUnit || isReadOnly}>\n                          <option value=\"\">ê°’ ì„ íƒ</option>\n                          {bodySelections.sizeBodyUnit && bodySizeList && bodySizeList.length > 0 && \n                            bodySizeList\n                              .filter(item => item.sizeUnit === bodySelections.sizeBodyUnit)\n                              .map((item: any) => (\n                                <option key={item.bodySizeCode} value={item.bodySizeCode}>\n                                  {item.bodySize}\n                                </option>\n                              ))\n                          }\n                        </select>\n                      </div>\n                    </div>\n                    <div className=\"spec-item\">\n                      <label>Rating:</label>\n                      <div className=\"rating-input-group\">\n                        <select value={bodySelections.ratingUnit} onChange={(e) => {\n                          const selectedUnit = bodyRatingList.find(item => item.ratingUnit === e.target.value);\n                          if (selectedUnit) {\n                            handleBodyChange('ratingUnit', selectedUnit.ratingUnit);\n                            handleBodyChange('ratingUnitCode', selectedUnit.ratingUnitCode);\n                          }\n                        }} disabled={isReadOnly}>\n                          <option value=\"\">Unit ì„ íƒ</option>\n                          {bodyRatingList && bodyRatingList.length > 0 && \n                            bodyRatingList\n                              .map(item => item.ratingUnit)\n                              .filter((unit, index, arr) => arr.indexOf(unit) === index)\n                              .map((unit: string) => (\n                                <option key={unit} value={unit}>\n                                  {unit}\n                                </option>\n                              ))\n                          }\n                        </select>\n                        <select value={bodySelections.ratingCode} onChange={(e) => {\n                          const selectedItem = bodyRatingList.find(item => item.ratingCode === e.target.value);\n                          if (selectedItem) {\n                            handleBodyChange('rating', selectedItem.ratingName);\n                            handleBodyChange('ratingCode', selectedItem.ratingCode);\n                          }\n                        }} disabled={!bodySelections.ratingUnitCode || isReadOnly}>\n                          <option value=\"\">ê°’ ì„ íƒ</option>\n                          {bodySelections.ratingUnit && bodyRatingList && bodyRatingList.length > 0 && \n                            bodyRatingList\n                              .filter(item => item.ratingUnit === bodySelections.ratingUnit)\n                              .map((item: any) => (\n                                <option key={item.ratingCode} value={item.ratingCode}>\n                                  {item.ratingName}\n                                </option>\n                              ))\n                          }\n                        </select>\n                      </div>\n                    </div>\n                    <div className=\"spec-item\">\n                      <label>Connection:</label>\n                      <select value={bodySelections.connection} onChange={(e) => handleBodyChange('connection', e.target.value)} disabled={isReadOnly}>\n                        <option value=\"\">ì„ íƒí•˜ì„¸ìš”</option>\n                        {bodyConnectionList && bodyConnectionList.length > 0 && bodyConnectionList.map((item: any) => (\n                          <option key={item.connectionCode} value={item.connectionCode}>\n                            {item.connection}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Trim ì„¹ì…˜ */}\n                <div className=\"spec-section\">\n                  <h4>Trim</h4>\n                  <div className=\"spec-grid\">\n                    <div className=\"spec-item\">\n                      <label>Trim Type:</label>\n                      <select value={trimSelections.trimType} onChange={(e) => handleTrimChange('trimType', e.target.value)} disabled={isReadOnly}>\n                        <option value=\"\">ì„ íƒí•˜ì„¸ìš”</option>\n                        {trimTypeList && trimTypeList.length > 0 && trimTypeList.map((item: any) => (\n                          <option key={item.trimTypeCode} value={item.trimTypeCode}>\n                            {item.trimType}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                    <div className=\"spec-item\">\n                      <label>Trim Series:</label>\n                      <select value={trimSelections.trimSeries} onChange={(e) => handleTrimChange('trimSeries', e.target.value)} disabled={isReadOnly}>\n                        <option value=\"\">ì„ íƒí•˜ì„¸ìš”</option>\n                        {trimSeriesList && trimSeriesList.length > 0 && trimSeriesList.map((item: any) => (\n                          <option key={item.trimSeriesCode} value={item.trimSeriesCode}>\n                            {item.trimSeries}\n                          </option>\n                          ))}\n                        </select>\n                    </div>\n                    <div className=\"spec-item\">\n                      <label>Material Trim:</label>\n                      <select value={trimSelections.materialTrim} onChange={(e) => handleTrimChange('materialTrim', e.target.value)} disabled={isReadOnly}>\n                        <option value=\"\">ì„ íƒí•˜ì„¸ìš”</option>\n                        {trimMatList && trimMatList.length > 0 && trimMatList.map((item: any) => (\n                          <option key={item.trimMatCode} value={item.trimMatCode}>\n                            {item.trimMat}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                    <div className=\"spec-item\">\n                      <label>Option:</label>\n                      <select value={trimSelections.option} onChange={(e) => handleTrimChange('option', e.target.value)} disabled={isReadOnly}>\n                        <option value=\"\">ì„ íƒí•˜ì„¸ìš”</option>\n                        {trimOptionList && trimOptionList.length > 0 && trimOptionList.map((item: any) => (\n                          <option key={item.trimOptionCode} value={item.trimOptionCode}>\n                            {item.trimOption}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                    <div className=\"spec-item\">\n                      <label>Size Port:</label>\n                      <div className=\"size-input-group\">\n                        <select value={trimSelections.sizePortUnitCode} onChange={(e) => {\n                          handleTrimChange('sizePortUnit', e.target.value);\n                          handleTrimChange('sizePortUnitCode', e.target.value);\n                        }} disabled={isReadOnly}>\n                          <option value=\"\">Unit ì„ íƒ</option>\n                          {trimPortSizeList && trimPortSizeList.length > 0 && \n                            trimPortSizeList\n                              .map(item => item.portSizeUnit)\n                              .filter((unit, index, arr) => arr.indexOf(unit) === index)\n                              .map((unit: string) => (\n                                <option key={unit} value={unit}>\n                                  {unit}\n                                </option>\n                              ))\n                          }\n                        </select>\n                        <select value={trimSelections.sizePortCode} onChange={(e) => {\n                          const selectedItem = trimPortSizeList.find(item => item.portSizeCode === e.target.value);\n                          if (selectedItem) {\n                            handleTrimChange('sizePort', selectedItem.portSize);\n                            handleTrimChange('sizePortCode', selectedItem.portSizeCode);\n                          }\n                        }} disabled={!trimSelections.sizePortUnit || isReadOnly}>\n                          <option value=\"\">ê°’ ì„ íƒ</option>\n                          {trimSelections.sizePortUnit && trimPortSizeList && trimPortSizeList.length > 0 && \n                            trimPortSizeList\n                              .filter(item => item.portSizeUnit === trimSelections.sizePortUnit)\n                              .map((item: any) => (\n                                <option key={item.portSizeCode} value={item.portSizeCode}>\n                                  {item.portSize}\n                                </option>\n                              ))\n                          }\n                        </select>\n                      </div>\n                    </div>\n                    <div className=\"spec-item\">\n                      <label>Form:</label>\n                      <select value={trimSelections.form} onChange={(e) => handleTrimChange('form', e.target.value)} disabled={isReadOnly}>\n                        <option value=\"\">ì„ íƒí•˜ì„¸ìš”</option>\n                        {trimFormList && trimFormList.length > 0 && trimFormList.map((item: any) => (\n                          <option key={item.trimFormCode} value={item.trimFormCode}>\n                            {item.trimForm}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                  </div>\n                </div>\n\n                {/* ACT ì„¹ì…˜ */}\n                <div className=\"spec-section\">\n                  <h4>ACT</h4>\n                  <div className=\"spec-grid\">\n                    <div className=\"spec-item\">\n                      <label>Action Type:</label>\n                      <select value={actSelections.actionType} onChange={(e) => handleActChange('actionType', e.target.value)} disabled={isReadOnly}>\n                        <option value=\"\">ì„ íƒí•˜ì„¸ìš”</option>\n                        {actTypeList && actTypeList.length > 0 && actTypeList.map((item: any) => (\n                          <option key={item.actTypeCode} value={item.actTypeCode}>\n                            {item.actType}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                    <div className=\"spec-item\">\n                      <label>Series:</label>\n                      <select value={actSelections.series} onChange={(e) => handleActChange('series', e.target.value)} disabled={isReadOnly}>\n                        <option value=\"\">ì„ íƒí•˜ì„¸ìš”</option>\n                        {actSeriesList && actSeriesList.length > 0 && actSeriesList.map((item: any) => (\n                          <option key={item.actSeriesCode} value={item.actSeriesCode}>\n                            {item.actSeries}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                    <div className=\"spec-item\">\n                      <label>Size:</label>\n                      <select value={actSelections.size} onChange={(e) => handleActChange('size', e.target.value)} disabled={!actSelections.series || isReadOnly}>\n                        <option value=\"\">ì„ íƒí•˜ì„¸ìš”</option>\n                        {actSizeList && actSizeList.length > 0 && \n                          actSizeList.map((item: any) => (\n                            <option key={item.actSizeCode} value={item.actSizeCode}>\n                              {item.actSize} {/* actSizeName -> actSizeë¡œ ë³€ê²½ */}\n                            </option>\n                          ))\n                        }\n                      </select>\n                    </div>\n                    <div className=\"spec-item\">\n                      <label>H.W:</label>\n                      <select value={actSelections.hw} onChange={(e) => handleActChange('hw', e.target.value)} disabled={isReadOnly}>\n                        <option value=\"\">ì„ íƒí•˜ì„¸ìš”</option>\n                        {actHWList && actHWList.length > 0 && actHWList.map((item: any) => (\n                          <option key={item.hwCode} value={item.hwCode}>\n                            {item.hw}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* ACC ì„¹ì…˜ - ì‚¬ì§„ê³¼ ë™ì¼í•œ 3ì—´ êµ¬ì¡°ë¡œ ë³€ê²½ */}\n              <div className=\"acc-section\">\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '10px' }}>\n                  <h4>ACC</h4>\n                  <button \n                    onClick={async () => {\n                      console.log('ì•…ì„¸ì‚¬ë¦¬ ë°ì´í„° ê°•ì œ ë¦¬ë¡œë“œ ì‹œì‘...');\n                      const success = await fetchAccessoryData();\n                      if (success) {\n                        alert('ì•…ì„¸ì‚¬ë¦¬ ë°ì´í„°ê°€ ì„±ê³µì ìœ¼ë¡œ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!');\n                      } else {\n                        alert('ì•…ì„¸ì‚¬ë¦¬ ë°ì´í„° ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');\n                      }\n                    }}\n                    style={{\n                      padding: '8px 16px',\n                      backgroundColor: '#007bff',\n                      color: 'white',\n                      border: 'none',\n                      borderRadius: '4px',\n                      cursor: 'pointer',\n                      fontSize: '12px'\n                    }}\n                    title=\"ì•…ì„¸ì‚¬ë¦¬ ë°ì´í„° ê°•ì œ ë¦¬ë¡œë“œ\"\n                  >\n                    ğŸ”„ ì•…ì„¸ì‚¬ë¦¬ ë¦¬ë¡œë“œ\n                  </button>\n                  <span style={{ fontSize: '11px', color: '#666', marginLeft: '10px' }}>\n                    ë©”ì´ì»¤: {accMakerList.length}ê°œ, ëª¨ë¸: {accModelList.length}ê°œ\n                  </span>\n                </div>\n                <div className=\"acc-table\">\n                  <table>\n                    <thead>\n                      <tr>\n                        <th>ì„ íƒëª©ë¡</th>\n                        <th>ë©”ì´ì»¤</th>\n                        <th>ëª¨ë¸ëª…</th>\n                        <th>ê·œê²©</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                    <tr>\n                              <td>Positioner</td>\n                              <td className=\"acc-options-group\" colSpan={3}>\n                                <AccessorySelector \n                                  accTypeKey=\"positioner\" \n                                  accSelections={accSelections} \n                                  setAccSelections={setAccSelections} \n                                  accMakerList={accMakerList} \n                                  accModelList={accModelList} \n                                />\n                              </td>\n                            </tr>\n                            <tr>\n                              <td>Solenoid Valve</td>\n                              <td className=\"acc-options-group\" colSpan={3}>\n                                <AccessorySelector \n                                  accTypeKey=\"solenoid\" \n                                  accSelections={accSelections} \n                                  setAccSelections={setAccSelections} \n                                  accMakerList={accMakerList} \n                                  accModelList={accModelList} \n                                />\n                              </td>\n                            </tr>\n                      <tr>\n                      <td>Limit Switch</td>\n                              <td className=\"acc-options-group\" colSpan={3}>\n                                <AccessorySelector \n                                  accTypeKey=\"limiter\" \n                                  accSelections={accSelections} \n                                  setAccSelections={setAccSelections} \n                                  accMakerList={accMakerList} \n                                  accModelList={accModelList} \n                                />\n                              </td>\n                            </tr>\n                            <tr>\n                              <td>Air Set</td>\n                              <td className=\"acc-options-group\" colSpan={3}>\n                                <AccessorySelector \n                                  accTypeKey=\"airSupply\" \n                                  accSelections={accSelections} \n                                  setAccSelections={setAccSelections} \n                                  accMakerList={accMakerList} \n                                  accModelList={accModelList} \n                                />\n                              </td>\n                            </tr>\n                            <tr>\n                              <td>Volume Booster</td>\n                              <td className=\"acc-options-group\" colSpan={3}>\n                                <AccessorySelector \n                                  accTypeKey=\"volumeBooster\" \n                                  accSelections={accSelections} \n                                  setAccSelections={setAccSelections} \n                                  accMakerList={accMakerList} \n                                  accModelList={accModelList} \n                                />\n                              </td>\n                            </tr>\n                            <tr>\n                              <td>Air Operated Valve</td>\n                              <td className=\"acc-options-group\" colSpan={3}>\n                                <AccessorySelector \n                                  accTypeKey=\"airOperator\" \n                                  accSelections={accSelections} \n                                  setAccSelections={setAccSelections} \n                                  accMakerList={accMakerList} \n                                  accModelList={accModelList} \n                                />\n                              </td>\n                            </tr>\n                            <tr>\n                              <td>Lock-Up Valve</td>\n                              <td className=\"acc-options-group\" colSpan={3}>\n                                <AccessorySelector \n                                  accTypeKey=\"lockUp\" \n                                  accSelections={accSelections} \n                                  setAccSelections={setAccSelections} \n                                  accMakerList={accMakerList} \n                                  accModelList={accModelList} \n                                />\n                              </td>\n                            </tr>\n                            <tr>\n                              <td>Snap Acting Relay</td>\n                              <td className=\"acc-options-group\" colSpan={3}>\n                                <AccessorySelector \n                                  accTypeKey=\"snapActingRelay\" \n                                  accSelections={accSelections} \n                                  setAccSelections={setAccSelections} \n                                  accMakerList={accMakerList} \n                                  accModelList={accModelList} \n                                />\n                              </td>\n                            </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n\n              {/* ì €ì¥ ë²„íŠ¼ */}\n              <div className=\"save-section\">\n                <button \n                  className=\"btn btn-primary save-specification-btn\"\n                  onClick={handleSaveSpecification}\n                  disabled={isReadOnly} // isReadOnly ìƒíƒœì— ë”°ë¼ ë¹„í™œì„±í™”\n                >\n                  ì‚¬ì–‘ ì €ì¥\n                </button>\n              </div>\n\n              {/* ğŸ”‘ ê´€ë¦¬ ì²¨ë¶€íŒŒì¼ ì„¹ì…˜ì„ StepsSection ì•ˆìœ¼ë¡œ ì´ë™ */}\n              <ManagerAttachmentsSection />\n        </div>\n      )}\n    </div>\n  );\n\n  // ê³ ê° ìš”ì²­ì‚¬í•­ ì„¹ì…˜ (í•­ìƒ readonly)\n  const CustomerRequirementSection = () => (\n    <div className=\"step-section\">\n      <div className=\"step-header\">\n        <h3>ê³ ê° ìš”ì²­ì‚¬í•­</h3>\n      </div>\n      <div className=\"customer-requirement-content\">\n        <textarea\n          value={customerRequirement}\n          onChange={() => {}} // ë³€ê²½ ë¶ˆê°€\n          readOnly={true} // í•­ìƒ readonly\n          placeholder=\"ê³ ê° ìš”ì²­ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤.\"\n          className=\"customer-requirement-textarea\"\n        />\n      </div>\n    </div>\n  );\n\n  // ê´€ë¦¬ì ì½”ë©˜íŠ¸ ì„¹ì…˜\n  const StaffCommentSection = () => (\n    <div className=\"step-section\">\n      <div className=\"step-header\">\n        <h3>ê´€ë¦¬ì ì½”ë©˜íŠ¸</h3>\n      </div>\n      <div className=\"staff-comment-content\">\n        <textarea\n          value={staffComment}\n          onChange={(e) => !isReadOnly && setStaffComment(e.target.value)}\n          readOnly={isReadOnly}\n          placeholder=\"ê´€ë¦¬ì ì½”ë©˜íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.\"\n          className=\"staff-comment-textarea\"\n        />\n      </div>\n    </div>\n  );\n\n  // ê³ ê° ìš”ì²­ ì²¨ë¶€íŒŒì¼ ì„¹ì…˜ (ë‹¤ìš´ë¡œë“œë§Œ ê°€ëŠ¥)\n  const CustomerAttachmentsSection = () => (\n    <div className=\"step-section\">\n      <div className=\"step-header\">\n        <h3>ê³ ê° ìš”ì²­ ì²¨ë¶€íŒŒì¼</h3>\n      </div>\n      <div className=\"attachments-content\">\n        {customerAttachments.length > 0 ? (\n          <div className=\"attachment-list\">\n            {customerAttachments.map((file, index) => (\n              <div key={index} className=\"attachment-item\">\n                <span className=\"file-name\">{file.fileName}</span>\n                <span className=\"file-size\">({(file.fileSize / 1024).toFixed(2)} KB)</span>\n                <button \n                  className=\"btn btn-primary btn-sm\"\n                  onClick={() => handleDownloadFile(file, 'customer')}\n                  disabled={!file.fileName.toLowerCase().endsWith('.pdf')}\n                >\n                  PDF ë‹¤ìš´ë¡œë“œ\n                </button>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className=\"no-attachments\">\n            ê³ ê° ìš”ì²­ ì²¨ë¶€íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.\n          </div>\n        )}\n      </div>\n    </div>\n  );\n\n  // ê´€ë¦¬ ì²¨ë¶€íŒŒì¼ ì„¹ì…˜ (ì—…ë¡œë“œ, ë‹¤ìš´ë¡œë“œ, ìƒì„± ê°€ëŠ¥)\n  const ManagerAttachmentsSection = () => (\n    <div className=\"step-section\">\n      <div className=\"step-header\">\n        <h3>ğŸ”‘ ê´€ë¦¬ ì²¨ë¶€íŒŒì¼</h3>\n        <div className=\"file-actions\">\n          <button \n            className=\"btn btn-secondary btn-sm\"\n            onClick={() => {\n              fetchManagerFiles();\n              fetchCustomerFiles();\n            }}\n            disabled={isLoadingFiles}\n          >\n            {isLoadingFiles ? 'ìƒˆë¡œê³ ì¹¨ ì¤‘...' : 'ìƒˆë¡œê³ ì¹¨'}\n          </button>\n        </div>\n      </div>\n      \n      {/* íŒŒì¼ ëª©ë¡ í‘œì‹œ */}\n      <div className=\"file-list-container\">\n        <h4>ğŸ“ ìƒì„±ëœ ì—‘ì…€ íŒŒì¼ ëª©ë¡</h4>\n        \n\n        \n        {isLoadingFiles ? (\n          <div className=\"loading\">íŒŒì¼ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>\n        ) : managerFiles.length === 0 ? (\n          <div className=\"no-files\">ìƒì„±ëœ íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.</div>\n        ) : (\n          <div className=\"file-grid\">\n            {/* ğŸ”‘ ì—‘ì…€ íŒŒì¼ë§Œ í•„í„°ë§í•´ì„œ í‘œì‹œ */}\n            {managerFiles\n              .filter((file) => file.fileName.toLowerCase().endsWith('.xlsx'))\n              .map((file) => (\n              <div key={file.attachmentID} className=\"file-card\">\n                <div className=\"file-header\">\n                  <h5>{getFileTypeDisplayName(file.managerFileType)}</h5>\n                  <span className=\"file-date\">{formatDate(file.uploadDate)}</span>\n                </div>\n                <div className=\"file-info\">\n                  <p className=\"file-name\">{file.fileName}</p>\n                  <p className=\"file-size\">í¬ê¸°: {formatFileSize(file.fileSize)}</p>\n                  {file.uploadUserID && (\n                    <p className=\"upload-user\">ì—…ë¡œë“œ: {file.uploadUserID}</p>\n                  )}\n                </div>\n                <div className=\"file-actions\">\n                  <button \n                    className=\"btn btn-primary btn-sm\"\n                    onClick={() => downloadFile(file.filePath, file.fileName)}\n                  >\n                    ğŸ“¥ ë‹¤ìš´ë¡œë“œ\n                  </button>\n                  <button \n                    className=\"btn btn-danger btn-sm\"\n                    onClick={() => deleteFile(file.managerFileType)}\n                  >\n                    ğŸ—‘ï¸ ì‚­ì œ\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* ê¸°ì¡´ íŒŒì¼ ìƒì„± ë²„íŠ¼ë“¤ */}\n      <div className=\"file-generation-section\">\n        <h4>ğŸ“ ì—‘ì…€ íŒŒì¼ ìƒì„±</h4>\n        <div className=\"generation-buttons\">\n          <button \n            className=\"btn btn-success btn-sm\"\n            onClick={() => handleGenerateFile('cvlist')}\n            disabled={isReadOnly}\n          >\n            ğŸ“Š CV ë¦¬ìŠ¤íŠ¸ ìƒì„±\n          </button>\n          <button \n            className=\"btn btn-success btn-sm\"\n            onClick={() => handleGenerateFile('vllist')}\n            disabled={isReadOnly}\n          >\n            ğŸ“‹ VL ë¦¬ìŠ¤íŠ¸ ìƒì„±\n          </button>\n          <button \n            className=\"btn btn-success btn-sm\"\n            onClick={() => handleGenerateFile('datasheet')}\n            disabled={isReadOnly}\n          >\n            ğŸ“„ DataSheet ìƒì„±\n          </button>\n          <button \n            className=\"btn btn-success btn-sm\"\n            onClick={() => handleGenerateFile('singlequote')}\n            disabled={isReadOnly}\n          >\n            ğŸ’° ë‹¨í’ˆê²¬ì ì„œ ìƒì„±\n          </button>\n          <button \n            className=\"btn btn-success btn-sm\"\n            onClick={() => handleGenerateFile('multiquote')}\n            disabled={isReadOnly}\n          >\n            ğŸ“Š ë‹¤ìˆ˜ëŸ‰ê²¬ì ì„œ ìƒì„±\n          </button>\n        </div>\n      </div>\n\n      {/* ğŸ”‘ ìƒì„±ëœ ì—‘ì…€ íŒŒì¼ ëª©ë¡ì„ ì—¬ê¸°ë¡œ ì´ë™ */}\n      <div className=\"file-list-section\">\n        <h4>ğŸ“„ ì—…ë¡œë“œëœ PDF íŒŒì¼ ëª©ë¡</h4>\n        \n\n        \n        {isLoadingFiles ? (\n          <div className=\"loading\">íŒŒì¼ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>\n        ) : managerFiles.length === 0 ? (\n          <div className=\"no-files\">ì—…ë¡œë“œëœ PDF íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.</div>\n        ) : (\n          <div className=\"file-grid\">\n            {managerFiles\n              .filter(file => file.fileName.toLowerCase().endsWith('.pdf')) // ğŸ”‘ PDF íŒŒì¼ë§Œ í•„í„°ë§\n              .map((file) => {\n                return (\n                  <div key={file.attachmentID} className=\"file-card\" style={{ borderLeft: '4px solid #e74c3c' }}>\n                    <div className=\"file-header\">\n                      <h5>\n                        ğŸ“„ {getFileTypeDisplayName(file.managerFileType)} (PDF)\n                      </h5>\n                      <span className=\"file-date\">{formatDate(file.uploadDate)}</span>\n                    </div>\n                    <div className=\"file-info\">\n                      <p className=\"file-name\">{file.fileName}</p>\n                      <p className=\"file-size\">í¬ê¸°: {formatFileSize(file.fileSize)}</p>\n                      {file.uploadUserID && (\n                        <p className=\"upload-user\">ì—…ë¡œë“œ: {file.uploadUserID}</p>\n                      )}\n                    </div>\n                    <div className=\"file-actions\">\n                      <button \n                        className=\"btn btn-primary btn-sm\"\n                        onClick={() => downloadFile(file.filePath, file.fileName)}\n                      >\n                        ğŸ“¥ ë‹¤ìš´ë¡œë“œ\n                      </button>\n                      <button \n                        className=\"btn btn-danger btn-sm\"\n                        onClick={() => deleteFile(file.managerFileType)}\n                      >\n                        ğŸ—‘ï¸ ì‚­ì œ\n                      </button>\n                    </div>\n                  </div>\n                );\n              })}\n          </div>\n        )}\n      </div>\n\n      {/* ğŸ”‘ PDF ì—…ë¡œë“œ ì„¹ì…˜ ì¶”ê°€ */}\n      <div className=\"pdf-upload-section\">\n        <h4>ğŸ“„ PDF ì—…ë¡œë“œ</h4>\n        <div className=\"pdf-upload-grid\">\n          {/* DataSheet PDF ì—…ë¡œë“œ */}\n          <div className=\"pdf-upload-item\">\n            <h5>ğŸ“„ DataSheet PDF</h5>\n            <button \n              className=\"btn btn-outline-secondary btn-sm\"\n              onClick={() => handleFileSelect('datasheet')}\n              disabled={isReadOnly}\n              style={{ marginBottom: '15px', width: '100%' }}\n            >\n              ğŸ“ PDF íŒŒì¼ ì„ íƒ\n            </button>\n            <div className=\"file-status\">\n              {selectedPdfFiles.datasheet ? (\n                <span className=\"file-selected\">âœ… {selectedPdfFiles.datasheet.name}</span>\n              ) : (\n                <span className=\"no-file\">ğŸ“ PDF íŒŒì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”</span>\n              )}\n            </div>\n            <button \n              className=\"btn btn-primary btn-sm\"\n              onClick={() => handleUploadManagerFile('datasheet')}\n              disabled={isReadOnly || !selectedPdfFiles.datasheet}\n            >\n              ğŸ“¤ PDF ì—…ë¡œë“œ\n            </button>\n          </div>\n\n          {/* CV ë¦¬ìŠ¤íŠ¸ PDF ì—…ë¡œë“œ */}\n          <div className=\"pdf-upload-item\">\n            <h5>ğŸ“Š CV ë¦¬ìŠ¤íŠ¸ PDF</h5>\n            <button \n              className=\"btn btn-outline-secondary btn-sm\"\n              onClick={() => handleFileSelect('cvlist')}\n              disabled={isReadOnly}\n              style={{ marginBottom: '15px', width: '100%' }}\n            >\n              ğŸ“ PDF íŒŒì¼ ì„ íƒ\n            </button>\n            <div className=\"file-status\">\n              {selectedPdfFiles.cvlist ? (\n                <span className=\"file-selected\">âœ… {selectedPdfFiles.cvlist.name}</span>\n              ) : (\n                <span className=\"no-file\">ğŸ“ PDF íŒŒì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”</span>\n              )}\n            </div>\n            <button \n              className=\"btn btn-primary btn-sm\"\n              onClick={() => handleUploadManagerFile('cvlist')}\n              disabled={isReadOnly || !selectedPdfFiles.cvlist}\n            >\n              ğŸ“¤ PDF ì—…ë¡œë“œ\n            </button>\n          </div>\n\n          {/* VL ë¦¬ìŠ¤íŠ¸ PDF ì—…ë¡œë“œ */}\n          <div className=\"pdf-upload-item\">\n            <h5>ğŸ“‹ VL ë¦¬ìŠ¤íŠ¸ PDF</h5>\n            <button \n              className=\"btn btn-outline-secondary btn-sm\"\n              onClick={() => handleFileSelect('vllist')}\n              disabled={isReadOnly}\n              style={{ marginBottom: '15px', width: '100%' }}\n            >\n              ğŸ“ PDF íŒŒì¼ ì„ íƒ\n            </button>\n                         <div className=\"file-status\">\n               {selectedPdfFiles.vllist ? (\n                 <span className=\"file-selected\">âœ… {selectedPdfFiles.vllist.name}</span>\n               ) : (\n                 <span className=\"no-file\">ğŸ“ PDF íŒŒì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”</span>\n               )}\n             </div>\n            <button \n              className=\"btn btn-primary btn-sm\"\n              onClick={() => handleUploadManagerFile('vllist')}\n              disabled={isReadOnly || !selectedPdfFiles.vllist}\n            >\n              ğŸ“¤ PDF ì—…ë¡œë“œ\n            </button>\n          </div>\n\n          {/* ë‹¨í’ˆê²¬ì ì„œ PDF ì—…ë¡œë“œ */}\n          <div className=\"pdf-upload-item\">\n            <h5>ğŸ’° ë‹¨í’ˆê²¬ì ì„œ PDF</h5>\n            <button \n              className=\"btn btn-outline-secondary btn-sm\"\n              onClick={() => handleFileSelect('singlequote')}\n              disabled={isReadOnly}\n              style={{ marginBottom: '15px', width: '100%' }}\n            >\n              ğŸ“ PDF íŒŒì¼ ì„ íƒ\n            </button>\n            <div className=\"file-status\">\n              {selectedPdfFiles.singlequote ? (\n                <span className=\"file-selected\">âœ… {selectedPdfFiles.singlequote.name}</span>\n              ) : (\n                <span className=\"no-file\">ğŸ“ PDF íŒŒì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”</span>\n              )}\n            </div>\n            <button \n              className=\"btn btn-primary btn-sm\"\n              onClick={() => handleUploadManagerFile('singlequote')}\n              disabled={isReadOnly || !selectedPdfFiles.singlequote}\n            >\n              ğŸ“¤ PDF ì—…ë¡œë“œ\n            </button>\n          </div>\n\n          {/* ë‹¤ìˆ˜ëŸ‰ê²¬ì ì„œ PDF ì—…ë¡œë“œ */}\n          <div className=\"pdf-upload-item\">\n            <h5>ğŸ“Š ë‹¤ìˆ˜ëŸ‰ê²¬ì ì„œ PDF</h5>\n            <button \n              className=\"btn btn-outline-secondary btn-sm\"\n              onClick={() => handleFileSelect('multiquote')}\n              disabled={isReadOnly}\n              style={{ marginBottom: '15px', width: '100%' }}\n            >\n              ğŸ“ PDF íŒŒì¼ ì„ íƒ\n            </button>\n            <div className=\"file-status\">\n              {selectedPdfFiles.multiquote ? (\n                <span className=\"file-selected\">âœ… {selectedPdfFiles.multiquote.name}</span>\n              ) : (\n                <span className=\"no-file\">ğŸ“ PDF íŒŒì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”</span>\n              )}\n            </div>\n            <button \n              className=\"btn btn-primary btn-sm\"\n              onClick={() => handleUploadManagerFile('multiquote')}\n              disabled={isReadOnly || !selectedPdfFiles.multiquote}\n            >\n              ğŸ“¤ PDF ì—…ë¡œë“œ\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  useEffect(() => {\n    if (tempEstimateNo) {\n      loadExistingData();\n      // ğŸ”‘ íŒŒì¼ ëª©ë¡ ì¡°íšŒ ì¶”ê°€\n      fetchManagerFiles();\n      fetchCustomerFiles();\n    }\n  }, [tempEstimateNo, loadExistingData]); // loadExistingData ì¶”ê°€\n\n  useEffect(() => {\n    // typesì™€ accModelListê°€ ëª¨ë‘ ë¡œë“œëœ í›„ì—ë§Œ loadInitialSpecificationì„ í˜¸ì¶œ\n    if (tempEstimateNo && types.length > 0 && accModelList.length > 0) {\n      if (selectedValve && selectedValve.sheetID > 0) {\n        loadInitialSpecification(selectedValve.sheetID);\n      }\n    }\n  }, [selectedValve?.sheetID, tempEstimateNo, types, accModelList]); // typesì™€ accModelList ì¶”ê°€\n\n  return (\n    <div className=\"estimate-detail-page\">\n      {/* í—¤ë” */}\n      <div className=\"page-header\">\n        <button className=\"back-button\" onClick={() => navigate(-1)}>\n          â† ê²¬ì ìš”ì²­\n        </button>\n        <h1>ì‚¬ì–‘ ì„ ì •</h1>\n        <div className=\"header-actions\">\n          <button className=\"btn btn-secondary\">ê²¬ì  ì„¸ë¶€ ì •ë³´ í•œëˆˆì— ë³´ê¸°</button>\n          <button className=\"btn btn-secondary\">ê²¬ì  ì„œë¥˜ ë‹¤ìš´ë¡œë“œ</button>\n        </div>\n      </div>\n\n      {/* ìƒíƒœ ë° í”„ë¡œì íŠ¸ ì •ë³´ */}\n      <div className=\"status-section\">\n        <div className=\"status-group\">\n          <label>ì§„í–‰ìƒíƒœ:</label>\n          <select \n            value={currentStatus} \n            onChange={(e) => {\n              const newStatus = e.target.value;\n              if (newStatus !== currentStatus) {\n                handleStatusChange(newStatus);\n              }\n            }}\n            className=\"status-select\"\n          >\n            <option value=\"ê²¬ì ìš”ì²­\">ê²¬ì ìš”ì²­</option>\n            <option value=\"ê²¬ì ì²˜ë¦¬ì¤‘\">ê²¬ì ì²˜ë¦¬ì¤‘</option>\n            <option value=\"ê²¬ì ì™„ë£Œ\">ê²¬ì ì™„ë£Œ</option>\n            <option value=\"ì£¼ë¬¸\">ì£¼ë¬¸</option>\n          </select>\n        </div>\n        <div className=\"project-group\">\n          <label>í”„ë¡œì íŠ¸ëª…:</label>\n          <input type=\"text\" value={projectName} readOnly={isReadOnly} className=\"project-input\" />\n        </div>\n      </div>\n\n      {/* ë©”ì¸ ì½˜í…ì¸  */}\n      <div className=\"main-content\">\n        <div className=\"steps-container\">\n          <StepsSection />\n          <CustomerRequirementSection />\n          <StaffCommentSection />\n          <CustomerAttachmentsSection />\n          <ManagerAttachmentsSection />\n        </div>\n        \n        {/* í’ˆë²ˆ í‘œì‹œ ì„¹ì…˜ - í•œ ì¤„ ëª¨ëˆˆì¢…ì´ */}\n        <div className=\"part-number-section\">\n          <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">ìƒì„±ëœ í’ˆë²ˆ</h3>\n          <div className=\"part-number-single-line\">\n            {generatePartNumber.split('').map((char, index) => (\n              <div \n                key={index}\n                className={`char-box ${char === '0' ? 'empty-char' : 'filled-char'}`}\n                title={`ìœ„ì¹˜ ${index}: ${char}`}\n              >\n                {char}\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  };\n  \n  export default EstimateDetailPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}