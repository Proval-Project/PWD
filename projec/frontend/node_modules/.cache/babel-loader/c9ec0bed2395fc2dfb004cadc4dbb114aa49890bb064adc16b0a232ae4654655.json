{"ast":null,"code":"import _objectSpread from\"/Users/simjimin/Downloads/final_develop/projec/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import'./NewAccessoryManagementPage.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_BASE_URL='http://192.168.0.14:5135/api/masterdata';const NewAccessoryManagementPage=()=>{const[activeTab,setActiveTab]=useState('body');const[selectedBodySection,setSelectedBodySection]=useState('bodyBonnet');const[selectedAccessorySection,setSelectedAccessorySection]=useState('positioner');const[selectedMakerCode,setSelectedMakerCode]=useState(null);const[selectedUnitCode,setSelectedUnitCode]=useState(null);// New state for selected unit in Rating section\nconst[selectedBodySizeUnitCode,setSelectedBodySizeUnitCode]=useState(null);// New state for selected unit in Body Size section\nconst[selectedTrimPortSizeUnitCode,setSelectedTrimPortSizeUnitCode]=useState(null);// New state for selected unit in Trim Port Size section\nconst[selectedActSection,setSelectedActSection]=useState('actType');// New state for selected act section\nconst[selectedActSeriesCode,setSelectedActSeriesCode]=useState(null);// New state for selected Act Series\nconst[selectedTrimSection,setSelectedTrimSection]=useState('trimType');// New state for selected trim section\nconst[bodyData,setBodyData]=useState([]);const[unitData,setUnitData]=useState([]);// Unit ë°ì´í„°ë¥¼ ìœ„í•œ ìƒíƒœ ì¶”ê°€\nconst[makerData,setMakerData]=useState([]);const[modelData,setModelData]=useState([]);const[actTypeData,setActTypeData]=useState([]);// Act Type ë°ì´í„°ë¥¼ ìœ„í•œ ìƒíƒœ\nconst[actSeriesData,setActSeriesData]=useState([]);// Act Series ë°ì´í„°ë¥¼ ìœ„í•œ ìƒíƒœ\nconst[actSizeData,setActSizeData]=useState([]);// Act Size ë°ì´í„°ë¥¼ ìœ„í•œ ìƒíƒœ\nconst[actHWData,setActHWData]=useState([]);// Act H.W ë°ì´í„°ë¥¼ ìœ„í•œ ìƒíƒœ\nconst[trimData,setTrimData]=useState([]);// Trim ë°ì´í„°ë¥¼ ìœ„í•œ ìƒíƒœ\nconst[isLoading,setIsLoading]=useState(false);const[error,setError]=useState(null);// Modal States\nconst[isModalOpen,setIsModalOpen]=useState(false);const[modalMode,setModalMode]=useState('add');const[modalType,setModalType]=useState(null);const[currentItem,setCurrentItem]=useState(null);const[formData,setFormData]=useState({});const tabs=[{id:'body',name:'ë°”ë””'},{id:'trim',name:'íŠ¸ë¦¼'},{id:'act',name:'ìž‘ë™ê¸°'},{id:'accessory',name:'ì•…ì„¸ì‚¬ë¦¬'}];const bodySections=React.useMemo(()=>[{id:'bodyBonnet',name:'ë³´ë‹›íƒ€ìž…',endpoint:'body/bonnet',columns:[{key:'code',label:'Code*'},{key:'name',label:'NAME'}]},{id:'bodyValve',name:'ë°”ë””ì‹œë¦¬ì¦ˆ',endpoint:'body/valve',columns:[{key:'code',label:'Code*'},{key:'name',label:'NAME'}]},{id:'bodyMaterial',name:'ë°”ë””ìž¬ì§ˆ',endpoint:'body/material',columns:[{key:'code',label:'Code*'},{key:'name',label:'NAME'}]},{id:'bodySize',name:'ë°”ë”” ì‚¬ì´ì¦ˆ',endpoint:'body/size'},// columns removed, will be handled separately like rating\n{id:'rating',name:'ë ˆì´íŒ…',endpoint:'body/rating'},// columns removed, will be handled separately\n{id:'bodyConnection',name:'ì»¤ë„¥ì…˜',endpoint:'body/connection',columns:[{key:'code',label:'Code*'},{key:'name',label:'NAME'}]}],[]);const accessorySections=React.useMemo(()=>[{id:'positioner',name:'Positioner',apiId:'Positioner'},{id:'solenoid',name:'Solenoid',apiId:'Solenoid'},{id:'limit',name:'Limit',apiId:'Limit'},{id:'airSet',name:'Air-Set',apiId:'Airset'},{id:'volumeB',name:'Volume B',apiId:'Volume'},{id:'airOperate',name:'Air Operate',apiId:'Airoperate'},{id:'lockUp',name:'Lock Up',apiId:'Lockup'},{id:'snapActing',name:'Snap Acting',apiId:'Snapacting'}],[]);const actuatorSections=React.useMemo(()=>[{id:'actType',name:'Act Type',endpoint:'act/type',columns:[{key:'code',label:'Code*'},{key:'name',label:'NAME'}]},{id:'actSeries',name:'Series & Size',endpoint:'act/series',columns:[{key:'code',label:'Code*'},{key:'name',label:'NAME'}]},// Series will use act/series, Size will use act/size\n{id:'actHW',name:'H.W',endpoint:'act/hw',columns:[{key:'code',label:'Code*'},{key:'name',label:'NAME'}]}],[]);const trimSections=React.useMemo(()=>[{id:'trimType',name:'Type',endpoint:'trim-type',columns:[{key:'code',label:'Code*'},{key:'name',label:'NAME'}]},// íŠ¹ìˆ˜ê²½ë¡œ\n{id:'trimSeries',name:'Series',endpoint:'trim/series',columns:[{key:'code',label:'Code*'},{key:'name',label:'NAME'}]},{id:'trimPortSize',name:'Port Size',endpoint:'trim/port-size'},// columns removed, will be handled separately like rating\n{id:'trimForm',name:'Form',endpoint:'trim/form',columns:[{key:'code',label:'Code*'},{key:'name',label:'NAME'}]},{id:'trimMaterial',name:'Material',endpoint:'trim/material',columns:[{key:'code',label:'Code*'},{key:'name',label:'NAME'}]},{id:'trimOption',name:'Option',endpoint:'trim/option',columns:[{key:'code',label:'Code*'},{key:'name',label:'NAME'}]}],[]);const fetchData=useCallback(async()=>{setIsLoading(true);setError(null);setBodyData([]);setMakerData([]);setModelData([]);// setUnitData([]); // Do NOT clear unitData unconditionally here\ntry{if(activeTab==='body'){if(selectedBodySection==='rating'){const[ratingResponse]=await Promise.all([fetch(\"\".concat(API_BASE_URL,\"/body/rating\").concat(selectedUnitCode?\"?ratingUnitCode=\".concat(selectedUnitCode):''))]);if(!ratingResponse.ok)throw new Error('Failed to fetch rating data');const ratingData=await ratingResponse.json();const formattedRatingData=ratingData.map(item=>({code:item.ratingCode,name:item.ratingName,unit:item.ratingUnit}));setBodyData(formattedRatingData);// Only fetch unit data if it's not already loaded\n// Unit ë°ì´í„°ë¥¼ BodyRatingUnitListì—ì„œ ì§ì ‘ ì¡°íšŒ\nconst unitResponse=await fetch(\"\".concat(API_BASE_URL,\"/body/rating-units\"));if(!unitResponse.ok)throw new Error('Failed to fetch rating units data');const unitApiData=await unitResponse.json();console.log(\"Unit API Data:\",unitApiData);// Log API response\nconst formattedUnitData=unitApiData.map(item=>({code:item.ratingUnitCode,name:item.ratingUnit}));console.log(\"Formatted Unit Data:\",formattedUnitData);// Log formatted data\nsetUnitData(formattedUnitData);}else if(selectedBodySection==='bodySize'){// Body Size 2ë ˆë²¨ êµ¬ì¡°\nif(selectedBodySizeUnitCode){// Unitì´ ì„ íƒëœ ê²½ìš°ì—ë§Œ Size ëª©ë¡ ì¡°íšŒ\nconst[sizeResponse]=await Promise.all([fetch(\"\".concat(API_BASE_URL,\"/body/size-list-by-unit?unitCode=\").concat(selectedBodySizeUnitCode))]);if(!sizeResponse.ok)throw new Error('Failed to fetch body size data');const sizeData=await sizeResponse.json();const formattedSizeData=sizeData.map(item=>({code:item.bodySizeCode,name:item.bodySize,unit:item.unitCode}));setBodyData(formattedSizeData);}else{// Unitì´ ì„ íƒë˜ì§€ ì•Šì€ ê²½ìš° Size ëª©ë¡ì€ ë¹„ì›€\nsetBodyData([]);}// Body Size Unit ë°ì´í„°ëŠ” í•­ìƒ ì¡°íšŒ\nconst unitResponse=await fetch(\"\".concat(API_BASE_URL,\"/body/size-unit-list\"));if(!unitResponse.ok)throw new Error('Failed to fetch body size units data');const unitApiData=await unitResponse.json();const formattedUnitData=unitApiData.map(item=>({code:item.unitCode,name:item.unitName}));setUnitData(formattedUnitData);}else{const section=bodySections.find(s=>s.id===selectedBodySection);if(!section)return;const response=await fetch(\"\".concat(API_BASE_URL,\"/\").concat(section.endpoint));if(!response.ok)throw new Error(\"Failed to fetch \".concat(section.name,\" data\"));const data=await response.json();const formattedData=data.map(item=>({code:item.bonnetCode||item.valveSeriesCode||item.bodyMatCode||item.bodySizeCode||item.connectionCode||'',name:item.bonnet||item.valveSeries||item.bodyMat||item.bodySize||item.connection||'',unit:item.sizeUnit||undefined}));setBodyData(formattedData);}}else if(activeTab==='accessory'){var _accessorySections$fi;const accTypeCode=(_accessorySections$fi=accessorySections.find(s=>s.id===selectedAccessorySection))===null||_accessorySections$fi===void 0?void 0:_accessorySections$fi.apiId;console.log('ðŸ” Volume B ë””ë²„ê·¸ - activeTab:',activeTab);console.log('ðŸ” Volume B ë””ë²„ê·¸ - selectedAccessorySection:',selectedAccessorySection);console.log('ðŸ” Volume B ë””ë²„ê·¸ - accTypeCode:',accTypeCode);if(!accTypeCode){console.log('âŒ Volume B ë””ë²„ê·¸ - accTypeCodeê°€ ì—†ìŒ');return;}// Fetch Makers only\nconsole.log('ðŸ” Volume B ë””ë²„ê·¸ - Maker API í˜¸ì¶œ ì‹œìž‘:',\"\".concat(API_BASE_URL,\"/acc/maker?accTypeCode=\").concat(accTypeCode));const makerResponse=await fetch(\"\".concat(API_BASE_URL,\"/acc/maker?accTypeCode=\").concat(accTypeCode));console.log('ðŸ” Volume B ë””ë²„ê·¸ - Maker API ì‘ë‹µ ìƒíƒœ:',makerResponse.status,makerResponse.ok);if(!makerResponse.ok){console.log('âŒ Volume B ë””ë²„ê·¸ - Maker API ì‹¤íŒ¨:',makerResponse.statusText);throw new Error(\"Failed to fetch \".concat(accTypeCode,\" maker data\"));}const makers=await makerResponse.json();console.log('ðŸ” Volume B ë””ë²„ê·¸ - Maker API ì‘ë‹µ ë°ì´í„°:',makers);const formattedMakers=makers.map(item=>({code:item.accMakerCode,name:item.accMakerName}));console.log('ðŸ” Volume B ë””ë²„ê·¸ - í¬ë§·ëœ Maker ë°ì´í„°:',formattedMakers);setMakerData(formattedMakers);// Clear models when accessory section changes\nsetModelData([]);setSelectedMakerCode(null);}else if(activeTab==='act'){console.log('ðŸ” Act íƒ­ ì„ íƒë¨:',{selectedActSection,actuatorSections});// Clear all act data when switching tabs\nsetActTypeData([]);setActSeriesData([]);setActSizeData([]);setActHWData([]);const currentActSection=actuatorSections.find(s=>s.id===selectedActSection);console.log('ðŸ” í˜„ìž¬ Act ì„¹ì…˜:',currentActSection);if(!currentActSection)return;if(selectedActSection==='actSeries'){// Fetch Act Series\nconst seriesResponse=await fetch(\"\".concat(API_BASE_URL,\"/act/series\"));if(!seriesResponse.ok)throw new Error(\"Failed to fetch Act Series data\");const seriesData=await seriesResponse.json();const formattedSeriesData=seriesData.map(item=>({code:item.actSeriesCode,name:item.actSeries}));setActSeriesData(formattedSeriesData);// Fetch Act Sizes based on selected series, or all if no series selected yet\nconst sizeResponse=await fetch(\"\".concat(API_BASE_URL,\"/act/size\").concat(selectedActSeriesCode?\"?actSeriesCode=\".concat(selectedActSeriesCode):''));if(!sizeResponse.ok)throw new Error(\"Failed to fetch Act Size data\");const sizeData=await sizeResponse.json();// Ensure size data includes seriesCode for proper filtering/display if needed\nconst formattedSizeData=sizeData.map(item=>({code:item.actSizeCode,name:item.actSize,seriesCode:item.actSeriesCode// Make sure backend returns this\n}));setActSizeData(formattedSizeData);}else if(selectedActSection==='actType'){const response=await fetch(\"\".concat(API_BASE_URL,\"/act/type\"));if(!response.ok)throw new Error(\"Failed to fetch Act Type data\");const data=await response.json();setActTypeData(data.map(item=>({code:item.actTypeCode,name:item.actType})));}else if(selectedActSection==='actHW'){console.log('ðŸ” Act HW ì¡°íšŒ ì‹œìž‘');const response=await fetch(\"\".concat(API_BASE_URL,\"/act/hw\"));console.log('ðŸ” Act HW API ì‘ë‹µ:',{status:response.status,statusText:response.statusText});if(!response.ok)throw new Error(\"Failed to fetch Act H.W data\");const data=await response.json();console.log('ðŸ” Act HW ë°ì´í„°:',data);setActHWData(data.map(item=>({code:item.hwCode,name:item.hw})));}}else if(activeTab==='trim'){setTrimData([]);// Clear trim data\nconst currentTrimSection=trimSections.find(s=>s.id===selectedTrimSection);if(!currentTrimSection)return;try{if(currentTrimSection.id==='trimPortSize'){// Trim Port Size 2ë ˆë²¨ êµ¬ì¡°\nif(selectedTrimPortSizeUnitCode){// Unitì´ ì„ íƒëœ ê²½ìš°ì—ë§Œ Size ëª©ë¡ ì¡°íšŒ\nconst[sizeResponse]=await Promise.all([fetch(\"\".concat(API_BASE_URL,\"/trim/port-size-list-by-unit?unitCode=\").concat(selectedTrimPortSizeUnitCode))]);if(!sizeResponse.ok)throw new Error('Failed to fetch trim port size data');const sizeData=await sizeResponse.json();const formattedData=sizeData.map(item=>({code:item.portSizeCode,name:item.portSize,unit:item.unitCode}));setTrimData(formattedData);}else{// Unitì´ ì„ íƒë˜ì§€ ì•Šì€ ê²½ìš° Size ëª©ë¡ì€ ë¹„ì›€\nsetTrimData([]);}// Trim Port Size Unit ë°ì´í„°ëŠ” í•­ìƒ ì¡°íšŒ\nconst unitResponse=await fetch(\"\".concat(API_BASE_URL,\"/trim/port-size-unit-list\"));if(!unitResponse.ok)throw new Error('Failed to fetch trim port size units data');const unitApiData=await unitResponse.json();const formattedUnitData=unitApiData.map(item=>({code:item.unitCode,name:item.unitName}));setUnitData(formattedUnitData);}else{const response=await fetch(\"\".concat(API_BASE_URL,\"/\").concat(currentTrimSection.endpoint));if(!response.ok)throw new Error(\"Failed to fetch \".concat(currentTrimSection.name,\" data\"));const data=await response.json();const formattedData=data.map(item=>{// Trim ì„¹ì…˜ë³„ ë°ì´í„° êµ¬ì¡°ì— ë§žê²Œ ë§¤í•‘\nif(currentTrimSection.id==='trimType'){return{code:item.trimTypeCode,name:item.trimType};}else if(currentTrimSection.id==='trimSeries'){return{code:item.trimSeriesCode,name:item.trimSeries};}else if(currentTrimSection.id==='trimForm'){return{code:item.trimFormCode,name:item.trimForm};}else if(currentTrimSection.id==='trimMaterial'){return{code:item.trimMatCode,name:item.trimMat};}else if(currentTrimSection.id==='trimOption'){return{code:item.trimOptionCode,name:item.trimOption};// Backend returns trimOptionName as trimOption\n}else{return{code:'',name:''};}}).filter(Boolean);// null ê°’ ì œê±°\nsetTrimData(formattedData);}}catch(err){setError(err instanceof Error?err.message:'An unknown error occurred');setTrimData([]);}}else{setBodyData([]);setMakerData([]);setModelData([]);setActTypeData([]);setActSeriesData([]);setActSizeData([]);setActHWData([]);}}catch(err){setError(err instanceof Error?err.message:'An unknown error occurred');setBodyData([]);setMakerData([]);setModelData([]);setActTypeData([]);setActSeriesData([]);setActSizeData([]);setActHWData([]);}finally{setIsLoading(false);}},[activeTab,selectedBodySection,selectedAccessorySection,bodySections,accessorySections,unitData,selectedUnitCode,selectedBodySizeUnitCode,selectedTrimPortSizeUnitCode,selectedActSection,selectedActSeriesCode,actuatorSections,selectedTrimSection,trimSections]);const fetchModelsForMaker=useCallback(async makerCode=>{setIsLoading(true);setError(null);try{var _accessorySections$fi2;const accTypeCode=(_accessorySections$fi2=accessorySections.find(s=>s.id===selectedAccessorySection))===null||_accessorySections$fi2===void 0?void 0:_accessorySections$fi2.apiId;console.log('ðŸ” Volume B ë””ë²„ê·¸ - fetchModelsForMaker ì‹œìž‘');console.log('ðŸ” Volume B ë””ë²„ê·¸ - makerCode:',makerCode);console.log('ðŸ” Volume B ë””ë²„ê·¸ - accTypeCode:',accTypeCode);if(!accTypeCode){console.log('âŒ Volume B ë””ë²„ê·¸ - fetchModelsForMakerì—ì„œ accTypeCodeê°€ ì—†ìŒ');return;}console.log('ðŸ” Volume B ë””ë²„ê·¸ - Model API í˜¸ì¶œ ì‹œìž‘:',\"\".concat(API_BASE_URL,\"/acc/model?accTypeCode=\").concat(accTypeCode,\"&accMakerCode=\").concat(String(makerCode)));const modelResponse=await fetch(\"\".concat(API_BASE_URL,\"/acc/model?accTypeCode=\").concat(accTypeCode,\"&accMakerCode=\").concat(String(makerCode)));console.log('ðŸ” Volume B ë””ë²„ê·¸ - Model API ì‘ë‹µ ìƒíƒœ:',modelResponse.status,modelResponse.ok);if(!modelResponse.ok){console.log('âŒ Volume B ë””ë²„ê·¸ - Model API ì‹¤íŒ¨:',modelResponse.statusText);throw new Error(\"Failed to fetch models for maker \".concat(makerCode));}const models=await modelResponse.json();console.log('ðŸ” Volume B ë””ë²„ê·¸ - Model API ì‘ë‹µ ë°ì´í„°:',models);const formattedModels=models.map(item=>({code:item.accModelCode,name:item.accModelName,spec:item.accSize||'N/A'}));console.log('ðŸ” Volume B ë””ë²„ê·¸ - í¬ë§·ëœ Model ë°ì´í„°:',formattedModels);setModelData(formattedModels);}catch(err){console.log('âŒ Volume B ë””ë²„ê·¸ - fetchModelsForMaker ì˜¤ë¥˜:',err);setError(err instanceof Error?err.message:'An unknown error occurred');setModelData([]);}finally{setIsLoading(false);}},[selectedAccessorySection,accessorySections]);useEffect(()=>{// Reset selectedUnitCode when switching away from 'rating' section\nif(activeTab==='body'&&selectedBodySection!=='rating'){setSelectedUnitCode(null);}// Reset selectedBodySizeUnitCode when switching away from 'bodySize' section\nif(activeTab==='body'&&selectedBodySection!=='bodySize'){setSelectedBodySizeUnitCode(null);}// Reset selectedTrimPortSizeUnitCode when switching away from 'trimPortSize' section\nif(activeTab==='trim'&&selectedTrimSection!=='trimPortSize'){setSelectedTrimPortSizeUnitCode(null);}fetchData();},[activeTab,selectedBodySection,selectedAccessorySection,selectedUnitCode,selectedBodySizeUnitCode,selectedTrimPortSizeUnitCode,selectedTrimSection]);// Remove fetchData from dependencies to prevent infinite loop\nconst handleMakerSelect=makerCode=>{console.log('ðŸ” Volume B ë””ë²„ê·¸ - handleMakerSelect í˜¸ì¶œë¨');console.log('ðŸ” Volume B ë””ë²„ê·¸ - ì„ íƒëœ makerCode:',makerCode);setSelectedMakerCode(makerCode);fetchModelsForMaker(makerCode);};const handleUnitSelect=unitCode=>{setSelectedUnitCode(unitCode);};const handleBodySizeUnitSelect=unitCode=>{setSelectedBodySizeUnitCode(unitCode);};const handleTrimPortSizeUnitSelect=unitCode=>{setSelectedTrimPortSizeUnitCode(unitCode);};const handleActSeriesSelect=seriesCode=>{setSelectedActSeriesCode(seriesCode);};// --- Modal and CRUD Functions ---\nconst openModal=function(type,mode){let item=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;setModalType(type);setModalMode(mode);setCurrentItem(item);let initialFormData={};// Initialize as empty object\nif(mode==='edit'&&item){if(type==='maker'||type==='unit'||type==='actType'||type==='actSeries'||type==='actHW'||type==='trimType'||type==='trimSeries'||type==='trimForm'||type==='trimMaterial'||type==='trimOption'||type==='bodyBonnet'||type==='bodyValve'||type==='bodyMaterial'||type==='bodyConnection'){initialFormData={code:item.code,name:item.name};}else if(type==='model'){initialFormData={code:item.code,name:item.name,spec:item.spec};}else if(type==='rating'){initialFormData={code:item.code,name:item.name,unit:item.unit};}else if(type==='actSize'){initialFormData={code:item.code,name:item.name,seriesCode:item.seriesCode};}else if(type==='trimPortSize'){initialFormData={code:item.code,name:item.name,unit:item.unit};}else if(type==='bodySize'){initialFormData={code:item.code,name:item.name,unit:item.unit};}else if(type==='bodySizeUnit'||type==='trimPortSizeUnit'){initialFormData={code:item.code,name:item.name};}}else{// Add mode or no item\n// For add mode, or if item is null (e.g., initial state)\n// Ensure accMakerCode/Name for model, actSeriesCode/Name for actSize, unit for rating/portSize/bodySize\nif(type==='model'&&selectedMakerCode){const selectedMaker=makerData.find(m=>m.code===selectedMakerCode);if(selectedMaker){initialFormData.accMakerCode=selectedMaker.code;initialFormData.accMakerName=selectedMaker.name;}}else if(type==='rating'){// No special initial data needed for add rating, unit selected separately\n}else if(type==='actSize'&&selectedActSeriesCode){const selectedActSeries=actSeriesData.find(s=>s.code===selectedActSeriesCode);if(selectedActSeries){initialFormData.actSeriesCode=selectedActSeries.code;initialFormData.actSeriesName=selectedActSeries.name;}}else if(type==='trimPortSize'){// No special initial data for add trimPortSize\n}else if(type==='bodySize'){// No special initial data for add bodySize\n}}console.log('ðŸ” openModal - type:',type,'mode:',mode,'item:',item);console.log('ðŸ” openModal - initialFormData:',initialFormData);setFormData(initialFormData);setIsModalOpen(true);};const closeModal=()=>{setIsModalOpen(false);setModalType(null);setCurrentItem(null);setFormData({});};const handleFormChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSave=async()=>{var _accessorySections$fi3;if(!modalType)return;console.log(\"handleSave: modalType =\",modalType);console.log(\"handleSave: modalMode =\",modalMode);console.log(\"handleSave: currentItem =\",currentItem);console.log(\"handleSave: formData =\",formData);const accTypeCode=(_accessorySections$fi3=accessorySections.find(s=>s.id===selectedAccessorySection))===null||_accessorySections$fi3===void 0?void 0:_accessorySections$fi3.apiId;let url='';let method=modalMode==='add'?'POST':'PUT';let requestBody={};// Determine URL and Request Body based on modalType and modalMode\nif(modalType==='maker'){if(modalMode==='add'){if(!accTypeCode){setError('Accessory type is not selected correctly.');return;}// ë°±ì—”ë“œ API: POST /acc/{type} (type=\"maker\")\nurl=\"\".concat(API_BASE_URL,\"/acc/maker\");// ë°±ì—”ë“œê°€ ê¸°ëŒ€í•˜ëŠ” í•„ë“œëª…: accTypeCode, makerCode, maker\nrequestBody={accTypeCode,makerCode:formData.code,maker:formData.name};}else{// edit mode\n// ë°±ì—”ë“œ API: PUT /acc/{type}/{code} (type=\"maker\", code=makerCode)\nurl=\"\".concat(API_BASE_URL,\"/acc/maker/\").concat(currentItem===null||currentItem===void 0?void 0:currentItem.code);// ë°±ì—”ë“œê°€ ê¸°ëŒ€í•˜ëŠ” í•„ë“œëª…: accTypeCode, maker\nrequestBody={accTypeCode,maker:formData.name};}}else if(modalType==='model'){if(!accTypeCode||!selectedMakerCode){setError('Accessory type or maker is not selected correctly.');return;}if(modalMode==='add'){// ë°±ì—”ë“œ API: POST /acc/{type} (type=\"model\")\nurl=\"\".concat(API_BASE_URL,\"/acc/model\");// ë°±ì—”ë“œê°€ ê¸°ëŒ€í•˜ëŠ” í•„ë“œëª…: modelCode, model, accTypeCode, accMakerCode, accSize\nrequestBody={modelCode:formData.code,model:formData.name,accTypeCode,accMakerCode:selectedMakerCode,accSize:formData.spec};}else{// edit mode\n// ë°±ì—”ë“œ API: PUT /acc/{type}/{code} (type=\"model\", code=modelCode)\nurl=\"\".concat(API_BASE_URL,\"/acc/model/\").concat(currentItem===null||currentItem===void 0?void 0:currentItem.code);// ë°±ì—”ë“œê°€ ê¸°ëŒ€í•˜ëŠ” í•„ë“œëª…: model, accTypeCode, accMakerCode, accSize\nrequestBody={model:formData.name,accTypeCode,accMakerCode:selectedMakerCode,accSize:formData.spec};}}else if(modalType==='unit'){if(modalMode==='add'){url=\"\".concat(API_BASE_URL,\"/body/rating-units\");requestBody={ratingUnitCode:formData.code,ratingUnit:formData.name};}else{// edit mode\nurl=\"\".concat(API_BASE_URL,\"/body/rating-units/\").concat(currentItem===null||currentItem===void 0?void 0:currentItem.code);requestBody={ratingUnitCode:currentItem===null||currentItem===void 0?void 0:currentItem.code,ratingUnit:formData.name};}}else if(modalType==='bodySizeUnit'){if(modalMode==='add'){url=\"\".concat(API_BASE_URL,\"/body/size-unit\");requestBody={unitCode:formData.code,unitName:formData.name};}else{// edit mode\nurl=\"\".concat(API_BASE_URL,\"/body/size-unit/\").concat(currentItem===null||currentItem===void 0?void 0:currentItem.code);requestBody={unitCode:currentItem===null||currentItem===void 0?void 0:currentItem.code,unitName:formData.name};}}else if(modalType==='trimPortSizeUnit'){if(modalMode==='add'){url=\"\".concat(API_BASE_URL,\"/trim/port-size-unit\");requestBody={unitCode:formData.code,unitName:formData.name};}else{// edit mode\nurl=\"\".concat(API_BASE_URL,\"/trim/port-size-unit/\").concat(currentItem===null||currentItem===void 0?void 0:currentItem.code);requestBody={unitCode:currentItem===null||currentItem===void 0?void 0:currentItem.code,unitName:formData.name};}}else if(modalType==='rating'){if(!selectedUnitCode){setError('Rating Unit must be selected.');return;}if(modalMode==='add'){url=\"\".concat(API_BASE_URL,\"/body/rating\");requestBody={ratingCode:formData.code,rating:formData.name,unit:selectedUnitCode};}else{// edit mode\nurl=\"\".concat(API_BASE_URL,\"/body/rating/\").concat(currentItem===null||currentItem===void 0?void 0:currentItem.code);requestBody={ratingCode:currentItem===null||currentItem===void 0?void 0:currentItem.code,rating:formData.name,unit:selectedUnitCode};}}else if(modalType==='actType'){if(modalMode==='add'){url=\"\".concat(API_BASE_URL,\"/act/type\");requestBody={actTypeCode:formData.code,actType:formData.name};}else{// edit mode\nurl=\"\".concat(API_BASE_URL,\"/act/type/\").concat(currentItem===null||currentItem===void 0?void 0:currentItem.code);requestBody={actTypeCode:currentItem===null||currentItem===void 0?void 0:currentItem.code,actType:formData.name};}}else if(modalType==='actSeries'){if(modalMode==='add'){url=\"\".concat(API_BASE_URL,\"/act/series\");requestBody={actSeriesCode:formData.code,actSeries:formData.name};}else{// edit mode\nurl=\"\".concat(API_BASE_URL,\"/act/series/\").concat(currentItem===null||currentItem===void 0?void 0:currentItem.code);requestBody={actSeriesCode:currentItem===null||currentItem===void 0?void 0:currentItem.code,actSeries:formData.name};}}else if(modalType==='actSize'){if(!selectedActSeriesCode){setError('Actuator Series must be selected.');return;}if(modalMode==='add'){url=\"\".concat(API_BASE_URL,\"/act/size\");requestBody={actSizeCode:formData.code,actSize:formData.name,actSeriesCode:selectedActSeriesCode};}else{// edit mode\nurl=\"\".concat(API_BASE_URL,\"/act/size/\").concat(currentItem===null||currentItem===void 0?void 0:currentItem.code);requestBody={actSizeCode:currentItem===null||currentItem===void 0?void 0:currentItem.code,actSize:formData.name,actSeriesCode:selectedActSeriesCode};}}else if(modalType==='actHW'){if(modalMode==='add'){url=\"\".concat(API_BASE_URL,\"/act/hw\");requestBody={hwCode:formData.code,hw:formData.name};}else{// edit mode\nurl=\"\".concat(API_BASE_URL,\"/act/hw/\").concat(currentItem===null||currentItem===void 0?void 0:currentItem.code);requestBody={hwCode:currentItem===null||currentItem===void 0?void 0:currentItem.code,hw:formData.name};}}else if(modalType==='trimType'){if(modalMode==='add'){url=\"\".concat(API_BASE_URL,\"/trim-type\");requestBody={trimTypeCode:formData.code,trimType:formData.name};}else{// edit mode\nurl=\"\".concat(API_BASE_URL,\"/trim-type/\").concat(currentItem===null||currentItem===void 0?void 0:currentItem.code);requestBody={trimTypeCode:currentItem===null||currentItem===void 0?void 0:currentItem.code,trimType:formData.name};}}else if(modalType==='trimSeries'){if(modalMode==='add'){url=\"\".concat(API_BASE_URL,\"/trim/series\");requestBody={trimSeriesCode:formData.code,trimSeries:formData.name};}else{// edit mode\nurl=\"\".concat(API_BASE_URL,\"/trim/series/\").concat(currentItem===null||currentItem===void 0?void 0:currentItem.code);requestBody={trimSeriesCode:currentItem===null||currentItem===void 0?void 0:currentItem.code,trimSeries:formData.name};}}else if(modalType==='trimPortSize'){if(modalMode==='add'){// ë°±ì—”ë“œ API: POST /trim/{section} (section=\"portsize\")\nurl=\"\".concat(API_BASE_URL,\"/trim/portsize\");// Unitì´ ì„ íƒëœ ê²½ìš° ìžë™ìœ¼ë¡œ unitCode ì„¤ì •\nconst unitCode=selectedTrimPortSizeUnitCode||formData.unit;// ë°±ì—”ë“œê°€ ê¸°ëŒ€í•˜ëŠ” í•„ë“œëª…: portSizeCode, portSize, unitCode\nrequestBody={portSizeCode:formData.code,portSize:formData.name,unitCode:unitCode};console.log('ðŸ” trimPortSize ADD - selectedUnitCode:',selectedTrimPortSizeUnitCode,'formData.unit:',formData.unit,'final unitCode:',unitCode);}else{// edit mode\n// ë°±ì—”ë“œ API: PUT /trim/{section}/{code} (section=\"portsize\")\nurl=\"\".concat(API_BASE_URL,\"/trim/portsize/\").concat(currentItem===null||currentItem===void 0?void 0:currentItem.code);// ë°±ì—”ë“œê°€ ê¸°ëŒ€í•˜ëŠ” í•„ë“œëª…: portSize, unitCode\nrequestBody={portSize:formData.name,unitCode:(currentItem===null||currentItem===void 0?void 0:currentItem.unit)||formData.unit};}}else if(modalType==='trimForm'){if(modalMode==='add'){// ë°±ì—”ë“œ API: POST /trim/{section} (section=\"form\")\nurl=\"\".concat(API_BASE_URL,\"/trim/form\");// ë°±ì—”ë“œê°€ ê¸°ëŒ€í•˜ëŠ” í•„ë“œëª…: formCode, form\nrequestBody={formCode:formData.code,form:formData.name};}else{// edit mode\n// ë°±ì—”ë“œ API: PUT /trim/{section}/{code} (section=\"form\")\nurl=\"\".concat(API_BASE_URL,\"/trim/form/\").concat(currentItem===null||currentItem===void 0?void 0:currentItem.code);// ë°±ì—”ë“œê°€ ê¸°ëŒ€í•˜ëŠ” í•„ë“œëª…: form\nrequestBody={form:formData.name};}}else if(modalType==='trimMaterial'){if(modalMode==='add'){// ë°±ì—”ë“œ API: POST /trim/{section} (section=\"material\")\nurl=\"\".concat(API_BASE_URL,\"/trim/material\");// ë°±ì—”ë“œê°€ ê¸°ëŒ€í•˜ëŠ” í•„ë“œëª…: trimMatCode, trimMat\nrequestBody={trimMatCode:formData.code,trimMat:formData.name};}else{// edit mode\n// ë°±ì—”ë“œ API: PUT /trim/{section}/{code} (section=\"material\")\nurl=\"\".concat(API_BASE_URL,\"/trim/material/\").concat(currentItem===null||currentItem===void 0?void 0:currentItem.code);// ë°±ì—”ë“œê°€ ê¸°ëŒ€í•˜ëŠ” í•„ë“œëª…: trimMat\nrequestBody={trimMat:formData.name};}}else if(modalType==='trimOption'){if(modalMode==='add'){// ë°±ì—”ë“œ API: POST /trim/{section} (section=\"option\")\nurl=\"\".concat(API_BASE_URL,\"/trim/option\");// ë°±ì—”ë“œê°€ ê¸°ëŒ€í•˜ëŠ” í•„ë“œëª…: trimOptionCode, trimOption\nrequestBody={trimOptionCode:formData.code,trimOption:formData.name};}else{// edit mode\n// ë°±ì—”ë“œ API: PUT /trim/{section}/{code} (section=\"option\")\nurl=\"\".concat(API_BASE_URL,\"/trim/option/\").concat(currentItem===null||currentItem===void 0?void 0:currentItem.code);// ë°±ì—”ë“œê°€ ê¸°ëŒ€í•˜ëŠ” í•„ë“œëª…: trimOption\nrequestBody={trimOption:formData.name};}}else if(modalType.startsWith('body')){// Group common body sections for add/edit\nconst sectionId=modalType.replace('body','').toLowerCase();// e.g., 'bonnet', 'valve', 'material', 'connection'\nlet codeKey='';let nameKey='';let unitKey='';// For size\nswitch(sectionId){case'bonnet':codeKey='bonnetCode';nameKey='bonnet';break;case'valve':codeKey='valveSeriesCode';nameKey='valveSeries';break;case'material':codeKey='bodyMatCode';nameKey='bodyMat';break;case'connection':codeKey='connectionCode';nameKey='connection';break;case'size':codeKey='bodySizeCode';nameKey='bodySize';unitKey='sizeUnit';break;default:setError(\"Unknown body section ID: \".concat(sectionId));return;}if(modalMode==='add'){url=\"\".concat(API_BASE_URL,\"/body/\").concat(sectionId);if(sectionId==='size'){// Unitì´ ì„ íƒëœ ê²½ìš° ìžë™ìœ¼ë¡œ sizeUnit ì„¤ì •\nconst sizeUnit=selectedBodySizeUnitCode||formData.unit;requestBody={[codeKey]:formData.code,[nameKey]:formData.name,[unitKey]:sizeUnit};console.log('ðŸ” bodySize ADD - selectedUnitCode:',selectedBodySizeUnitCode,'formData.unit:',formData.unit,'final sizeUnit:',sizeUnit);}else{requestBody={[codeKey]:formData.code,[nameKey]:formData.name};}}else{// edit mode\nurl=\"\".concat(API_BASE_URL,\"/body/\").concat(sectionId,\"/\").concat(currentItem===null||currentItem===void 0?void 0:currentItem.code);if(sectionId==='size'){const sizeUnit=selectedBodySizeUnitCode||formData.unit;requestBody={[codeKey]:currentItem===null||currentItem===void 0?void 0:currentItem.code,[nameKey]:formData.name,[unitKey]:sizeUnit};}else{requestBody={[codeKey]:currentItem===null||currentItem===void 0?void 0:currentItem.code,[nameKey]:formData.name};}}}else{setError('Unknown modalType. Cannot construct URL or body.');return;}console.log(\"ðŸ”§ handleSave: Final URL =\",url);console.log(\"ðŸ”§ handleSave: Final Method =\",method);console.log(\"ðŸ”§ handleSave: Final Body =\",requestBody);console.log(\"ðŸ”§ handleSave: accTypeCode =\",accTypeCode);console.log(\"ðŸ”§ handleSave: selectedMakerCode =\",selectedMakerCode);console.log(\"ðŸ”§ handleSave: modalType =\",modalType);console.log(\"ðŸ”§ handleSave: modalMode =\",modalMode);console.log(\"ðŸ”§ handleSave: selectedUnitCode =\",selectedUnitCode);console.log(\"ðŸ”§ handleSave: formData =\",formData);console.log(\"ðŸ”§ handleSave: requestBody JSON =\",JSON.stringify(requestBody));try{console.log(\"ðŸ”§ API í˜¸ì¶œ ìƒì„¸:\",{url,method,requestBody});console.log(\"ðŸ”§ requestBody JSON:\",JSON.stringify(requestBody));const response=await fetch(url,{method,headers:{'Content-Type':'application/json'},body:JSON.stringify(requestBody)});if(!response.ok){console.error('ðŸ”§ API ì‘ë‹µ ì˜¤ë¥˜:',response.status,response.statusText);let errorMessage='Failed to save data.';try{const errorData=await response.json();errorMessage=errorData.message||errorMessage;console.error('ðŸ”§ API ì˜¤ë¥˜ ìƒì„¸:',errorData);}catch(parseError){console.error('ðŸ”§ ì‘ë‹µ íŒŒì‹± ì˜¤ë¥˜:',parseError);}throw new Error(errorMessage);}closeModal();if(modalType==='maker'){fetchData();// Refetch all makers, or body sections\n}else if(modalType==='model'&&selectedMakerCode){fetchModelsForMaker(selectedMakerCode);// Refetch models for the current maker\n}else if(modalType==='unit'||modalType==='rating'||modalType==='bodySizeUnit'||modalType==='trimPortSizeUnit'){fetchData();// Refetch body data for rating section\n}else if(modalType==='actType'||modalType==='actSeries'||modalType==='actSize'||modalType==='actHW'){fetchData();// Refetch act data\n}else if(modalType==='trimType'||modalType==='trimSeries'||modalType==='trimPortSize'||modalType==='trimForm'||modalType==='trimMaterial'||modalType==='trimOption'){fetchData();// Refetch trim data\n}else if(modalType.startsWith('body')){// Simplified check for all body sections\nfetchData();// Refetch body data\n}}catch(err){setError(err instanceof Error?err.message:'An unknown error occurred during save.');}};const handleDelete=async(type,item)=>{var _accessorySections$fi4;console.log('ðŸš€ handleDelete ì‹œìž‘:',{type,item,selectedAccessorySection,selectedMakerCode});if(!window.confirm(\"Are you sure you want to delete \".concat(item.name,\"?\")))return;const accTypeCode=(_accessorySections$fi4=accessorySections.find(s=>s.id===selectedAccessorySection))===null||_accessorySections$fi4===void 0?void 0:_accessorySections$fi4.apiId;// ì•…ì„¸ì‚¬ë¦¬ ë©”ì´ì»¤/ëª¨ë¸ ì‚­ì œ ì „ ì‚¬ìš© ì—¬ë¶€ í™•ì¸\nif(type==='maker'&&accTypeCode){console.log('ðŸ” ë©”ì´ì»¤ ì‚­ì œ ì „ ì‚¬ìš© ì—¬ë¶€ í™•ì¸ ì‹œìž‘:',{type,accTypeCode,makerCode:item.code});try{const checkUrl=\"\".concat(API_BASE_URL,\"/acc/\").concat(accTypeCode,\"/check-maker-usage/\").concat(item.code);console.log('ðŸ” API í˜¸ì¶œ URL:',checkUrl);const usageCheck=await fetch(checkUrl);console.log('ðŸ” API ì‘ë‹µ ìƒíƒœ:',usageCheck.status);if(!usageCheck.ok){console.error('ðŸ” API ì˜¤ë¥˜:',usageCheck.status,usageCheck.statusText);throw new Error(\"API \\uC624\\uB958: \".concat(usageCheck.status));}const usageData=await usageCheck.json();console.log('ðŸ” ì‚¬ìš© ì—¬ë¶€ ë°ì´í„°:',usageData);if(usageData.isUsed){console.log('ðŸ” ë©”ì´ì»¤ê°€ ì‚¬ìš© ì¤‘ìž…ë‹ˆë‹¤. ì‚­ì œ ì°¨ë‹¨.');const choice=window.confirm(\"\\uC774 \\uBA54\\uC774\\uCEE4\\uB294 \".concat(usageData.usedModelsCount,\"\\uAC1C\\uC758 \\uBAA8\\uB378\\uC5D0\\uC11C \\uC0AC\\uC6A9 \\uC911\\uC785\\uB2C8\\uB2E4.\\n\\n\")+\"\\uC0AD\\uC81C\\uD558\\uB824\\uBA74 \\uBAA8\\uB4E0 \\uBAA8\\uB378\\uC744 \\uBA3C\\uC800 \\uC0AD\\uC81C\\uD574\\uC57C \\uD569\\uB2C8\\uB2E4.\\n\\n\"+\"\\uACC4\\uC18D \\uC9C4\\uD589\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\");if(choice){alert('ë¨¼ì € ì‚¬ìš© ì¤‘ì¸ ëª¨ë¸ë“¤ì„ ì‚­ì œí•´ì£¼ì„¸ìš”.');return;}else{return;// ì‚­ì œ ì·¨ì†Œ\n}}else{console.log('ðŸ” ë©”ì´ì»¤ê°€ ì‚¬ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì‚­ì œ ì§„í–‰.');}}catch(error){console.error('ðŸ” ì‚¬ìš© ì—¬ë¶€ í™•ì¸ ì¤‘ ì˜¤ë¥˜:',error);// ì‚¬ìš© ì—¬ë¶€ í™•ì¸ ì‹¤íŒ¨ ì‹œì—ë„ ì‚­ì œ ì§„í–‰ (ê¸°ì¡´ ë™ìž‘ ìœ ì§€)\n}}if(type==='model'&&accTypeCode&&selectedMakerCode){console.log('ðŸ” ëª¨ë¸ ì‚­ì œ ì „ ì‚¬ìš© ì—¬ë¶€ í™•ì¸ ì‹œìž‘:',{type,accTypeCode,makerCode:selectedMakerCode,modelCode:item.code});try{const checkUrl=\"\".concat(API_BASE_URL,\"/acc/\").concat(accTypeCode,\"/check-model-usage/\").concat(selectedMakerCode,\"/\").concat(item.code);console.log('ðŸ” API í˜¸ì¶œ URL:',checkUrl);const usageCheck=await fetch(checkUrl);console.log('ðŸ” API ì‘ë‹µ ìƒíƒœ:',usageCheck.status);if(!usageCheck.ok){console.error('ðŸ” API ì˜¤ë¥˜:',usageCheck.status,usageCheck.statusText);throw new Error(\"API \\uC624\\uB958: \".concat(usageCheck.status));}const usageData=await usageCheck.json();console.log('ðŸ” ì‚¬ìš© ì—¬ë¶€ ë°ì´í„°:',usageData);if(usageData.isUsed){console.log('ðŸ” ëª¨ë¸ì´ ì‚¬ìš© ì¤‘ìž…ë‹ˆë‹¤. ì‚­ì œ ì°¨ë‹¨.');alert(\"\\uC774 \\uBAA8\\uB378\\uC740 \".concat(usageData.usedEstimatesCount,\"\\uAC1C\\uC758 \\uACAC\\uC801\\uC5D0\\uC11C \\uC0AC\\uC6A9 \\uC911\\uC785\\uB2C8\\uB2E4.\\n\")+\"\\uC0AD\\uC81C\\uD560 \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\");return;}else{console.log('ðŸ” ëª¨ë¸ì´ ì‚¬ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì‚­ì œ ì§„í–‰.');}}catch(error){console.error('ðŸ” ì‚¬ìš© ì—¬ë¶€ í™•ì¸ ì¤‘ ì˜¤ë¥˜:',error);// ì‚¬ìš© ì—¬ë¶€ í™•ì¸ ì‹¤íŒ¨ ì‹œì—ë„ ì‚­ì œ ì§„í–‰ (ê¸°ì¡´ ë™ìž‘ ìœ ì§€)\n}}// Act ì‚­ì œ ì „ ì‚¬ìš© ì—¬ë¶€ í™•ì¸ (ìƒˆë¡œ ì¶”ê°€)\nif(type==='actType'||type==='actSeries'||type==='actSize'||type==='actHW'){console.log('ðŸ” Act ì‚­ì œ ì „ ì‚¬ìš© ì—¬ë¶€ í™•ì¸ ì‹œìž‘:',{type,item});try{// ê°„ë‹¨í•œ í™•ì¸: í•´ë‹¹ Actê°€ í•˜ìœ„ ê³„ì¸µì—ì„œ ì‚¬ìš© ì¤‘ì¸ì§€ í™•ì¸\n// ì‹¤ì œë¡œëŠ” ë°±ì—”ë“œì—ì„œ ì´ë¯¸ í™•ì¸í•˜ê³  ìžˆì§€ë§Œ, í”„ë¡ íŠ¸ì—”ë“œì—ì„œë„ ê²½ê³  ë©”ì‹œì§€ í‘œì‹œ\nlet warningMessage='';if(type==='actType'){warningMessage='ì§ì ‘ ì‚­ì œ ê°€ëŠ¥í•©ë‹ˆë‹¤.';}else if(type==='actSeries'){warningMessage='ì‚­ì œ ì‹œ í•˜ìœ„ Act Sizeë“¤ë„ í•¨ê»˜ ì‚­ì œë©ë‹ˆë‹¤.';}else if(type==='actSize'){warningMessage='ì§ì ‘ ì‚­ì œ ê°€ëŠ¥í•©ë‹ˆë‹¤.';}else if(type==='actHW'){warningMessage='ì§ì ‘ ì‚­ì œ ê°€ëŠ¥í•©ë‹ˆë‹¤.';}const confirmDelete=window.confirm(\"\\uC774 \".concat(type==='actType'?'Act Type':type==='actSeries'?'Act Series':type==='actSize'?'Act Size':'Act HW',\"\\uC744(\\uB97C) \\uC0AD\\uC81C\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\\n\\n\")+\"\".concat(warningMessage));if(!confirmDelete){console.log('ðŸ” ì‚¬ìš©ìžê°€ ì‚­ì œë¥¼ ì·¨ì†Œí–ˆìŠµë‹ˆë‹¤.');return;}}catch(error){console.error('ðŸ” Act ì‚­ì œ í™•ì¸ ì¤‘ ì˜¤ë¥˜:',error);}}let url='';if(type==='model'){if(!selectedMakerCode){setError('A maker must be selected to delete a model.');return;}if(!accTypeCode){setError('Accessory type is not selected correctly.');// Should not happen if selectedMakerCode is set\nreturn;}// ë°±ì—”ë“œ API: acc/{section}/{modelCode}/{accTypeCode}/{accMakerCode}\n// model ì‚­ì œ ì‹œ: section=\"model\", modelCode=item.code, accTypeCode=accTypeCode, accMakerCode=selectedMakerCode\nurl=\"\".concat(API_BASE_URL,\"/acc/\").concat(type,\"/\").concat(item.code,\"/\").concat(accTypeCode,\"/\").concat(selectedMakerCode);}else if(type==='maker'){if(!accTypeCode){setError('Accessory type is not selected correctly.');return;}// ë°±ì—”ë“œ API: acc/{section}/{modelCode}/{accTypeCode}/{accMakerCode}\n// maker ì‚­ì œ ì‹œ: section=\"maker\", modelCode=item.code, accTypeCode=accTypeCode, accMakerCodeëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠìŒ\nurl=\"\".concat(API_BASE_URL,\"/acc/\").concat(type,\"/\").concat(item.code,\"/\").concat(accTypeCode,\"/dummy\");}else if(type==='unit'){url=\"\".concat(API_BASE_URL,\"/body/rating-units/\").concat(item.code);}else if(type==='bodySizeUnit'){url=\"\".concat(API_BASE_URL,\"/body/size-unit/\").concat(item.code);}else if(type==='trimPortSizeUnit'){url=\"\".concat(API_BASE_URL,\"/trim/port-size-unit/\").concat(item.code);}else if(type==='rating'){// ratingì€ ë³µí•©í‚¤ì´ë¯€ë¡œ unit íŒŒë¼ë¯¸í„° í•„ìš”\nif(!selectedUnitCode){setError('Rating Unit must be selected to delete rating.');return;}url=\"\".concat(API_BASE_URL,\"/body/rating/\").concat(item.code,\"?unit=\").concat(selectedUnitCode);}else if(type==='actType'){// ë°±ì—”ë“œ API: DELETE /act/{section}/{code} (section=\"type\")\nurl=\"\".concat(API_BASE_URL,\"/act/type/\").concat(item.code);}else if(type==='actSeries'){// ë°±ì—”ë“œ API: DELETE /act/{section}/{code} (section=\"series\")\nurl=\"\".concat(API_BASE_URL,\"/act/series/\").concat(item.code);}else if(type==='actSize'){// ë°±ì—”ë“œ API: DELETE /act/{section}/{code} (section=\"size\") + Query Parameter actSeriesCode\nif(!selectedActSeriesCode){setError('Actuator Series must be selected to delete size.');return;}url=\"\".concat(API_BASE_URL,\"/act/size/\").concat(item.code,\"?actSeriesCode=\").concat(selectedActSeriesCode);}else if(type==='actHW'){// ë°±ì—”ë“œ API: DELETE /act/{section}/{code} (section=\"hw\")\nurl=\"\".concat(API_BASE_URL,\"/act/hw/\").concat(item.code);}else if(type==='trimType'){url=\"\".concat(API_BASE_URL,\"/trim-type/\").concat(item.code);}else if(type==='trimSeries'){url=\"\".concat(API_BASE_URL,\"/trim/series/\").concat(item.code);}else if(type==='trimPortSize'){if(!item.unit){setError('Unit ì •ë³´ê°€ í•„ìš”í•©ë‹ˆë‹¤.');return;}url=\"\".concat(API_BASE_URL,\"/trim/portsize/\").concat(item.code,\"?unit=\").concat(item.unit);}else if(type==='trimForm'){url=\"\".concat(API_BASE_URL,\"/trim/form/\").concat(item.code);}else if(type==='trimMaterial'){url=\"\".concat(API_BASE_URL,\"/trim/material/\").concat(item.code);}else if(type==='trimOption'){url=\"\".concat(API_BASE_URL,\"/trim/option/\").concat(item.code);}else if(type.startsWith('body')){// Group common body sections for delete\nconst sectionId=type.replace('body','').toLowerCase();if(sectionId==='size'){// bodySizeëŠ” ë³µí•©í‚¤ì´ë¯€ë¡œ unit íŒŒë¼ë¯¸í„° í•„ìš”\nurl=\"\".concat(API_BASE_URL,\"/body/\").concat(sectionId,\"/\").concat(item.code,\"?unit=\").concat(item.unit);}else{url=\"\".concat(API_BASE_URL,\"/body/\").concat(sectionId,\"/\").concat(item.code);}}else{setError('Unknown delete type. Cannot construct URL.');return;}try{console.log('ðŸ”§ ì‚­ì œ API í˜¸ì¶œ:',{url,method:'DELETE'});const response=await fetch(url,{method:'DELETE'});console.log('ðŸ”§ ì‚­ì œ API ì‘ë‹µ:',{status:response.status,statusText:response.statusText});if(!response.ok){const errorData=await response.json();throw new Error(errorData.message||'Failed to delete data.');}if(type==='maker'){fetchData();// Refetch makers\n}else if(type==='model'&&selectedMakerCode){fetchModelsForMaker(selectedMakerCode);// Refetch models\n}else if(type==='unit'||type==='rating'||type==='bodySizeUnit'||type==='trimPortSizeUnit'){fetchData();// Refetch body data for rating section\n}else if(type==='actType'||type==='actSeries'||type==='actSize'||type==='actHW'){fetchData();// Refetch act data\n}else if(type==='trimType'||type==='trimSeries'||type==='trimPortSize'||type==='trimForm'||type==='trimMaterial'||type==='trimOption'){fetchData();// Refetch trim data\n}else if(type.startsWith('body')){// Simplified check for all body sections\nfetchData();// Refetch body data\n}}catch(err){setError(err instanceof Error?err.message:'An unknown error occurred during delete.');}};// --- Render Functions ---\nconst renderModal=()=>{if(!isModalOpen)return null;const title=(()=>{if(modalType==='unit'){return\"\".concat(modalMode==='add'?'Add':'Edit',\" Rating Unit\");}else if(modalType==='rating'){return\"\".concat(modalMode==='add'?'Add':'Edit',\" Body Rating\");}else if(modalType==='bodySize'){return\"\".concat(modalMode==='add'?'Add':'Edit',\" Body Size\");}else{return\"\".concat(modalMode==='add'?'Add':'Edit',\" \").concat(modalType);}})();return/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsx(\"h3\",{children:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[modalType!=='bodySize'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uBAA8\\uB378 \\uCF54\\uB4DC\"}),/*#__PURE__*/_jsx(\"input\",{name:\"code\",value:formData.code||'',onChange:handleFormChange,disabled:modalMode==='edit'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uBAA8\\uB378 \\uC774\\uB984\"}),/*#__PURE__*/_jsx(\"input\",{name:\"name\",value:formData.name||'',onChange:handleFormChange})]})]}),modalType==='model'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uBA54\\uC774\\uCEE4 \\uCF54\\uB4DC\"}),/*#__PURE__*/_jsx(\"input\",{name:\"accMakerCode\",value:formData.accMakerCode||'',disabled:true,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uBA54\\uC774\\uCEE4 \\uC774\\uB984\"}),/*#__PURE__*/_jsx(\"input\",{name:\"accMakerName\",value:formData.accMakerName||'',disabled:true,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uADDC\\uACA9 (Spec)\"}),/*#__PURE__*/_jsx(\"input\",{name:\"spec\",value:formData.spec||'',onChange:handleFormChange})]})]}),modalType==='rating'&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Rating Unit\"}),/*#__PURE__*/_jsx(\"input\",{name:\"unit\",value:selectedUnitCode||'',disabled:true,readOnly:true})]}),modalType==='bodySize'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Body Size Code\"}),/*#__PURE__*/_jsx(\"input\",{name:\"code\",value:formData.code||'',onChange:handleFormChange,placeholder:\"A, B, C \\uB4F1\",disabled:modalMode==='edit'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Body Size Name\"}),/*#__PURE__*/_jsx(\"input\",{name:\"name\",value:formData.name||'',onChange:handleFormChange,placeholder:\"20A, 50A \\uB4F1\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:closeModal,className:\"control-btn\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,className:\"control-btn add-btn\",children:\"Save\"})]})]})});};const renderContent=()=>{// ... (ì´ì „ ì½”ë“œì™€ ìœ ì‚¬, ë¡œë”©/ì—ëŸ¬ ì²˜ë¦¬ ì¶”ê°€)\nif(isLoading)return/*#__PURE__*/_jsx(\"div\",{className:\"placeholder-content\",children:\"Loading...\"});if(error)return/*#__PURE__*/_jsxs(\"div\",{className:\"placeholder-content error\",children:[\"Error: \",error]});switch(activeTab){case'body':const currentBodySection=bodySections.find(s=>s.id===selectedBodySection);if(selectedBodySection==='rating'){return/*#__PURE__*/_jsxs(\"div\",{className:\"content-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-selector\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Body \\uC139\\uC158 \\uC120\\uD0DD\"}),/*#__PURE__*/_jsx(\"div\",{className:\"section-buttons\",children:bodySections.map(section=>/*#__PURE__*/_jsx(\"button\",{className:\"section-button \".concat(selectedBodySection===section.id?'active':''),onClick:()=>setSelectedBodySection(section.id),children:section.name},section.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rating-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-area\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Unit\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uAC80\\uC0C9...\",className:\"search-input\"}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn\",onClick:fetchData,children:\"\\uC0C8\\uB85C\\uACE0\\uCE68\"}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn add-btn\",onClick:()=>openModal('unit','add'),children:\"+ \\uCD94\\uAC00\"})]})]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Code\"},\"code\"),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"},\"name\"),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC791\\uC5C5\"},\"actions\")]})}),/*#__PURE__*/_jsx(\"tbody\",{children:unitData.map(item=>/*#__PURE__*/_jsxs(\"tr\",{onClick:()=>handleUnitSelect(item.code)// Add onClick event\n,className:selectedUnitCode===item.code?'selected':''// Add 'selected' class\n,children:[/*#__PURE__*/_jsx(\"td\",{children:item.code}),/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn edit-btn\",onClick:e=>{e.stopPropagation();openModal('unit','edit',item);},children:\"\\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete-btn\",onClick:e=>{e.stopPropagation();handleDelete('unit',item);},children:\"\\uC0AD\\uC81C\"})]})]},item.code))})]})]}),selectedUnitCode&&/*#__PURE__*/// Conditionally render Rating table\n_jsxs(\"div\",{className:\"table-area\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Rating\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uAC80\\uC0C9...\",className:\"search-input\"}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn\",onClick:fetchData,children:\"\\uC0C8\\uB85C\\uACE0\\uCE68\"}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn add-btn\",onClick:()=>openModal('rating','add'),children:\"+ \\uCD94\\uAC00\"})]})]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Code*\"},\"code\"),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"},\"name\"),/*#__PURE__*/_jsx(\"th\",{children:\"\\uADDC\\uACA9\"},\"spec\"),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC791\\uC5C5\"},\"actions\")]})}),/*#__PURE__*/_jsx(\"tbody\",{children:bodyData.map(item=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.code}),/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsx(\"td\",{children:item.unit}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn edit-btn\",onClick:()=>openModal('rating','edit',item),children:\"\\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete-btn\",onClick:()=>handleDelete('rating',item),children:\"\\uC0AD\\uC81C\"})]})]},item.code))})]})]})]})]});}else if(selectedBodySection==='bodySize'){return/*#__PURE__*/_jsxs(\"div\",{className:\"content-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-selector\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Body \\uC139\\uC158 \\uC120\\uD0DD\"}),/*#__PURE__*/_jsx(\"div\",{className:\"section-buttons\",children:bodySections.map(section=>/*#__PURE__*/_jsx(\"button\",{className:\"section-button \".concat(selectedBodySection===section.id?'active':''),onClick:()=>setSelectedBodySection(section.id),children:section.name},section.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rating-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-area\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Unit\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uAC80\\uC0C9...\",className:\"search-input\"}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn\",onClick:fetchData,children:\"\\uC0C8\\uB85C\\uACE0\\uCE68\"}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn add-btn\",onClick:()=>openModal('bodySizeUnit','add'),children:\"+ \\uCD94\\uAC00\"})]})]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Code\"},\"code\"),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"},\"name\"),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC791\\uC5C5\"},\"actions\")]})}),/*#__PURE__*/_jsx(\"tbody\",{children:unitData.map(item=>/*#__PURE__*/_jsxs(\"tr\",{onClick:()=>handleBodySizeUnitSelect(item.code)// Add onClick event\n,className:selectedBodySizeUnitCode===item.code?'selected':''// Add 'selected' class\n,children:[/*#__PURE__*/_jsx(\"td\",{children:item.code}),/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn edit-btn\",onClick:e=>{e.stopPropagation();openModal('bodySizeUnit','edit',item);},children:\"\\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete-btn\",onClick:e=>{e.stopPropagation();handleDelete('bodySizeUnit',item);},children:\"\\uC0AD\\uC81C\"})]})]},item.code))})]})]}),selectedBodySizeUnitCode&&/*#__PURE__*/// Conditionally render Body Size table\n_jsxs(\"div\",{className:\"table-area\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Body Size\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uAC80\\uC0C9...\",className:\"search-input\"}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn\",onClick:fetchData,children:\"\\uC0C8\\uB85C\\uACE0\\uCE68\"}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn add-btn\",onClick:()=>openModal('bodySize','add'),children:\"+ \\uCD94\\uAC00\"})]})]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Code*\"},\"code\"),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"},\"name\"),/*#__PURE__*/_jsx(\"th\",{children:\"Unit\"},\"unit\"),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC791\\uC5C5\"},\"actions\")]})}),/*#__PURE__*/_jsx(\"tbody\",{children:bodyData.map(item=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.code}),/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsx(\"td\",{children:item.unit}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn edit-btn\",onClick:()=>openModal('bodySize','edit',item),children:\"\\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete-btn\",onClick:()=>handleDelete('bodySize',item),children:\"\\uC0AD\\uC81C\"})]})]},item.code))})]})]})]})]});}if(!currentBodySection)return null;// Add this line\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"content-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-selector\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Body \\uC139\\uC158 \\uC120\\uD0DD\"}),/*#__PURE__*/_jsx(\"div\",{className:\"section-buttons\",children:bodySections.map(section=>/*#__PURE__*/_jsx(\"button\",{className:\"section-button \".concat(selectedBodySection===section.id?'active':''),onClick:()=>setSelectedBodySection(section.id),children:section.name},section.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"table-area\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:currentBodySection===null||currentBodySection===void 0?void 0:currentBodySection.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uAC80\\uC0C9...\",className:\"search-input\"}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn\",onClick:fetchData,children:\"\\uC0C8\\uB85C\\uACE0\\uCE68\"}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn add-btn\",onClick:()=>openModal(currentBodySection.id,'add'),children:\"+ \\uCD94\\uAC00\"})]})]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[(currentBodySection===null||currentBodySection===void 0?void 0:currentBodySection.columns)&&currentBodySection.columns.map(col=>/*#__PURE__*/_jsx(\"th\",{children:col.label},col.key)),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC791\\uC5C5\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:bodyData.map((item,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.code}),/*#__PURE__*/_jsx(\"td\",{children:item.name}),(currentBodySection===null||currentBodySection===void 0?void 0:currentBodySection.columns)&&currentBodySection.columns.some(col=>col.key==='unit')&&/*#__PURE__*/_jsx(\"td\",{children:item.unit}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn edit-btn\",onClick:e=>{e.stopPropagation();openModal(currentBodySection.id,'edit',item);},children:\"\\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete-btn\",onClick:e=>{e.stopPropagation();handleDelete(currentBodySection.id,item);},children:\"\\uC0AD\\uC81C\"})]})]},(currentBodySection===null||currentBodySection===void 0?void 0:currentBodySection.id)==='bodySize'?\"\".concat(item.unit,\"-\").concat(item.code,\"-\").concat(index):\"\".concat(item.code,\"-\").concat(index)))})]})]})]});case'accessory':return/*#__PURE__*/_jsxs(\"div\",{className:\"content-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-selector\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Accessory \\uC139\\uC158 \\uC120\\uD0DD\"}),/*#__PURE__*/_jsx(\"div\",{className:\"section-buttons\",children:accessorySections.map(section=>/*#__PURE__*/_jsx(\"button\",{className:\"section-button \".concat(selectedAccessorySection===section.id?'active':''),onClick:()=>setSelectedAccessorySection(section.id),children:section.name},section.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"accessory-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-area\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Maker\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uAC80\\uC0C9...\",className:\"search-input\"}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn\",onClick:fetchData,children:\"\\uC0C8\\uB85C\\uACE0\\uCE68\"}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn add-btn\",onClick:()=>openModal('maker','add'),children:\"+ \\uCD94\\uAC00\"})]})]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Code\"}),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC791\\uC5C5\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:makerData.map(item=>/*#__PURE__*/_jsxs(\"tr\",{onClick:()=>handleMakerSelect(item.code),className:selectedMakerCode===item.code?'selected':'',children:[/*#__PURE__*/_jsx(\"td\",{children:item.code}),/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn edit-btn\",onClick:e=>{e.stopPropagation();openModal('maker','edit',item);},children:\"\\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete-btn\",onClick:e=>{e.stopPropagation();handleDelete('maker',item);},children:\"\\uC0AD\\uC81C\"})]})]},item.code))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"table-area\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Model\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uAC80\\uC0C9...\",className:\"search-input\"}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn\",onClick:()=>selectedMakerCode&&fetchModelsForMaker(selectedMakerCode),children:\"\\uC0C8\\uB85C\\uACE0\\uCE68\"}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn add-btn\",onClick:()=>openModal('model','add'),disabled:!selectedMakerCode,children:\"+ \\uCD94\\uAC00\"})]})]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Code*\"}),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uADDC\\uACA9\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC791\\uC5C5\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:modelData.map(item=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.code}),/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsx(\"td\",{children:item.spec}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn edit-btn\",onClick:()=>openModal('model','edit',item),children:\"\\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete-btn\",onClick:()=>handleDelete('model',item),children:\"\\uC0AD\\uC81C\"})]})]},item.code))})]})]})]})]});case'trim':const currentTrimSection=trimSections.find(s=>s.id===selectedTrimSection);if(!currentTrimSection)return null;// Should not happen\nif(selectedTrimSection==='trimPortSize'){return/*#__PURE__*/_jsxs(\"div\",{className:\"content-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-selector\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Trim \\uC139\\uC158 \\uC120\\uD0DD\"}),/*#__PURE__*/_jsx(\"div\",{className:\"section-buttons\",children:trimSections.map(section=>/*#__PURE__*/_jsx(\"button\",{className:\"section-button \".concat(selectedTrimSection===section.id?'active':''),onClick:()=>setSelectedTrimSection(section.id),children:section.name},section.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rating-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-area\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Unit\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uAC80\\uC0C9...\",className:\"search-input\"}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn\",onClick:fetchData,children:\"\\uC0C8\\uB85C\\uACE0\\uCE68\"}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn add-btn\",onClick:()=>openModal('trimPortSizeUnit','add'),children:\"+ \\uCD94\\uAC00\"})]})]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Code\"},\"code\"),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"},\"name\"),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC791\\uC5C5\"},\"actions\")]})}),/*#__PURE__*/_jsx(\"tbody\",{children:unitData.map(item=>/*#__PURE__*/_jsxs(\"tr\",{onClick:()=>handleTrimPortSizeUnitSelect(item.code)// Add onClick event\n,className:selectedTrimPortSizeUnitCode===item.code?'selected':''// Add 'selected' class\n,children:[/*#__PURE__*/_jsx(\"td\",{children:item.code}),/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn edit-btn\",onClick:e=>{e.stopPropagation();openModal('trimPortSizeUnit','edit',item);},children:\"\\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete-btn\",onClick:e=>{e.stopPropagation();handleDelete('trimPortSizeUnit',item);},children:\"\\uC0AD\\uC81C\"})]})]},item.code))})]})]}),selectedTrimPortSizeUnitCode&&/*#__PURE__*/// Conditionally render Trim Port Size table\n_jsxs(\"div\",{className:\"table-area\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Trim Port Size\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uAC80\\uC0C9...\",className:\"search-input\"}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn\",onClick:fetchData,children:\"\\uC0C8\\uB85C\\uACE0\\uCE68\"}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn add-btn\",onClick:()=>openModal('trimPortSize','add'),children:\"+ \\uCD94\\uAC00\"})]})]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Code*\"},\"code\"),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"},\"name\"),/*#__PURE__*/_jsx(\"th\",{children:\"Unit\"},\"unit\"),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC791\\uC5C5\"},\"actions\")]})}),/*#__PURE__*/_jsx(\"tbody\",{children:trimData.map(item=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.code}),/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsx(\"td\",{children:item.unit}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn edit-btn\",onClick:()=>openModal('trimPortSize','edit',item),children:\"\\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete-btn\",onClick:()=>handleDelete('trimPortSize',item),children:\"\\uC0AD\\uC81C\"})]})]},item.code))})]})]})]})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"content-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-selector\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Trim \\uC139\\uC158 \\uC120\\uD0DD\"}),/*#__PURE__*/_jsx(\"div\",{className:\"section-buttons\",children:trimSections.map(section=>/*#__PURE__*/_jsx(\"button\",{className:\"section-button \".concat(selectedTrimSection===section.id?'active':''),onClick:()=>setSelectedTrimSection(section.id),children:section.name},section.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"table-area\",children:[\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"table-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:currentTrimSection===null||currentTrimSection===void 0?void 0:currentTrimSection.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uAC80\\uC0C9...\",className:\"search-input\"}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn\",onClick:fetchData,children:\"\\uC0C8\\uB85C\\uACE0\\uCE68\"}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn add-btn\",onClick:()=>openModal(currentTrimSection.id,'add'),children:\"+ \\uCD94\\uAC00\"})]})]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[(currentTrimSection===null||currentTrimSection===void 0?void 0:currentTrimSection.columns)&&currentTrimSection.columns.map(col=>/*#__PURE__*/_jsx(\"th\",{children:col.label},col.key)),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC791\\uC5C5\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:trimData.map((item,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.code}),/*#__PURE__*/_jsx(\"td\",{children:item.name}),currentTrimSection.id==='trimPortSize'&&/*#__PURE__*/_jsx(\"td\",{children:item.unit}),\" \",/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn edit-btn\",onClick:e=>{e.stopPropagation();openModal(currentTrimSection.id,'edit',item);},children:\"\\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete-btn\",onClick:e=>{e.stopPropagation();handleDelete(currentTrimSection.id,item);},children:\"\\uC0AD\\uC81C\"})]})]},currentTrimSection.id==='trimPortSize'?\"\".concat(item.code,\"-\").concat(item.unit,\"-\").concat(index):\"\".concat(item.code,\"-\").concat(index)))})]})]})]});case'act':const currentActSection=actuatorSections.find(s=>s.id===selectedActSection);if(!currentActSection)return null;// Should not happen\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"content-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-selector\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Actuator \\uC139\\uC158 \\uC120\\uD0DD\"}),/*#__PURE__*/_jsx(\"div\",{className:\"section-buttons\",children:actuatorSections.map(section=>/*#__PURE__*/_jsx(\"button\",{className:\"section-button \".concat(selectedActSection===section.id?'active':''),onClick:()=>{setSelectedActSection(section.id);setSelectedActSeriesCode(null);// Reset selected series when changing act sections\n},children:section.name},section.id))})]}),selectedActSection==='actSeries'?/*#__PURE__*/_jsxs(\"div\",{className:\"accessory-grid\",children:[\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"table-area\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Series\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uAC80\\uC0C9...\",className:\"search-input\"}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn\",onClick:fetchData,children:\"\\uC0C8\\uB85C\\uACE0\\uCE68\"}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn add-btn\",onClick:()=>openModal('actSeries','add'),children:\"+ \\uCD94\\uAC00\"})]})]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Code*\"},\"code\"),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"},\"name\"),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC791\\uC5C5\"},\"actions\")]})}),/*#__PURE__*/_jsx(\"tbody\",{children:actSeriesData.map(item=>/*#__PURE__*/_jsxs(\"tr\",{onClick:()=>handleActSeriesSelect(item.code),className:selectedActSeriesCode===item.code?'selected':'',children:[/*#__PURE__*/_jsx(\"td\",{children:item.code}),/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn edit-btn\",onClick:e=>{e.stopPropagation();openModal('actSeries','edit',item);},children:\"\\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete-btn\",onClick:e=>{e.stopPropagation();handleDelete('actSeries',item);},children:\"\\uC0AD\\uC81C\"})]})]},item.code))})]})]}),selectedActSeriesCode&&/*#__PURE__*/_jsxs(\"div\",{className:\"table-area\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Size\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uAC80\\uC0C9...\",className:\"search-input\"}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn\",onClick:()=>selectedActSeriesCode&&fetchData(),children:\"\\uC0C8\\uB85C\\uACE0\\uCE68\"}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn add-btn\",onClick:()=>openModal('actSize','add'),disabled:!selectedActSeriesCode,children:\"+ \\uCD94\\uAC00\"})]})]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Code*\"},\"code\"),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"},\"name\"),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC791\\uC5C5\"},\"actions\")]})}),/*#__PURE__*/_jsx(\"tbody\",{children:actSizeData.filter(item=>item.seriesCode===selectedActSeriesCode)// Filter sizes by selected series\n.map(item=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.code}),/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn edit-btn\",onClick:()=>openModal('actSize','edit',item),children:\"\\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete-btn\",onClick:()=>handleDelete('actSize',item),children:\"\\uC0AD\\uC81C\"})]})]},item.code))})]})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"table-area\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:currentActSection===null||currentActSection===void 0?void 0:currentActSection.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uAC80\\uC0C9...\",className:\"search-input\"}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn\",onClick:fetchData,children:\"\\uC0C8\\uB85C\\uACE0\\uCE68\"}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn add-btn\",onClick:()=>openModal(currentActSection.id==='actType'?'actType':'actHW','add'),children:\"+ \\uCD94\\uAC00\"})]})]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[(currentActSection===null||currentActSection===void 0?void 0:currentActSection.columns)&&currentActSection.columns.map(col=>/*#__PURE__*/_jsx(\"th\",{children:col.label},col.key)),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC791\\uC5C5\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:(selectedActSection==='actType'?actTypeData:actHWData).map(item=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.code}),/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn edit-btn\",onClick:()=>openModal(currentActSection.id==='actType'?'actType':'actHW','edit',item),children:\"\\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete-btn\",onClick:()=>handleDelete(currentActSection.id==='actType'?'actType':'actHW',item),children:\"\\uC0AD\\uC81C\"})]})]},item.code))})]})]})]});default:return null;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"new-accessory-management-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"main-tabs-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uB300\\uBD84\\uB958 \\uC120\\uD0DD\"}),/*#__PURE__*/_jsx(\"div\",{className:\"main-tabs\",children:tabs.map(tab=>/*#__PURE__*/_jsx(\"button\",{className:\"main-tab-button \".concat(activeTab===tab.id?'active':''),onClick:()=>setActiveTab(tab.id),children:tab.name},tab.id))})]}),renderContent(),renderModal()]});};export default NewAccessoryManagementPage;","map":{"version":3,"names":["React","useState","useEffect","useCallback","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_BASE_URL","NewAccessoryManagementPage","activeTab","setActiveTab","selectedBodySection","setSelectedBodySection","selectedAccessorySection","setSelectedAccessorySection","selectedMakerCode","setSelectedMakerCode","selectedUnitCode","setSelectedUnitCode","selectedBodySizeUnitCode","setSelectedBodySizeUnitCode","selectedTrimPortSizeUnitCode","setSelectedTrimPortSizeUnitCode","selectedActSection","setSelectedActSection","selectedActSeriesCode","setSelectedActSeriesCode","selectedTrimSection","setSelectedTrimSection","bodyData","setBodyData","unitData","setUnitData","makerData","setMakerData","modelData","setModelData","actTypeData","setActTypeData","actSeriesData","setActSeriesData","actSizeData","setActSizeData","actHWData","setActHWData","trimData","setTrimData","isLoading","setIsLoading","error","setError","isModalOpen","setIsModalOpen","modalMode","setModalMode","modalType","setModalType","currentItem","setCurrentItem","formData","setFormData","tabs","id","name","bodySections","useMemo","endpoint","columns","key","label","accessorySections","apiId","actuatorSections","trimSections","fetchData","ratingResponse","Promise","all","fetch","concat","ok","Error","ratingData","json","formattedRatingData","map","item","code","ratingCode","ratingName","unit","ratingUnit","unitResponse","unitApiData","console","log","formattedUnitData","ratingUnitCode","sizeResponse","sizeData","formattedSizeData","bodySizeCode","bodySize","unitCode","unitName","section","find","s","response","data","formattedData","bonnetCode","valveSeriesCode","bodyMatCode","connectionCode","bonnet","valveSeries","bodyMat","connection","sizeUnit","undefined","_accessorySections$fi","accTypeCode","makerResponse","status","statusText","makers","formattedMakers","accMakerCode","accMakerName","currentActSection","seriesResponse","seriesData","formattedSeriesData","actSeriesCode","actSeries","actSizeCode","actSize","seriesCode","actTypeCode","actType","hwCode","hw","currentTrimSection","portSizeCode","portSize","trimTypeCode","trimType","trimSeriesCode","trimSeries","trimFormCode","trimForm","trimMatCode","trimMat","trimOptionCode","trimOption","filter","Boolean","err","message","fetchModelsForMaker","makerCode","_accessorySections$fi2","String","modelResponse","models","formattedModels","accModelCode","accModelName","spec","accSize","handleMakerSelect","handleUnitSelect","handleBodySizeUnitSelect","handleTrimPortSizeUnitSelect","handleActSeriesSelect","openModal","type","mode","arguments","length","initialFormData","selectedMaker","m","selectedActSeries","actSeriesName","closeModal","handleFormChange","e","value","target","prev","_objectSpread","handleSave","_accessorySections$fi3","url","method","requestBody","maker","modelCode","model","rating","formCode","form","startsWith","sectionId","replace","toLowerCase","codeKey","nameKey","unitKey","JSON","stringify","headers","body","errorMessage","errorData","parseError","handleDelete","_accessorySections$fi4","window","confirm","checkUrl","usageCheck","usageData","isUsed","choice","usedModelsCount","alert","usedEstimatesCount","warningMessage","confirmDelete","renderModal","title","className","children","onChange","disabled","readOnly","placeholder","onClick","renderContent","currentBodySection","stopPropagation","col","index","some","tab"],"sources":["/Users/simjimin/Downloads/final_develop/projec/frontend/src/pages/Dashboard/NewAccessoryManagementPage.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport './NewAccessoryManagementPage.css';\n\ninterface MasterDataItem {\n  code: string;\n  name: string;\n  [key: string]: any;\n}\n\nconst API_BASE_URL = 'http://192.168.0.14:5135/api/masterdata';\n\nconst NewAccessoryManagementPage: React.FC = () => {\n  const [activeTab, setActiveTab] = useState<'body' | 'trim' | 'act' | 'accessory'>('body');\n  const [selectedBodySection, setSelectedBodySection] = useState<string>('bodyBonnet');\n  const [selectedAccessorySection, setSelectedAccessorySection] = useState<string>('positioner');\n  const [selectedMakerCode, setSelectedMakerCode] = useState<string | null>(null);\n  const [selectedUnitCode, setSelectedUnitCode] = useState<string | null>(null); // New state for selected unit in Rating section\n  const [selectedBodySizeUnitCode, setSelectedBodySizeUnitCode] = useState<string | null>(null); // New state for selected unit in Body Size section\n  const [selectedTrimPortSizeUnitCode, setSelectedTrimPortSizeUnitCode] = useState<string | null>(null); // New state for selected unit in Trim Port Size section\n  const [selectedActSection, setSelectedActSection] = useState<string>('actType'); // New state for selected act section\n  const [selectedActSeriesCode, setSelectedActSeriesCode] = useState<string | null>(null); // New state for selected Act Series\n  const [selectedTrimSection, setSelectedTrimSection] = useState<string>('trimType'); // New state for selected trim section\n\n  const [bodyData, setBodyData] = useState<MasterDataItem[]>([]);\n  const [unitData, setUnitData] = useState<MasterDataItem[]>([]); // Unit ë°ì´í„°ë¥¼ ìœ„í•œ ìƒíƒœ ì¶”ê°€\n  const [makerData, setMakerData] = useState<MasterDataItem[]>([]);\n  const [modelData, setModelData] = useState<MasterDataItem[]>([]);\n  const [actTypeData, setActTypeData] = useState<MasterDataItem[]>([]); // Act Type ë°ì´í„°ë¥¼ ìœ„í•œ ìƒíƒœ\n  const [actSeriesData, setActSeriesData] = useState<MasterDataItem[]>([]); // Act Series ë°ì´í„°ë¥¼ ìœ„í•œ ìƒíƒœ\n  const [actSizeData, setActSizeData] = useState<MasterDataItem[]>([]); // Act Size ë°ì´í„°ë¥¼ ìœ„í•œ ìƒíƒœ\n  const [actHWData, setActHWData] = useState<MasterDataItem[]>([]); // Act H.W ë°ì´í„°ë¥¼ ìœ„í•œ ìƒíƒœ\n  const [trimData, setTrimData] = useState<MasterDataItem[]>([]); // Trim ë°ì´í„°ë¥¼ ìœ„í•œ ìƒíƒœ\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  // Modal States\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [modalMode, setModalMode] = useState<'add' | 'edit'>('add');\n  const [modalType, setModalType] = useState<'maker' | 'model' | 'unit' | 'rating' | 'actType' | 'actSeries' | 'actSize' | 'actHW' | 'trimType' | 'trimSeries' | 'trimPortSize' | 'trimForm' | 'trimMaterial' | 'trimOption' | 'bodyBonnet' | 'bodyValve' | 'bodyMaterial' | 'bodySize' | 'bodyConnection' | 'bodySizeUnit' | 'trimPortSizeUnit' | null>(null);\n  const [currentItem, setCurrentItem] = useState<MasterDataItem | null>(null);\n  const [formData, setFormData] = useState<Partial<MasterDataItem>>({});\n\n  const tabs = [\n    { id: 'body', name: 'ë°”ë””' },\n    { id: 'trim', name: 'íŠ¸ë¦¼' },\n    { id: 'act', name: 'ìž‘ë™ê¸°' },\n    { id: 'accessory', name: 'ì•…ì„¸ì‚¬ë¦¬' },\n  ];\n\n  const bodySections = React.useMemo(() => [\n    { id: 'bodyBonnet', name: 'ë³´ë‹›íƒ€ìž…', endpoint: 'body/bonnet', columns: [{ key: 'code', label: 'Code*' }, { key: 'name', label: 'NAME' }] },\n    { id: 'bodyValve', name: 'ë°”ë””ì‹œë¦¬ì¦ˆ', endpoint: 'body/valve', columns: [{ key: 'code', label: 'Code*' }, { key: 'name', label: 'NAME' }] },\n    { id: 'bodyMaterial', name: 'ë°”ë””ìž¬ì§ˆ', endpoint: 'body/material', columns: [{ key: 'code', label: 'Code*' }, { key: 'name', label: 'NAME' }] },\n    { id: 'bodySize', name: 'ë°”ë”” ì‚¬ì´ì¦ˆ', endpoint: 'body/size' }, // columns removed, will be handled separately like rating\n    { id: 'rating', name: 'ë ˆì´íŒ…', endpoint: 'body/rating' }, // columns removed, will be handled separately\n    { id: 'bodyConnection', name: 'ì»¤ë„¥ì…˜', endpoint: 'body/connection', columns: [{ key: 'code', label: 'Code*' }, { key: 'name', label: 'NAME' }] },\n  ], []);\n\n  const accessorySections = React.useMemo(() => [\n    { id: 'positioner', name: 'Positioner', apiId: 'Positioner' },\n    { id: 'solenoid', name: 'Solenoid', apiId: 'Solenoid' },\n    { id: 'limit', name: 'Limit', apiId: 'Limit' },\n    { id: 'airSet', name: 'Air-Set', apiId: 'Airset' },\n    { id: 'volumeB', name: 'Volume B', apiId: 'Volume' },\n    { id: 'airOperate', name: 'Air Operate', apiId: 'Airoperate' },\n    { id: 'lockUp', name: 'Lock Up', apiId: 'Lockup' },\n    { id: 'snapActing', name: 'Snap Acting', apiId: 'Snapacting' },\n  ], []);\n\n  const actuatorSections = React.useMemo(() => [\n    { id: 'actType', name: 'Act Type', endpoint: 'act/type', columns: [{ key: 'code', label: 'Code*' }, { key: 'name', label: 'NAME' }] },\n    { id: 'actSeries', name: 'Series & Size', endpoint: 'act/series', columns: [{ key: 'code', label: 'Code*' }, { key: 'name', label: 'NAME' }] }, // Series will use act/series, Size will use act/size\n    { id: 'actHW', name: 'H.W', endpoint: 'act/hw', columns: [{ key: 'code', label: 'Code*' }, { key: 'name', label: 'NAME' }] },\n  ], []);\n\n  const trimSections = React.useMemo(() => [\n    { id: 'trimType', name: 'Type', endpoint: 'trim-type', columns: [{ key: 'code', label: 'Code*' }, { key: 'name', label: 'NAME' }] }, // íŠ¹ìˆ˜ê²½ë¡œ\n    { id: 'trimSeries', name: 'Series', endpoint: 'trim/series', columns: [{ key: 'code', label: 'Code*' }, { key: 'name', label: 'NAME' }] },\n    { id: 'trimPortSize', name: 'Port Size', endpoint: 'trim/port-size' }, // columns removed, will be handled separately like rating\n    { id: 'trimForm', name: 'Form', endpoint: 'trim/form', columns: [{ key: 'code', label: 'Code*' }, { key: 'name', label: 'NAME' }] },\n    { id: 'trimMaterial', name: 'Material', endpoint: 'trim/material', columns: [{ key: 'code', label: 'Code*' }, { key: 'name', label: 'NAME' }] },\n    { id: 'trimOption', name: 'Option', endpoint: 'trim/option', columns: [{ key: 'code', label: 'Code*' }, { key: 'name', label: 'NAME' }] },\n  ], []);\n\n  const fetchData = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n    setBodyData([]);\n    setMakerData([]);\n    setModelData([]);\n    // setUnitData([]); // Do NOT clear unitData unconditionally here\n\n    try {\n        if (activeTab === 'body') {\n            if (selectedBodySection === 'rating') {\n                const [ratingResponse] = await Promise.all([\n                    fetch(`${API_BASE_URL}/body/rating${selectedUnitCode ? `?ratingUnitCode=${selectedUnitCode}` : ''}`)\n                ]);\n\n                if (!ratingResponse.ok) throw new Error('Failed to fetch rating data');\n\n                const ratingData = await ratingResponse.json();\n\n                const formattedRatingData = ratingData.map((item: any) => ({\n                    code: item.ratingCode,\n                    name: item.ratingName,\n                    unit: item.ratingUnit \n                }));\n                setBodyData(formattedRatingData);\n\n                // Only fetch unit data if it's not already loaded\n                // Unit ë°ì´í„°ë¥¼ BodyRatingUnitListì—ì„œ ì§ì ‘ ì¡°íšŒ\n                const unitResponse = await fetch(`${API_BASE_URL}/body/rating-units`);\n                if (!unitResponse.ok) throw new Error('Failed to fetch rating units data');\n                const unitApiData = await unitResponse.json();\n                console.log(\"Unit API Data:\", unitApiData); // Log API response\n                const formattedUnitData = unitApiData.map((item: any) => ({\n                    code: item.ratingUnitCode,\n                    name: item.ratingUnit,\n                }));\n                console.log(\"Formatted Unit Data:\", formattedUnitData); // Log formatted data\n                setUnitData(formattedUnitData);\n\n            } else if (selectedBodySection === 'bodySize') {\n                // Body Size 2ë ˆë²¨ êµ¬ì¡°\n                if (selectedBodySizeUnitCode) {\n                    // Unitì´ ì„ íƒëœ ê²½ìš°ì—ë§Œ Size ëª©ë¡ ì¡°íšŒ\n                    const [sizeResponse] = await Promise.all([\n                        fetch(`${API_BASE_URL}/body/size-list-by-unit?unitCode=${selectedBodySizeUnitCode}`)\n                    ]);\n\n                    if (!sizeResponse.ok) throw new Error('Failed to fetch body size data');\n\n                    const sizeData = await sizeResponse.json();\n                    const formattedSizeData = sizeData.map((item: any) => ({\n                        code: item.bodySizeCode,\n                        name: item.bodySize,\n                        unit: item.unitCode\n                    }));\n                    setBodyData(formattedSizeData);\n                } else {\n                    // Unitì´ ì„ íƒë˜ì§€ ì•Šì€ ê²½ìš° Size ëª©ë¡ì€ ë¹„ì›€\n                    setBodyData([]);\n                }\n\n                // Body Size Unit ë°ì´í„°ëŠ” í•­ìƒ ì¡°íšŒ\n                const unitResponse = await fetch(`${API_BASE_URL}/body/size-unit-list`);\n                if (!unitResponse.ok) throw new Error('Failed to fetch body size units data');\n                const unitApiData = await unitResponse.json();\n                const formattedUnitData = unitApiData.map((item: any) => ({\n                    code: item.unitCode,\n                    name: item.unitName,\n                }));\n                setUnitData(formattedUnitData);\n\n            } else {\n                const section = bodySections.find(s => s.id === selectedBodySection);\n                if (!section) return;\n\n                const response = await fetch(`${API_BASE_URL}/${section.endpoint}`);\n                if (!response.ok) throw new Error(`Failed to fetch ${section.name} data`);\n                const data = await response.json();\n                \n                const formattedData = data.map((item: any) => ({\n                    code: item.bonnetCode || item.valveSeriesCode || item.bodyMatCode || item.bodySizeCode || item.connectionCode || '',\n                    name: item.bonnet || item.valveSeries || item.bodyMat || item.bodySize || item.connection || '',\n                    unit: item.sizeUnit || undefined\n                }));\n                setBodyData(formattedData);\n            }\n        } else if (activeTab === 'accessory') {\n            const accTypeCode = accessorySections.find(s => s.id === selectedAccessorySection)?.apiId;\n            \n            console.log('ðŸ” Volume B ë””ë²„ê·¸ - activeTab:', activeTab);\n            console.log('ðŸ” Volume B ë””ë²„ê·¸ - selectedAccessorySection:', selectedAccessorySection);\n            console.log('ðŸ” Volume B ë””ë²„ê·¸ - accTypeCode:', accTypeCode);\n            \n            if (!accTypeCode) {\n                console.log('âŒ Volume B ë””ë²„ê·¸ - accTypeCodeê°€ ì—†ìŒ');\n                return;\n            }\n\n            // Fetch Makers only\n            console.log('ðŸ” Volume B ë””ë²„ê·¸ - Maker API í˜¸ì¶œ ì‹œìž‘:', `${API_BASE_URL}/acc/maker?accTypeCode=${accTypeCode}`);\n            const makerResponse = await fetch(`${API_BASE_URL}/acc/maker?accTypeCode=${accTypeCode}`);\n            console.log('ðŸ” Volume B ë””ë²„ê·¸ - Maker API ì‘ë‹µ ìƒíƒœ:', makerResponse.status, makerResponse.ok);\n            \n            if (!makerResponse.ok) {\n                console.log('âŒ Volume B ë””ë²„ê·¸ - Maker API ì‹¤íŒ¨:', makerResponse.statusText);\n                throw new Error(`Failed to fetch ${accTypeCode} maker data`);\n            }\n            \n            const makers = await makerResponse.json();\n            console.log('ðŸ” Volume B ë””ë²„ê·¸ - Maker API ì‘ë‹µ ë°ì´í„°:', makers);\n            \n            const formattedMakers = makers.map((item: any) => ({ code: item.accMakerCode, name: item.accMakerName }));\n            console.log('ðŸ” Volume B ë””ë²„ê·¸ - í¬ë§·ëœ Maker ë°ì´í„°:', formattedMakers);\n            setMakerData(formattedMakers);\n            \n            // Clear models when accessory section changes\n            setModelData([]);\n            setSelectedMakerCode(null);\n        } else if (activeTab === 'act') {\n            console.log('ðŸ” Act íƒ­ ì„ íƒë¨:', { selectedActSection, actuatorSections });\n            // Clear all act data when switching tabs\n            setActTypeData([]);\n            setActSeriesData([]);\n            setActSizeData([]);\n            setActHWData([]);\n\n            const currentActSection = actuatorSections.find(s => s.id === selectedActSection);\n            console.log('ðŸ” í˜„ìž¬ Act ì„¹ì…˜:', currentActSection);\n            if (!currentActSection) return;\n\n            if (selectedActSection === 'actSeries') {\n                // Fetch Act Series\n                const seriesResponse = await fetch(`${API_BASE_URL}/act/series`);\n                if (!seriesResponse.ok) throw new Error(`Failed to fetch Act Series data`);\n                const seriesData = await seriesResponse.json();\n                const formattedSeriesData = seriesData.map((item: any) => ({ code: item.actSeriesCode, name: item.actSeries }));\n                setActSeriesData(formattedSeriesData);\n\n                // Fetch Act Sizes based on selected series, or all if no series selected yet\n                const sizeResponse = await fetch(`${API_BASE_URL}/act/size${selectedActSeriesCode ? `?actSeriesCode=${selectedActSeriesCode}` : ''}`);\n                if (!sizeResponse.ok) throw new Error(`Failed to fetch Act Size data`);\n                const sizeData = await sizeResponse.json();\n                // Ensure size data includes seriesCode for proper filtering/display if needed\n                const formattedSizeData = sizeData.map((item: any) => ({ \n                  code: item.actSizeCode, \n                  name: item.actSize, \n                  seriesCode: item.actSeriesCode // Make sure backend returns this\n                }));\n                setActSizeData(formattedSizeData);\n\n            } else if (selectedActSection === 'actType') {\n                const response = await fetch(`${API_BASE_URL}/act/type`);\n                if (!response.ok) throw new Error(`Failed to fetch Act Type data`);\n                const data = await response.json();\n                setActTypeData(data.map((item: any) => ({ code: item.actTypeCode, name: item.actType })));\n            } else if (selectedActSection === 'actHW') {\n                console.log('ðŸ” Act HW ì¡°íšŒ ì‹œìž‘');\n                const response = await fetch(`${API_BASE_URL}/act/hw`);\n                console.log('ðŸ” Act HW API ì‘ë‹µ:', { status: response.status, statusText: response.statusText });\n                if (!response.ok) throw new Error(`Failed to fetch Act H.W data`);\n                const data = await response.json();\n                console.log('ðŸ” Act HW ë°ì´í„°:', data);\n                setActHWData(data.map((item: any) => ({ code: item.hwCode, name: item.hw })));\n            }\n        } else if (activeTab === 'trim') {\n            setTrimData([]); // Clear trim data\n            const currentTrimSection = trimSections.find(s => s.id === selectedTrimSection);\n            if (!currentTrimSection) return;\n\n            try {\n                if (currentTrimSection.id === 'trimPortSize') {\n                    // Trim Port Size 2ë ˆë²¨ êµ¬ì¡°\n                    if (selectedTrimPortSizeUnitCode) {\n                        // Unitì´ ì„ íƒëœ ê²½ìš°ì—ë§Œ Size ëª©ë¡ ì¡°íšŒ\n                        const [sizeResponse] = await Promise.all([\n                            fetch(`${API_BASE_URL}/trim/port-size-list-by-unit?unitCode=${selectedTrimPortSizeUnitCode}`)\n                        ]);\n\n                        if (!sizeResponse.ok) throw new Error('Failed to fetch trim port size data');\n                        const sizeData = await sizeResponse.json();\n\n                        const formattedData = sizeData.map((item: any) => ({\n                            code: item.portSizeCode,\n                            name: item.portSize,\n                            unit: item.unitCode\n                        }));\n                        setTrimData(formattedData);\n                    } else {\n                        // Unitì´ ì„ íƒë˜ì§€ ì•Šì€ ê²½ìš° Size ëª©ë¡ì€ ë¹„ì›€\n                        setTrimData([]);\n                    }\n\n                    // Trim Port Size Unit ë°ì´í„°ëŠ” í•­ìƒ ì¡°íšŒ\n                    const unitResponse = await fetch(`${API_BASE_URL}/trim/port-size-unit-list`);\n                    if (!unitResponse.ok) throw new Error('Failed to fetch trim port size units data');\n                    const unitApiData = await unitResponse.json();\n                    const formattedUnitData = unitApiData.map((item: any) => ({\n                        code: item.unitCode,\n                        name: item.unitName,\n                    }));\n                    setUnitData(formattedUnitData);\n                } else {\n                    const response = await fetch(`${API_BASE_URL}/${currentTrimSection.endpoint}`);\n                    if (!response.ok) throw new Error(`Failed to fetch ${currentTrimSection.name} data`);\n                    const data = await response.json();\n\n                    const formattedData = data.map((item: any) => {\n                        // Trim ì„¹ì…˜ë³„ ë°ì´í„° êµ¬ì¡°ì— ë§žê²Œ ë§¤í•‘\n                        if (currentTrimSection.id === 'trimType') {\n                            return { code: item.trimTypeCode, name: item.trimType };\n                        } else if (currentTrimSection.id === 'trimSeries') {\n                            return { code: item.trimSeriesCode, name: item.trimSeries };\n                        } else if (currentTrimSection.id === 'trimForm') {\n                            return { code: item.trimFormCode, name: item.trimForm };\n                        } else if (currentTrimSection.id === 'trimMaterial') {\n                            return { code: item.trimMatCode, name: item.trimMat };\n                        } else if (currentTrimSection.id === 'trimOption') {\n                            return { code: item.trimOptionCode, name: item.trimOption }; // Backend returns trimOptionName as trimOption\n                        } else {\n                            return { code: '', name: '' };\n                        }\n                    }).filter(Boolean); // null ê°’ ì œê±°\n                    setTrimData(formattedData);\n                }\n            } catch (err) {\n                setError(err instanceof Error ? err.message : 'An unknown error occurred');\n                setTrimData([]);\n            }\n        } else {\n            setBodyData([]);\n            setMakerData([]);\n            setModelData([]);\n            setActTypeData([]);\n            setActSeriesData([]);\n            setActSizeData([]);\n            setActHWData([]);\n        }\n    } catch (err) {\n        setError(err instanceof Error ? err.message : 'An unknown error occurred');\n        setBodyData([]);\n        setMakerData([]);\n        setModelData([]);\n        setActTypeData([]);\n        setActSeriesData([]);\n        setActSizeData([]);\n        setActHWData([]);\n    } finally {\n        setIsLoading(false);\n    }\n  }, [activeTab, selectedBodySection, selectedAccessorySection, bodySections, accessorySections, unitData, selectedUnitCode, selectedBodySizeUnitCode, selectedTrimPortSizeUnitCode, selectedActSection, selectedActSeriesCode, actuatorSections, selectedTrimSection, trimSections]);\n\n  const fetchModelsForMaker = useCallback(async (makerCode: string) => {\n    setIsLoading(true);\n    setError(null);\n    try {\n        const accTypeCode = accessorySections.find(s => s.id === selectedAccessorySection)?.apiId;\n        console.log('ðŸ” Volume B ë””ë²„ê·¸ - fetchModelsForMaker ì‹œìž‘');\n        console.log('ðŸ” Volume B ë””ë²„ê·¸ - makerCode:', makerCode);\n        console.log('ðŸ” Volume B ë””ë²„ê·¸ - accTypeCode:', accTypeCode);\n        \n        if (!accTypeCode) {\n            console.log('âŒ Volume B ë””ë²„ê·¸ - fetchModelsForMakerì—ì„œ accTypeCodeê°€ ì—†ìŒ');\n            return;\n        }\n        \n        console.log('ðŸ” Volume B ë””ë²„ê·¸ - Model API í˜¸ì¶œ ì‹œìž‘:', `${API_BASE_URL}/acc/model?accTypeCode=${accTypeCode}&accMakerCode=${String(makerCode)}`);\n        const modelResponse = await fetch(`${API_BASE_URL}/acc/model?accTypeCode=${accTypeCode}&accMakerCode=${String(makerCode)}`);\n        console.log('ðŸ” Volume B ë””ë²„ê·¸ - Model API ì‘ë‹µ ìƒíƒœ:', modelResponse.status, modelResponse.ok);\n        \n        if (!modelResponse.ok) {\n            console.log('âŒ Volume B ë””ë²„ê·¸ - Model API ì‹¤íŒ¨:', modelResponse.statusText);\n            throw new Error(`Failed to fetch models for maker ${makerCode}`);\n        }\n        \n        const models = await modelResponse.json();\n        console.log('ðŸ” Volume B ë””ë²„ê·¸ - Model API ì‘ë‹µ ë°ì´í„°:', models);\n        \n        const formattedModels = models.map((item: any) => ({ \n            code: item.accModelCode, \n            name: item.accModelName, \n            spec: item.accSize || 'N/A'\n        }));\n        console.log('ðŸ” Volume B ë””ë²„ê·¸ - í¬ë§·ëœ Model ë°ì´í„°:', formattedModels);\n        setModelData(formattedModels);\n\n    } catch (err) {\n        console.log('âŒ Volume B ë””ë²„ê·¸ - fetchModelsForMaker ì˜¤ë¥˜:', err);\n        setError(err instanceof Error ? err.message : 'An unknown error occurred');\n        setModelData([]);\n    } finally {\n        setIsLoading(false);\n    }\n  }, [selectedAccessorySection, accessorySections]);\n\n  useEffect(() => {\n    // Reset selectedUnitCode when switching away from 'rating' section\n    if (activeTab === 'body' && selectedBodySection !== 'rating') {\n      setSelectedUnitCode(null);\n    }\n    // Reset selectedBodySizeUnitCode when switching away from 'bodySize' section\n    if (activeTab === 'body' && selectedBodySection !== 'bodySize') {\n      setSelectedBodySizeUnitCode(null);\n    }\n    // Reset selectedTrimPortSizeUnitCode when switching away from 'trimPortSize' section\n    if (activeTab === 'trim' && selectedTrimSection !== 'trimPortSize') {\n      setSelectedTrimPortSizeUnitCode(null);\n    }\n    fetchData();\n  }, [activeTab, selectedBodySection, selectedAccessorySection, selectedUnitCode, selectedBodySizeUnitCode, selectedTrimPortSizeUnitCode, selectedTrimSection]); // Remove fetchData from dependencies to prevent infinite loop\n\n  const handleMakerSelect = (makerCode: string) => {\n      console.log('ðŸ” Volume B ë””ë²„ê·¸ - handleMakerSelect í˜¸ì¶œë¨');\n      console.log('ðŸ” Volume B ë””ë²„ê·¸ - ì„ íƒëœ makerCode:', makerCode);\n      setSelectedMakerCode(makerCode);\n      fetchModelsForMaker(makerCode);\n  }\n\n    const handleUnitSelect = (unitCode: string) => {\n      setSelectedUnitCode(unitCode);\n  }\n\n  const handleBodySizeUnitSelect = (unitCode: string) => {\n      setSelectedBodySizeUnitCode(unitCode);\n  }\n\n  const handleTrimPortSizeUnitSelect = (unitCode: string) => {\n      setSelectedTrimPortSizeUnitCode(unitCode);\n  };\n\n  const handleActSeriesSelect = (seriesCode: string) => {\n    setSelectedActSeriesCode(seriesCode);\n  };\n\n  // --- Modal and CRUD Functions ---\n\n  const openModal = (type: 'maker' | 'model' | 'unit' | 'rating' | 'actType' | 'actSeries' | 'actSize' | 'actHW' | 'trimType' | 'trimSeries' | 'trimPortSize' | 'trimForm' | 'trimMaterial' | 'trimOption' | 'bodyBonnet' | 'bodyValve' | 'bodyMaterial' | 'bodySize' | 'bodyConnection' | 'bodySizeUnit' | 'trimPortSizeUnit' | null, mode: 'add' | 'edit', item: MasterDataItem | null = null) => {\n    setModalType(type);\n    setModalMode(mode);\n    setCurrentItem(item);\n    \n    let initialFormData: Partial<MasterDataItem> = {}; // Initialize as empty object\n\n    if (mode === 'edit' && item) {\n      if (type === 'maker' || type === 'unit' || type === 'actType' || type === 'actSeries' || type === 'actHW' || type === 'trimType' || type === 'trimSeries' || type === 'trimForm' || type === 'trimMaterial' || type === 'trimOption' || type === 'bodyBonnet' || type === 'bodyValve' || type === 'bodyMaterial' || type === 'bodyConnection') {\n        initialFormData = { code: item.code, name: item.name };\n      } else if (type === 'model') {\n        initialFormData = { code: item.code, name: item.name, spec: item.spec };\n      } else if (type === 'rating') {\n        initialFormData = { code: item.code, name: item.name, unit: item.unit };\n      } else if (type === 'actSize') {\n        initialFormData = { code: item.code, name: item.name, seriesCode: item.seriesCode };\n      } else if (type === 'trimPortSize') {\n        initialFormData = { code: item.code, name: item.name, unit: item.unit };\n      } else if (type === 'bodySize') {\n        initialFormData = { code: item.code, name: item.name, unit: item.unit };\n      } else if (type === 'bodySizeUnit' || type === 'trimPortSizeUnit') {\n        initialFormData = { code: item.code, name: item.name };\n      }\n    } else { // Add mode or no item\n      // For add mode, or if item is null (e.g., initial state)\n      // Ensure accMakerCode/Name for model, actSeriesCode/Name for actSize, unit for rating/portSize/bodySize\n      if (type === 'model' && selectedMakerCode) {\n        const selectedMaker = makerData.find(m => m.code === selectedMakerCode);\n        if (selectedMaker) { initialFormData.accMakerCode = selectedMaker.code; initialFormData.accMakerName = selectedMaker.name; }\n      } else if (type === 'rating') {\n        // No special initial data needed for add rating, unit selected separately\n      } else if (type === 'actSize' && selectedActSeriesCode) {\n        const selectedActSeries = actSeriesData.find(s => s.code === selectedActSeriesCode);\n        if (selectedActSeries) { initialFormData.actSeriesCode = selectedActSeries.code; initialFormData.actSeriesName = selectedActSeries.name; }\n      } else if (type === 'trimPortSize') {\n        // No special initial data for add trimPortSize\n      } else if (type === 'bodySize') {\n        // No special initial data for add bodySize\n      }\n    }\n\n    console.log('ðŸ” openModal - type:', type, 'mode:', mode, 'item:', item);\n    console.log('ðŸ” openModal - initialFormData:', initialFormData);\n    \n    setFormData(initialFormData);\n    setIsModalOpen(true);\n  };\n\n  const closeModal = () => {\n    setIsModalOpen(false);\n    setModalType(null);\n    setCurrentItem(null);\n    setFormData({});\n  };\n\n  const handleFormChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({ ...prev, [name]: value }));\n  };\n\n  const handleSave = async () => {\n    if (!modalType) return;\n\n    console.log(\"handleSave: modalType =\", modalType);\n    console.log(\"handleSave: modalMode =\", modalMode);\n    console.log(\"handleSave: currentItem =\", currentItem);\n    console.log(\"handleSave: formData =\", formData);\n\n    const accTypeCode = accessorySections.find(s => s.id === selectedAccessorySection)?.apiId;\n    \n    let url = ''; \n    let method = modalMode === 'add' ? 'POST' : 'PUT';\n    let requestBody: any = {}; \n\n    // Determine URL and Request Body based on modalType and modalMode\n    if (modalType === 'maker') {\n        if (modalMode === 'add') {\n            if (!accTypeCode) { setError('Accessory type is not selected correctly.'); return; }\n            // ë°±ì—”ë“œ API: POST /acc/{type} (type=\"maker\")\n            url = `${API_BASE_URL}/acc/maker`;\n            // ë°±ì—”ë“œê°€ ê¸°ëŒ€í•˜ëŠ” í•„ë“œëª…: accTypeCode, makerCode, maker\n            requestBody = { \n                accTypeCode, \n                makerCode: formData.code, \n                maker: formData.name \n            };\n        } else { // edit mode\n            // ë°±ì—”ë“œ API: PUT /acc/{type}/{code} (type=\"maker\", code=makerCode)\n            url = `${API_BASE_URL}/acc/maker/${currentItem?.code}`;\n            // ë°±ì—”ë“œê°€ ê¸°ëŒ€í•˜ëŠ” í•„ë“œëª…: accTypeCode, maker\n            requestBody = { \n                accTypeCode, \n                maker: formData.name \n            };\n        }\n    } else if (modalType === 'model') {\n        if (!accTypeCode || !selectedMakerCode) { setError('Accessory type or maker is not selected correctly.'); return; }\n        if (modalMode === 'add') {\n            // ë°±ì—”ë“œ API: POST /acc/{type} (type=\"model\")\n            url = `${API_BASE_URL}/acc/model`;\n            // ë°±ì—”ë“œê°€ ê¸°ëŒ€í•˜ëŠ” í•„ë“œëª…: modelCode, model, accTypeCode, accMakerCode, accSize\n            requestBody = { \n                modelCode: formData.code, \n                model: formData.name, \n                accTypeCode, \n                accMakerCode: selectedMakerCode, \n                accSize: formData.spec \n            };\n        } else { // edit mode\n            // ë°±ì—”ë“œ API: PUT /acc/{type}/{code} (type=\"model\", code=modelCode)\n            url = `${API_BASE_URL}/acc/model/${currentItem?.code}`;\n            // ë°±ì—”ë“œê°€ ê¸°ëŒ€í•˜ëŠ” í•„ë“œëª…: model, accTypeCode, accMakerCode, accSize\n            requestBody = { \n                model: formData.name, \n                accTypeCode, \n                accMakerCode: selectedMakerCode, \n                accSize: formData.spec \n            };\n        }\n    } else if (modalType === 'unit') {\n        if (modalMode === 'add') {\n            url = `${API_BASE_URL}/body/rating-units`;\n            requestBody = { ratingUnitCode: formData.code, ratingUnit: formData.name };\n        } else { // edit mode\n            url = `${API_BASE_URL}/body/rating-units/${currentItem?.code}`;\n            requestBody = { ratingUnitCode: currentItem?.code, ratingUnit: formData.name };\n        }\n    } else if (modalType === 'bodySizeUnit') {\n        if (modalMode === 'add') {\n            url = `${API_BASE_URL}/body/size-unit`;\n            requestBody = { unitCode: formData.code, unitName: formData.name };\n        } else { // edit mode\n            url = `${API_BASE_URL}/body/size-unit/${currentItem?.code}`;\n            requestBody = { unitCode: currentItem?.code, unitName: formData.name };\n        }\n    } else if (modalType === 'trimPortSizeUnit') {\n        if (modalMode === 'add') {\n            url = `${API_BASE_URL}/trim/port-size-unit`;\n            requestBody = { unitCode: formData.code, unitName: formData.name };\n        } else { // edit mode\n            url = `${API_BASE_URL}/trim/port-size-unit/${currentItem?.code}`;\n            requestBody = { unitCode: currentItem?.code, unitName: formData.name };\n        }\n    } else if (modalType === 'rating') {\n        if (!selectedUnitCode) { setError('Rating Unit must be selected.'); return; }\n        if (modalMode === 'add') {\n            url = `${API_BASE_URL}/body/rating`;\n            requestBody = { ratingCode: formData.code, rating: formData.name, unit: selectedUnitCode };\n        } else { // edit mode\n            url = `${API_BASE_URL}/body/rating/${currentItem?.code}`;\n            requestBody = { ratingCode: currentItem?.code, rating: formData.name, unit: selectedUnitCode };\n        }\n    } else if (modalType === 'actType') {\n        if (modalMode === 'add') {\n            url = `${API_BASE_URL}/act/type`;\n            requestBody = { actTypeCode: formData.code, actType: formData.name };\n        } else { // edit mode\n            url = `${API_BASE_URL}/act/type/${currentItem?.code}`;\n            requestBody = { actTypeCode: currentItem?.code, actType: formData.name };\n        }\n    } else if (modalType === 'actSeries') {\n        if (modalMode === 'add') {\n            url = `${API_BASE_URL}/act/series`;\n            requestBody = { actSeriesCode: formData.code, actSeries: formData.name };\n        } else { // edit mode\n            url = `${API_BASE_URL}/act/series/${currentItem?.code}`;\n            requestBody = { actSeriesCode: currentItem?.code, actSeries: formData.name };\n        }\n    } else if (modalType === 'actSize') {\n        if (!selectedActSeriesCode) { setError('Actuator Series must be selected.'); return; }\n        if (modalMode === 'add') {\n            url = `${API_BASE_URL}/act/size`;\n            requestBody = { actSizeCode: formData.code, actSize: formData.name, actSeriesCode: selectedActSeriesCode };\n        } else { // edit mode\n            url = `${API_BASE_URL}/act/size/${currentItem?.code}`;\n            requestBody = { actSizeCode: currentItem?.code, actSize: formData.name, actSeriesCode: selectedActSeriesCode };\n        }\n    } else if (modalType === 'actHW') {\n        if (modalMode === 'add') {\n            url = `${API_BASE_URL}/act/hw`;\n            requestBody = { hwCode: formData.code, hw: formData.name };\n        } else { // edit mode\n            url = `${API_BASE_URL}/act/hw/${currentItem?.code}`;\n            requestBody = { hwCode: currentItem?.code, hw: formData.name };\n        }\n    } else if (modalType === 'trimType') {\n        if (modalMode === 'add') {\n            url = `${API_BASE_URL}/trim-type`;\n            requestBody = { trimTypeCode: formData.code, trimType: formData.name };\n        } else { // edit mode\n            url = `${API_BASE_URL}/trim-type/${currentItem?.code}`;\n            requestBody = { trimTypeCode: currentItem?.code, trimType: formData.name };\n        }\n    } else if (modalType === 'trimSeries') {\n        if (modalMode === 'add') {\n            url = `${API_BASE_URL}/trim/series`;\n            requestBody = { trimSeriesCode: formData.code, trimSeries: formData.name };\n        } else { // edit mode\n            url = `${API_BASE_URL}/trim/series/${currentItem?.code}`;\n            requestBody = { trimSeriesCode: currentItem?.code, trimSeries: formData.name };\n        }\n    } else if (modalType === 'trimPortSize') {\n        if (modalMode === 'add') {\n            // ë°±ì—”ë“œ API: POST /trim/{section} (section=\"portsize\")\n            url = `${API_BASE_URL}/trim/portsize`;\n            // Unitì´ ì„ íƒëœ ê²½ìš° ìžë™ìœ¼ë¡œ unitCode ì„¤ì •\n            const unitCode = selectedTrimPortSizeUnitCode || formData.unit;\n            // ë°±ì—”ë“œê°€ ê¸°ëŒ€í•˜ëŠ” í•„ë“œëª…: portSizeCode, portSize, unitCode\n            requestBody = { portSizeCode: formData.code, portSize: formData.name, unitCode: unitCode };\n            console.log('ðŸ” trimPortSize ADD - selectedUnitCode:', selectedTrimPortSizeUnitCode, 'formData.unit:', formData.unit, 'final unitCode:', unitCode);\n        } else { // edit mode\n            // ë°±ì—”ë“œ API: PUT /trim/{section}/{code} (section=\"portsize\")\n            url = `${API_BASE_URL}/trim/portsize/${currentItem?.code}`;\n            // ë°±ì—”ë“œê°€ ê¸°ëŒ€í•˜ëŠ” í•„ë“œëª…: portSize, unitCode\n            requestBody = { portSize: formData.name, unitCode: currentItem?.unit || formData.unit };\n        }\n    } else if (modalType === 'trimForm') {\n        if (modalMode === 'add') {\n            // ë°±ì—”ë“œ API: POST /trim/{section} (section=\"form\")\n            url = `${API_BASE_URL}/trim/form`;\n            // ë°±ì—”ë“œê°€ ê¸°ëŒ€í•˜ëŠ” í•„ë“œëª…: formCode, form\n            requestBody = { formCode: formData.code, form: formData.name };\n        } else { // edit mode\n            // ë°±ì—”ë“œ API: PUT /trim/{section}/{code} (section=\"form\")\n            url = `${API_BASE_URL}/trim/form/${currentItem?.code}`;\n            // ë°±ì—”ë“œê°€ ê¸°ëŒ€í•˜ëŠ” í•„ë“œëª…: form\n            requestBody = { form: formData.name };\n        }\n    } else if (modalType === 'trimMaterial') {\n        if (modalMode === 'add') {\n            // ë°±ì—”ë“œ API: POST /trim/{section} (section=\"material\")\n            url = `${API_BASE_URL}/trim/material`;\n            // ë°±ì—”ë“œê°€ ê¸°ëŒ€í•˜ëŠ” í•„ë“œëª…: trimMatCode, trimMat\n            requestBody = { trimMatCode: formData.code, trimMat: formData.name };\n        } else { // edit mode\n            // ë°±ì—”ë“œ API: PUT /trim/{section}/{code} (section=\"material\")\n            url = `${API_BASE_URL}/trim/material/${currentItem?.code}`;\n            // ë°±ì—”ë“œê°€ ê¸°ëŒ€í•˜ëŠ” í•„ë“œëª…: trimMat\n            requestBody = { trimMat: formData.name };\n        }\n    } else if (modalType === 'trimOption') {\n        if (modalMode === 'add') {\n            // ë°±ì—”ë“œ API: POST /trim/{section} (section=\"option\")\n            url = `${API_BASE_URL}/trim/option`;\n            // ë°±ì—”ë“œê°€ ê¸°ëŒ€í•˜ëŠ” í•„ë“œëª…: trimOptionCode, trimOption\n            requestBody = { trimOptionCode: formData.code, trimOption: formData.name };\n        } else { // edit mode\n            // ë°±ì—”ë“œ API: PUT /trim/{section}/{code} (section=\"option\")\n            url = `${API_BASE_URL}/trim/option/${currentItem?.code}`;\n            // ë°±ì—”ë“œê°€ ê¸°ëŒ€í•˜ëŠ” í•„ë“œëª…: trimOption\n            requestBody = { trimOption: formData.name };\n        }\n    } else if (modalType.startsWith('body')) { // Group common body sections for add/edit\n        const sectionId = modalType.replace('body', '').toLowerCase(); // e.g., 'bonnet', 'valve', 'material', 'connection'\n        let codeKey = '';\n        let nameKey = '';\n        let unitKey = ''; // For size\n\n        switch(sectionId) {\n            case 'bonnet': codeKey = 'bonnetCode'; nameKey = 'bonnet'; break;\n            case 'valve': codeKey = 'valveSeriesCode'; nameKey = 'valveSeries'; break;\n            case 'material': codeKey = 'bodyMatCode'; nameKey = 'bodyMat'; break;\n            case 'connection': codeKey = 'connectionCode'; nameKey = 'connection'; break;\n            case 'size': codeKey = 'bodySizeCode'; nameKey = 'bodySize'; unitKey = 'sizeUnit'; break;\n            default: \n                setError(`Unknown body section ID: ${sectionId}`); \n                return;\n        }\n\n        if (modalMode === 'add') {\n            url = `${API_BASE_URL}/body/${sectionId}`;\n            if (sectionId === 'size') {\n                // Unitì´ ì„ íƒëœ ê²½ìš° ìžë™ìœ¼ë¡œ sizeUnit ì„¤ì •\n                const sizeUnit = selectedBodySizeUnitCode || formData.unit;\n                requestBody = { [codeKey]: formData.code, [nameKey]: formData.name, [unitKey]: sizeUnit };\n                console.log('ðŸ” bodySize ADD - selectedUnitCode:', selectedBodySizeUnitCode, 'formData.unit:', formData.unit, 'final sizeUnit:', sizeUnit);\n            } else {\n                requestBody = { [codeKey]: formData.code, [nameKey]: formData.name };\n            }\n        } else { // edit mode\n            url = `${API_BASE_URL}/body/${sectionId}/${currentItem?.code}`;\n            if (sectionId === 'size') {\n                const sizeUnit = selectedBodySizeUnitCode || formData.unit;\n                requestBody = { [codeKey]: currentItem?.code, [nameKey]: formData.name, [unitKey]: sizeUnit };\n            } else {\n                requestBody = { [codeKey]: currentItem?.code, [nameKey]: formData.name };\n            }\n        }\n    } else {\n        setError('Unknown modalType. Cannot construct URL or body.');\n        return;\n    }\n\n    console.log(\"ðŸ”§ handleSave: Final URL =\", url);\n    console.log(\"ðŸ”§ handleSave: Final Method =\", method);\n    console.log(\"ðŸ”§ handleSave: Final Body =\", requestBody);\n    console.log(\"ðŸ”§ handleSave: accTypeCode =\", accTypeCode);\n    console.log(\"ðŸ”§ handleSave: selectedMakerCode =\", selectedMakerCode);\n    console.log(\"ðŸ”§ handleSave: modalType =\", modalType);\n    console.log(\"ðŸ”§ handleSave: modalMode =\", modalMode);\n    console.log(\"ðŸ”§ handleSave: selectedUnitCode =\", selectedUnitCode);\n    console.log(\"ðŸ”§ handleSave: formData =\", formData);\n    console.log(\"ðŸ”§ handleSave: requestBody JSON =\", JSON.stringify(requestBody));\n\n    try {\n        console.log(\"ðŸ”§ API í˜¸ì¶œ ìƒì„¸:\", { url, method, requestBody });\n        console.log(\"ðŸ”§ requestBody JSON:\", JSON.stringify(requestBody));\n        const response = await fetch(url, {\n            method,\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(requestBody)\n        });\n\n        if (!response.ok) {\n            console.error('ðŸ”§ API ì‘ë‹µ ì˜¤ë¥˜:', response.status, response.statusText);\n            let errorMessage = 'Failed to save data.';\n            try {\n                const errorData = await response.json();\n                errorMessage = errorData.message || errorMessage;\n                console.error('ðŸ”§ API ì˜¤ë¥˜ ìƒì„¸:', errorData);\n            } catch (parseError) {\n                console.error('ðŸ”§ ì‘ë‹µ íŒŒì‹± ì˜¤ë¥˜:', parseError);\n            }\n            throw new Error(errorMessage);\n        }\n\n        closeModal();\n        if (modalType === 'maker') {\n            fetchData(); // Refetch all makers, or body sections\n        } else if (modalType === 'model' && selectedMakerCode) {\n            fetchModelsForMaker(selectedMakerCode); // Refetch models for the current maker\n        } else if (modalType === 'unit' || modalType === 'rating' || modalType === 'bodySizeUnit' || modalType === 'trimPortSizeUnit') {\n            fetchData(); // Refetch body data for rating section\n        } else if (modalType === 'actType' || modalType === 'actSeries' || modalType === 'actSize' || modalType === 'actHW') {\n            fetchData(); // Refetch act data\n        } else if (modalType === 'trimType' || modalType === 'trimSeries' || modalType === 'trimPortSize' || modalType === 'trimForm' || modalType === 'trimMaterial' || modalType === 'trimOption') {\n            fetchData(); // Refetch trim data\n        } else if (modalType.startsWith('body')) { // Simplified check for all body sections\n            fetchData(); // Refetch body data\n        }\n\n    } catch (err) {\n        setError(err instanceof Error ? err.message : 'An unknown error occurred during save.');\n    }\n  };\n\n  const handleDelete = async (type: 'maker' | 'model' | 'unit' | 'rating' | 'actType' | 'actSeries' | 'actSize' | 'actHW' | 'trimType' | 'trimSeries' | 'trimPortSize' | 'trimForm' | 'trimMaterial' | 'trimOption' | 'bodyBonnet' | 'bodyValve' | 'bodyMaterial' | 'bodySize' | 'bodyConnection' | 'bodySizeUnit' | 'trimPortSizeUnit', item: MasterDataItem) => {\n    console.log('ðŸš€ handleDelete ì‹œìž‘:', { type, item, selectedAccessorySection, selectedMakerCode });\n    \n    if (!window.confirm(`Are you sure you want to delete ${item.name}?`)) return;\n\n    const accTypeCode = accessorySections.find(s => s.id === selectedAccessorySection)?.apiId;\n    \n    // ì•…ì„¸ì‚¬ë¦¬ ë©”ì´ì»¤/ëª¨ë¸ ì‚­ì œ ì „ ì‚¬ìš© ì—¬ë¶€ í™•ì¸\n    if (type === 'maker' && accTypeCode) {\n      console.log('ðŸ” ë©”ì´ì»¤ ì‚­ì œ ì „ ì‚¬ìš© ì—¬ë¶€ í™•ì¸ ì‹œìž‘:', { type, accTypeCode, makerCode: item.code });\n      \n      try {\n        const checkUrl = `${API_BASE_URL}/acc/${accTypeCode}/check-maker-usage/${item.code}`;\n        console.log('ðŸ” API í˜¸ì¶œ URL:', checkUrl);\n        \n        const usageCheck = await fetch(checkUrl);\n        console.log('ðŸ” API ì‘ë‹µ ìƒíƒœ:', usageCheck.status);\n        \n        if (!usageCheck.ok) {\n          console.error('ðŸ” API ì˜¤ë¥˜:', usageCheck.status, usageCheck.statusText);\n          throw new Error(`API ì˜¤ë¥˜: ${usageCheck.status}`);\n        }\n        \n        const usageData = await usageCheck.json();\n        console.log('ðŸ” ì‚¬ìš© ì—¬ë¶€ ë°ì´í„°:', usageData);\n        \n        if (usageData.isUsed) {\n          console.log('ðŸ” ë©”ì´ì»¤ê°€ ì‚¬ìš© ì¤‘ìž…ë‹ˆë‹¤. ì‚­ì œ ì°¨ë‹¨.');\n          const choice = window.confirm(\n            `ì´ ë©”ì´ì»¤ëŠ” ${usageData.usedModelsCount}ê°œì˜ ëª¨ë¸ì—ì„œ ì‚¬ìš© ì¤‘ìž…ë‹ˆë‹¤.\\n\\n` +\n            `ì‚­ì œí•˜ë ¤ë©´ ëª¨ë“  ëª¨ë¸ì„ ë¨¼ì € ì‚­ì œí•´ì•¼ í•©ë‹ˆë‹¤.\\n\\n` +\n            `ê³„ì† ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`\n          );\n          \n          if (choice) {\n            alert('ë¨¼ì € ì‚¬ìš© ì¤‘ì¸ ëª¨ë¸ë“¤ì„ ì‚­ì œí•´ì£¼ì„¸ìš”.');\n            return;\n          } else {\n            return; // ì‚­ì œ ì·¨ì†Œ\n          }\n        } else {\n          console.log('ðŸ” ë©”ì´ì»¤ê°€ ì‚¬ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì‚­ì œ ì§„í–‰.');\n        }\n      } catch (error) {\n        console.error('ðŸ” ì‚¬ìš© ì—¬ë¶€ í™•ì¸ ì¤‘ ì˜¤ë¥˜:', error);\n        // ì‚¬ìš© ì—¬ë¶€ í™•ì¸ ì‹¤íŒ¨ ì‹œì—ë„ ì‚­ì œ ì§„í–‰ (ê¸°ì¡´ ë™ìž‘ ìœ ì§€)\n      }\n    }\n    \n    if (type === 'model' && accTypeCode && selectedMakerCode) {\n      console.log('ðŸ” ëª¨ë¸ ì‚­ì œ ì „ ì‚¬ìš© ì—¬ë¶€ í™•ì¸ ì‹œìž‘:', { type, accTypeCode, makerCode: selectedMakerCode, modelCode: item.code });\n      \n      try {\n        const checkUrl = `${API_BASE_URL}/acc/${accTypeCode}/check-model-usage/${selectedMakerCode}/${item.code}`;\n        console.log('ðŸ” API í˜¸ì¶œ URL:', checkUrl);\n        \n        const usageCheck = await fetch(checkUrl);\n        console.log('ðŸ” API ì‘ë‹µ ìƒíƒœ:', usageCheck.status);\n        \n        if (!usageCheck.ok) {\n          console.error('ðŸ” API ì˜¤ë¥˜:', usageCheck.status, usageCheck.statusText);\n          throw new Error(`API ì˜¤ë¥˜: ${usageCheck.status}`);\n        }\n        \n        const usageData = await usageCheck.json();\n        console.log('ðŸ” ì‚¬ìš© ì—¬ë¶€ ë°ì´í„°:', usageData);\n        \n        if (usageData.isUsed) {\n          console.log('ðŸ” ëª¨ë¸ì´ ì‚¬ìš© ì¤‘ìž…ë‹ˆë‹¤. ì‚­ì œ ì°¨ë‹¨.');\n          alert(\n            `ì´ ëª¨ë¸ì€ ${usageData.usedEstimatesCount}ê°œì˜ ê²¬ì ì—ì„œ ì‚¬ìš© ì¤‘ìž…ë‹ˆë‹¤.\\n` +\n            `ì‚­ì œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`\n          );\n          return;\n                } else {\n            console.log('ðŸ” ëª¨ë¸ì´ ì‚¬ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì‚­ì œ ì§„í–‰.');\n        }\n      } catch (error) {\n        console.error('ðŸ” ì‚¬ìš© ì—¬ë¶€ í™•ì¸ ì¤‘ ì˜¤ë¥˜:', error);\n        // ì‚¬ìš© ì—¬ë¶€ í™•ì¸ ì‹¤íŒ¨ ì‹œì—ë„ ì‚­ì œ ì§„í–‰ (ê¸°ì¡´ ë™ìž‘ ìœ ì§€)\n      }\n    }\n    \n    // Act ì‚­ì œ ì „ ì‚¬ìš© ì—¬ë¶€ í™•ì¸ (ìƒˆë¡œ ì¶”ê°€)\n    if (type === 'actType' || type === 'actSeries' || type === 'actSize' || type === 'actHW') {\n      console.log('ðŸ” Act ì‚­ì œ ì „ ì‚¬ìš© ì—¬ë¶€ í™•ì¸ ì‹œìž‘:', { type, item });\n      \n      try {\n        // ê°„ë‹¨í•œ í™•ì¸: í•´ë‹¹ Actê°€ í•˜ìœ„ ê³„ì¸µì—ì„œ ì‚¬ìš© ì¤‘ì¸ì§€ í™•ì¸\n        // ì‹¤ì œë¡œëŠ” ë°±ì—”ë“œì—ì„œ ì´ë¯¸ í™•ì¸í•˜ê³  ìžˆì§€ë§Œ, í”„ë¡ íŠ¸ì—”ë“œì—ì„œë„ ê²½ê³  ë©”ì‹œì§€ í‘œì‹œ\n        let warningMessage = '';\n        if (type === 'actType') {\n          warningMessage = 'ì§ì ‘ ì‚­ì œ ê°€ëŠ¥í•©ë‹ˆë‹¤.';\n        } else if (type === 'actSeries') {\n          warningMessage = 'ì‚­ì œ ì‹œ í•˜ìœ„ Act Sizeë“¤ë„ í•¨ê»˜ ì‚­ì œë©ë‹ˆë‹¤.';\n        } else if (type === 'actSize') {\n          warningMessage = 'ì§ì ‘ ì‚­ì œ ê°€ëŠ¥í•©ë‹ˆë‹¤.';\n        } else if (type === 'actHW') {\n          warningMessage = 'ì§ì ‘ ì‚­ì œ ê°€ëŠ¥í•©ë‹ˆë‹¤.';\n        }\n        \n        const confirmDelete = window.confirm(\n          `ì´ ${type === 'actType' ? 'Act Type' : type === 'actSeries' ? 'Act Series' : type === 'actSize' ? 'Act Size' : 'Act HW'}ì„(ë¥¼) ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\\n\\n` +\n          `${warningMessage}`\n        );\n        \n        if (!confirmDelete) {\n          console.log('ðŸ” ì‚¬ìš©ìžê°€ ì‚­ì œë¥¼ ì·¨ì†Œí–ˆìŠµë‹ˆë‹¤.');\n          return;\n        }\n      } catch (error) {\n        console.error('ðŸ” Act ì‚­ì œ í™•ì¸ ì¤‘ ì˜¤ë¥˜:', error);\n      }\n    }\n    \n    let url = '';\n    if (type === 'model') {\n        if (!selectedMakerCode) {\n            setError('A maker must be selected to delete a model.');\n            return;\n        }\n        if (!accTypeCode) {\n            setError('Accessory type is not selected correctly.'); // Should not happen if selectedMakerCode is set\n            return;\n        }\n        // ë°±ì—”ë“œ API: acc/{section}/{modelCode}/{accTypeCode}/{accMakerCode}\n        // model ì‚­ì œ ì‹œ: section=\"model\", modelCode=item.code, accTypeCode=accTypeCode, accMakerCode=selectedMakerCode\n        url = `${API_BASE_URL}/acc/${type}/${item.code}/${accTypeCode}/${selectedMakerCode}`;\n    } else if (type === 'maker') {\n        if (!accTypeCode) {\n            setError('Accessory type is not selected correctly.');\n            return;\n        }\n        // ë°±ì—”ë“œ API: acc/{section}/{modelCode}/{accTypeCode}/{accMakerCode}\n        // maker ì‚­ì œ ì‹œ: section=\"maker\", modelCode=item.code, accTypeCode=accTypeCode, accMakerCodeëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠìŒ\n        url = `${API_BASE_URL}/acc/${type}/${item.code}/${accTypeCode}/dummy`;\n    } else if (type === 'unit') {\n        url = `${API_BASE_URL}/body/rating-units/${item.code}`;\n    } else if (type === 'bodySizeUnit') {\n        url = `${API_BASE_URL}/body/size-unit/${item.code}`;\n    } else if (type === 'trimPortSizeUnit') {\n        url = `${API_BASE_URL}/trim/port-size-unit/${item.code}`;\n    } else if (type === 'rating') {\n        // ratingì€ ë³µí•©í‚¤ì´ë¯€ë¡œ unit íŒŒë¼ë¯¸í„° í•„ìš”\n        if (!selectedUnitCode) {\n            setError('Rating Unit must be selected to delete rating.');\n            return;\n        }\n        url = `${API_BASE_URL}/body/rating/${item.code}?unit=${selectedUnitCode}`;\n    } else if (type === 'actType') {\n        // ë°±ì—”ë“œ API: DELETE /act/{section}/{code} (section=\"type\")\n        url = `${API_BASE_URL}/act/type/${item.code}`;\n    } else if (type === 'actSeries') {\n        // ë°±ì—”ë“œ API: DELETE /act/{section}/{code} (section=\"series\")\n        url = `${API_BASE_URL}/act/series/${item.code}`;\n    } else if (type === 'actSize') {\n        // ë°±ì—”ë“œ API: DELETE /act/{section}/{code} (section=\"size\") + Query Parameter actSeriesCode\n        if (!selectedActSeriesCode) {\n            setError('Actuator Series must be selected to delete size.');\n            return;\n        }\n        url = `${API_BASE_URL}/act/size/${item.code}?actSeriesCode=${selectedActSeriesCode}`;\n    } else if (type === 'actHW') {\n        // ë°±ì—”ë“œ API: DELETE /act/{section}/{code} (section=\"hw\")\n        url = `${API_BASE_URL}/act/hw/${item.code}`;\n    } else if (type === 'trimType') {\n        url = `${API_BASE_URL}/trim-type/${item.code}`;\n    } else if (type === 'trimSeries') {\n        url = `${API_BASE_URL}/trim/series/${item.code}`;\n    } else if (type === 'trimPortSize') {\n        if (!item.unit) {\n            setError('Unit ì •ë³´ê°€ í•„ìš”í•©ë‹ˆë‹¤.');\n            return;\n        }\n        url = `${API_BASE_URL}/trim/portsize/${item.code}?unit=${item.unit}`;\n    } else if (type === 'trimForm') {\n        url = `${API_BASE_URL}/trim/form/${item.code}`;\n    } else if (type === 'trimMaterial') {\n        url = `${API_BASE_URL}/trim/material/${item.code}`;\n    } else if (type === 'trimOption') {\n        url = `${API_BASE_URL}/trim/option/${item.code}`;\n    } else if (type.startsWith('body')) { // Group common body sections for delete\n        const sectionId = type.replace('body', '').toLowerCase();\n        if (sectionId === 'size') {\n            // bodySizeëŠ” ë³µí•©í‚¤ì´ë¯€ë¡œ unit íŒŒë¼ë¯¸í„° í•„ìš”\n            url = `${API_BASE_URL}/body/${sectionId}/${item.code}?unit=${item.unit}`;\n        } else {\n             url = `${API_BASE_URL}/body/${sectionId}/${item.code}`;\n        }\n    } else {\n        setError('Unknown delete type. Cannot construct URL.');\n        return;\n    }\n\n    try {\n        console.log('ðŸ”§ ì‚­ì œ API í˜¸ì¶œ:', { url, method: 'DELETE' });\n        const response = await fetch(url, { method: 'DELETE' });\n        console.log('ðŸ”§ ì‚­ì œ API ì‘ë‹µ:', { status: response.status, statusText: response.statusText });\n\n        if (!response.ok) {\n            const errorData = await response.json();\n            throw new Error(errorData.message || 'Failed to delete data.');\n        }\n        \n        if (type === 'maker') {\n            fetchData(); // Refetch makers\n        } else if (type === 'model' && selectedMakerCode) {\n            fetchModelsForMaker(selectedMakerCode); // Refetch models\n        } else if (type === 'unit' || type === 'rating' || type === 'bodySizeUnit' || type === 'trimPortSizeUnit') {\n            fetchData(); // Refetch body data for rating section\n        } else if (type === 'actType' || type === 'actSeries' || type === 'actSize' || type === 'actHW') {\n            fetchData(); // Refetch act data\n        } else if (type === 'trimType' || type === 'trimSeries' || type === 'trimPortSize' || type === 'trimForm' || type === 'trimMaterial' || type === 'trimOption') {\n            fetchData(); // Refetch trim data\n        } else if (type.startsWith('body')) { // Simplified check for all body sections\n            fetchData(); // Refetch body data\n        }\n\n    } catch (err) {\n        setError(err instanceof Error ? err.message : 'An unknown error occurred during delete.');\n    }\n  };\n\n\n  // --- Render Functions ---\n\n  const renderModal = () => {\n    if (!isModalOpen) return null;\n\n    const title = (() => {\n        if (modalType === 'unit') {\n            return `${modalMode === 'add' ? 'Add' : 'Edit'} Rating Unit`;\n        } else if (modalType === 'rating') {\n            return `${modalMode === 'add' ? 'Add' : 'Edit'} Body Rating`;\n        } else if (modalType === 'bodySize') {\n            return `${modalMode === 'add' ? 'Add' : 'Edit'} Body Size`;\n        } else {\n            return `${modalMode === 'add' ? 'Add' : 'Edit'} ${modalType}`;\n        }\n    })();\n\n    return (\n        <div className=\"modal-overlay\">\n            <div className=\"modal\">\n                <h3>{title}</h3>\n                <div className=\"modal-body\">\n                    {modalType !== 'bodySize' && (\n                        <>\n                            <div className=\"form-group\">\n                                <label>ëª¨ë¸ ì½”ë“œ</label>\n                                <input name=\"code\" value={formData.code || ''} onChange={handleFormChange} disabled={modalMode === 'edit'}/>\n                            </div>\n                            <div className=\"form-group\">\n                                <label>ëª¨ë¸ ì´ë¦„</label>\n                                <input name=\"name\" value={formData.name || ''} onChange={handleFormChange} />\n                            </div>\n                        </>\n                    )}\n                    {modalType === 'model' && (\n                        <>\n                            <div className=\"form-group\">\n                                <label>ë©”ì´ì»¤ ì½”ë“œ</label>\n                                <input name=\"accMakerCode\" value={formData.accMakerCode || ''} disabled readOnly />\n                            </div>\n                            <div className=\"form-group\">\n                                <label>ë©”ì´ì»¤ ì´ë¦„</label>\n                                <input name=\"accMakerName\" value={formData.accMakerName || ''} disabled readOnly />\n                            </div>\n                            <div className=\"form-group\">\n                                <label>ê·œê²© (Spec)</label>\n                                <input name=\"spec\" value={formData.spec || ''} onChange={handleFormChange} />\n                            </div>\n                        </>\n                    )}\n                    {modalType === 'rating' && (\n                        <div className=\"form-group\">\n                            <label>Rating Unit</label>\n                            <input name=\"unit\" value={selectedUnitCode || ''} disabled readOnly />\n                        </div>\n                    )}\n                    {modalType === 'bodySize' && (\n                        <>\n                            <div className=\"form-group\">\n                                <label>Body Size Code</label>\n                                <input name=\"code\" value={formData.code || ''} onChange={handleFormChange} placeholder=\"A, B, C ë“±\" disabled={modalMode === 'edit'} />\n                            </div>\n                            <div className=\"form-group\">\n                                <label>Body Size Name</label>\n                                <input name=\"name\" value={formData.name || ''} onChange={handleFormChange} placeholder=\"20A, 50A ë“±\" />\n                            </div>\n                        </>\n                    )}\n                </div>\n                <div className=\"modal-footer\">\n                    <button onClick={closeModal} className=\"control-btn\">Cancel</button>\n                    <button onClick={handleSave} className=\"control-btn add-btn\">Save</button>\n                </div>\n            </div>\n        </div>\n    );\n  };\n\n  const renderContent = () => {\n    // ... (ì´ì „ ì½”ë“œì™€ ìœ ì‚¬, ë¡œë”©/ì—ëŸ¬ ì²˜ë¦¬ ì¶”ê°€)\n\n    if (isLoading) return <div className=\"placeholder-content\">Loading...</div>;\n    if (error) return <div className=\"placeholder-content error\">Error: {error}</div>;\n\n    switch (activeTab) {\n      case 'body':\n        const currentBodySection = bodySections.find(s => s.id === selectedBodySection);\n        if (selectedBodySection === 'rating') {\n            return (\n                <div className=\"content-wrapper\">\n                    <div className=\"section-selector\">\n                        <h3>Body ì„¹ì…˜ ì„ íƒ</h3>\n                        <div className=\"section-buttons\">\n                            {bodySections.map((section) => (\n                            <button\n                                key={section.id}\n                                className={`section-button ${selectedBodySection === section.id ? 'active' : ''}`}\n                                onClick={() => setSelectedBodySection(section.id)}\n                            >\n                                {section.name}\n                            </button>\n                            ))}\n                        </div>\n                    </div>\n                    <div className=\"rating-grid\">\n                        <div className=\"table-area\">\n                            <div className=\"table-header\">\n                                <h3>Unit</h3>\n                                <div className=\"controls\">\n                                    <input type=\"text\" placeholder=\"ê²€ìƒ‰...\" className=\"search-input\"/>\n                                    <button className=\"control-btn\" onClick={fetchData}>ìƒˆë¡œê³ ì¹¨</button>\n                                    <button className=\"control-btn add-btn\" onClick={() => openModal('unit', 'add')}>+ ì¶”ê°€</button>\n                                </div>\n                            </div>\n                            <table>\n                                <thead>\n                                    <tr>\n                                        <th key=\"code\">Code</th>\n                                        <th key=\"name\">NAME</th>\n                                        <th key=\"actions\">ìž‘ì—…</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {unitData.map(item => (\n                                        <tr \n                                            key={item.code} \n                                            onClick={() => handleUnitSelect(item.code)} // Add onClick event\n                                            className={selectedUnitCode === item.code ? 'selected' : ''} // Add 'selected' class\n                                        >\n                                            <td>{item.code}</td>\n                                            <td>{item.name}</td>\n                                            <td>\n                                                <button className=\"action-btn edit-btn\" onClick={(e) => { e.stopPropagation(); openModal('unit', 'edit', item); }}>ìˆ˜ì •</button>\n                                                <button className=\"action-btn delete-btn\" onClick={(e) => { e.stopPropagation(); handleDelete('unit', item); }}>ì‚­ì œ</button>\n                                            </td>\n                                        </tr>\n                                    ))}\n                                </tbody>\n                            </table>\n                        </div>\n                        {selectedUnitCode && ( // Conditionally render Rating table\n                            <div className=\"table-area\">\n                                <div className=\"table-header\">\n                                    <h3>Rating</h3>\n                                    <div className=\"controls\">\n                                        <input type=\"text\" placeholder=\"ê²€ìƒ‰...\" className=\"search-input\"/>\n                                        <button className=\"control-btn\" onClick={fetchData}>ìƒˆë¡œê³ ì¹¨</button>\n                                        <button className=\"control-btn add-btn\" onClick={() => openModal('rating', 'add')}>+ ì¶”ê°€</button>\n                                    </div>\n                                </div>\n                                <table>\n                                    <thead>\n                                        <tr>\n                                            <th key=\"code\">Code*</th>\n                                            <th key=\"name\">NAME</th>\n                                            <th key=\"spec\">ê·œê²©</th>\n                                            <th key=\"actions\">ìž‘ì—…</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        {bodyData.map(item => (\n                                            <tr key={item.code}>\n                                                <td>{item.code}</td>\n                                                <td>{item.name}</td>\n                                                <td>{item.unit}</td>\n                                                <td>\n                                                    <button className=\"action-btn edit-btn\" onClick={() => openModal('rating', 'edit', item)}>ìˆ˜ì •</button>\n                                                    <button className=\"action-btn delete-btn\" onClick={() => handleDelete('rating', item)}>ì‚­ì œ</button>\n                                                </td>\n                                            </tr>\n                                        ))}\n                                    </tbody>\n                                </table>\n                            </div>\n                        )}\n                    </div>\n                </div>\n            )\n        } else if (selectedBodySection === 'bodySize') {\n            return (\n                <div className=\"content-wrapper\">\n                    <div className=\"section-selector\">\n                        <h3>Body ì„¹ì…˜ ì„ íƒ</h3>\n                        <div className=\"section-buttons\">\n                            {bodySections.map((section) => (\n                            <button\n                                key={section.id}\n                                className={`section-button ${selectedBodySection === section.id ? 'active' : ''}`}\n                                onClick={() => setSelectedBodySection(section.id)}\n                            >\n                                {section.name}\n                            </button>\n                            ))}\n                        </div>\n                    </div>\n                    <div className=\"rating-grid\">\n                        <div className=\"table-area\">\n                            <div className=\"table-header\">\n                                <h3>Unit</h3>\n                                <div className=\"controls\">\n                                    <input type=\"text\" placeholder=\"ê²€ìƒ‰...\" className=\"search-input\"/>\n                                    <button className=\"control-btn\" onClick={fetchData}>ìƒˆë¡œê³ ì¹¨</button>\n                                    <button className=\"control-btn add-btn\" onClick={() => openModal('bodySizeUnit', 'add')}>+ ì¶”ê°€</button>\n                                </div>\n                            </div>\n                            <table>\n                                <thead>\n                                    <tr>\n                                        <th key=\"code\">Code</th>\n                                        <th key=\"name\">NAME</th>\n                                        <th key=\"actions\">ìž‘ì—…</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {unitData.map(item => (\n                                        <tr \n                                            key={item.code} \n                                            onClick={() => handleBodySizeUnitSelect(item.code)} // Add onClick event\n                                            className={selectedBodySizeUnitCode === item.code ? 'selected' : ''} // Add 'selected' class\n                                        >\n                                            <td>{item.code}</td>\n                                            <td>{item.name}</td>\n                                            <td>\n                                                <button className=\"action-btn edit-btn\" onClick={(e) => { e.stopPropagation(); openModal('bodySizeUnit', 'edit', item); }}>ìˆ˜ì •</button>\n                                                <button className=\"action-btn delete-btn\" onClick={(e) => { e.stopPropagation(); handleDelete('bodySizeUnit', item); }}>ì‚­ì œ</button>\n                                            </td>\n                                        </tr>\n                                    ))}\n                                </tbody>\n                            </table>\n                        </div>\n                        {selectedBodySizeUnitCode && ( // Conditionally render Body Size table\n                            <div className=\"table-area\">\n                                <div className=\"table-header\">\n                                    <h3>Body Size</h3>\n                                    <div className=\"controls\">\n                                        <input type=\"text\" placeholder=\"ê²€ìƒ‰...\" className=\"search-input\"/>\n                                        <button className=\"control-btn\" onClick={fetchData}>ìƒˆë¡œê³ ì¹¨</button>\n                                        <button className=\"control-btn add-btn\" onClick={() => openModal('bodySize', 'add')}>+ ì¶”ê°€</button>\n                                    </div>\n                                </div>\n                                <table>\n                                    <thead>\n                                        <tr>\n                                        <th key=\"code\">Code*</th>\n                                        <th key=\"name\">NAME</th>\n                                        <th key=\"unit\">Unit</th>\n                                        <th key=\"actions\">ìž‘ì—…</th>\n                                    </tr>\n                                    </thead>\n                                    <tbody>\n                                        {bodyData.map(item => (\n                                            <tr key={item.code}>\n                                                <td>{item.code}</td>\n                                                <td>{item.name}</td>\n                                                <td>{item.unit}</td>\n                                                <td>\n                                                    <button className=\"action-btn edit-btn\" onClick={() => openModal('bodySize', 'edit', item)}>ìˆ˜ì •</button>\n                                                    <button className=\"action-btn delete-btn\" onClick={() => handleDelete('bodySize', item)}>ì‚­ì œ</button>\n                                                </td>\n                                            </tr>\n                                        ))}\n                                    </tbody>\n                                </table>\n                            </div>\n                        )}\n                    </div>\n                </div>\n            )\n        }\n        if (!currentBodySection) return null; // Add this line\n        return (\n          <div className=\"content-wrapper\">\n            <div className=\"section-selector\">\n              <h3>Body ì„¹ì…˜ ì„ íƒ</h3>\n              <div className=\"section-buttons\">\n                {bodySections.map((section) => (\n                  <button\n                    key={section.id}\n                    className={`section-button ${selectedBodySection === section.id ? 'active' : ''}`}\n                    onClick={() => setSelectedBodySection(section.id)}\n                  >\n                    {section.name}\n                  </button>\n                ))}\n              </div>\n            </div>\n            <div className=\"table-area\">\n                <div className=\"table-header\">\n                    <h3>{currentBodySection?.name}</h3>\n                    <div className=\"controls\">\n                        <input type=\"text\" placeholder=\"ê²€ìƒ‰...\" className=\"search-input\"/>\n                        <button className=\"control-btn\" onClick={fetchData}>ìƒˆë¡œê³ ì¹¨</button>\n                        <button className=\"control-btn add-btn\" onClick={() => openModal(currentBodySection.id as 'bodyBonnet' | 'bodyValve' | 'bodyMaterial' | 'bodySize' | 'bodyConnection', 'add')}>+ ì¶”ê°€</button>\n                    </div>\n                </div>\n                <table>\n                    <thead>\n                        <tr>\n                            {currentBodySection?.columns && currentBodySection.columns.map(col => <th key={col.key}>{col.label}</th>)}\n                            <th>ìž‘ì—…</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {bodyData.map((item, index) => (\n                            <tr key={currentBodySection?.id === 'bodySize' ? `${item.unit}-${item.code}-${index}` : `${item.code}-${index}`}>\n                                <td>{item.code}</td>\n                                <td>{item.name}</td>\n                                {currentBodySection?.columns && currentBodySection.columns.some(col => col.key === 'unit') && <td>{item.unit}</td>}\n                                <td>\n                                    <button className=\"action-btn edit-btn\" onClick={(e) => { e.stopPropagation(); openModal(currentBodySection.id as 'bodyBonnet' | 'bodyValve' | 'bodyMaterial' | 'bodySize' | 'bodyConnection', 'edit', item); }}>ìˆ˜ì •</button>\n                                    <button className=\"action-btn delete-btn\" onClick={(e) => { e.stopPropagation(); handleDelete(currentBodySection.id as 'bodyBonnet' | 'bodyValve' | 'bodyMaterial' | 'bodySize' | 'bodyConnection', item); }}>ì‚­ì œ</button>\n                                </td>\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </div>\n          </div>\n        );\n      case 'accessory':\n        return (\n            <div className=\"content-wrapper\">\n                <div className=\"section-selector\">\n                    <h3>Accessory ì„¹ì…˜ ì„ íƒ</h3>\n                    <div className=\"section-buttons\">\n                        {accessorySections.map((section) => (\n                        <button\n                            key={section.id}\n                            className={`section-button ${selectedAccessorySection === section.id ? 'active' : ''}`}\n                            onClick={() => setSelectedAccessorySection(section.id)}\n                        >\n                            {section.name}\n                        </button>\n                        ))}\n                    </div>\n                </div>\n                <div className=\"accessory-grid\">\n                    <div className=\"table-area\">\n                        <div className=\"table-header\">\n                            <h3>Maker</h3>\n                            <div className=\"controls\">\n                                <input type=\"text\" placeholder=\"ê²€ìƒ‰...\" className=\"search-input\"/>\n                                <button className=\"control-btn\" onClick={fetchData}>ìƒˆë¡œê³ ì¹¨</button>\n                                <button className=\"control-btn add-btn\" onClick={() => openModal('maker', 'add')}>+ ì¶”ê°€</button>\n                            </div>\n                        </div>\n                        <table>\n                            <thead>\n                                <tr>\n                                    <th>Code</th>\n                                    <th>NAME</th>\n                                    <th>ìž‘ì—…</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {makerData.map(item => (\n                                    <tr \n                                        key={item.code} \n                                        onClick={() => handleMakerSelect(item.code)}\n                                        className={selectedMakerCode === item.code ? 'selected' : ''}\n                                    >\n                                        <td>{item.code}</td>\n                                        <td>{item.name}</td>\n                                        <td>\n                                            <button className=\"action-btn edit-btn\" onClick={(e) => { e.stopPropagation(); openModal('maker', 'edit', item); }}>ìˆ˜ì •</button>\n                                            <button className=\"action-btn delete-btn\" onClick={(e) => { e.stopPropagation(); handleDelete('maker', item); }}>ì‚­ì œ</button>\n                                        </td>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                    </div>\n                    <div className=\"table-area\">\n                         <div className=\"table-header\">\n                            <h3>Model</h3>\n                            <div className=\"controls\">\n                                <input type=\"text\" placeholder=\"ê²€ìƒ‰...\" className=\"search-input\"/>\n                                <button className=\"control-btn\" onClick={() => selectedMakerCode && fetchModelsForMaker(selectedMakerCode)}>ìƒˆë¡œê³ ì¹¨</button>\n                                <button className=\"control-btn add-btn\" onClick={() => openModal('model', 'add')} disabled={!selectedMakerCode}>+ ì¶”ê°€</button>\n                            </div>\n                        </div>\n                        <table>\n                            <thead>\n                                <tr>\n                                    <th>Code*</th>\n                                    <th>NAME</th>\n                                    <th>ê·œê²©</th>\n                                    <th>ìž‘ì—…</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {modelData.map(item => (\n                                    <tr key={item.code}>\n                                        <td>{item.code}</td>\n                                        <td>{item.name}</td>\n                                        <td>{item.spec}</td>\n                                        <td>\n                                            <button className=\"action-btn edit-btn\" onClick={() => openModal('model', 'edit', item)}>ìˆ˜ì •</button>\n                                            <button className=\"action-btn delete-btn\" onClick={() => handleDelete('model', item)}>ì‚­ì œ</button>\n                                        </td>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n        );\n      case 'trim':\n        const currentTrimSection = trimSections.find(s => s.id === selectedTrimSection);\n        if (!currentTrimSection) return null; // Should not happen\n\n        if (selectedTrimSection === 'trimPortSize') {\n            return (\n                <div className=\"content-wrapper\">\n                    <div className=\"section-selector\">\n                        <h3>Trim ì„¹ì…˜ ì„ íƒ</h3>\n                        <div className=\"section-buttons\">\n                            {trimSections.map((section) => (\n                                <button\n                                    key={section.id}\n                                    className={`section-button ${selectedTrimSection === section.id ? 'active' : ''}`}\n                                    onClick={() => setSelectedTrimSection(section.id)}\n                                >\n                                    {section.name}\n                                </button>\n                            ))}\n                        </div>\n                    </div>\n                    <div className=\"rating-grid\">\n                        <div className=\"table-area\">\n                            <div className=\"table-header\">\n                                <h3>Unit</h3>\n                                <div className=\"controls\">\n                                    <input type=\"text\" placeholder=\"ê²€ìƒ‰...\" className=\"search-input\"/>\n                                    <button className=\"control-btn\" onClick={fetchData}>ìƒˆë¡œê³ ì¹¨</button>\n                                    <button className=\"control-btn add-btn\" onClick={() => openModal('trimPortSizeUnit', 'add')}>+ ì¶”ê°€</button>\n                                </div>\n                            </div>\n                            <table>\n                                <thead>\n                                    <tr>\n                                        <th key=\"code\">Code</th>\n                                        <th key=\"name\">NAME</th>\n                                        <th key=\"actions\">ìž‘ì—…</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {unitData.map(item => (\n                                        <tr \n                                            key={item.code} \n                                            onClick={() => handleTrimPortSizeUnitSelect(item.code)} // Add onClick event\n                                            className={selectedTrimPortSizeUnitCode === item.code ? 'selected' : ''} // Add 'selected' class\n                                        >\n                                            <td>{item.code}</td>\n                                            <td>{item.name}</td>\n                                            <td>\n                                                <button className=\"action-btn edit-btn\" onClick={(e) => { e.stopPropagation(); openModal('trimPortSizeUnit', 'edit', item); }}>ìˆ˜ì •</button>\n                                                <button className=\"action-btn delete-btn\" onClick={(e) => { e.stopPropagation(); handleDelete('trimPortSizeUnit', item); }}>ì‚­ì œ</button>\n                                            </td>\n                                        </tr>\n                                    ))}\n                                </tbody>\n                            </table>\n                        </div>\n                        {selectedTrimPortSizeUnitCode && ( // Conditionally render Trim Port Size table\n                            <div className=\"table-area\">\n                                <div className=\"table-header\">\n                                    <h3>Trim Port Size</h3>\n                                    <div className=\"controls\">\n                                        <input type=\"text\" placeholder=\"ê²€ìƒ‰...\" className=\"search-input\"/>\n                                        <button className=\"control-btn\" onClick={fetchData}>ìƒˆë¡œê³ ì¹¨</button>\n                                        <button className=\"control-btn add-btn\" onClick={() => openModal('trimPortSize', 'add')}>+ ì¶”ê°€</button>\n                                    </div>\n                                </div>\n                                <table>\n                                    <thead>\n                                        <tr>\n                                        <th key=\"code\">Code*</th>\n                                        <th key=\"name\">NAME</th>\n                                        <th key=\"unit\">Unit</th>\n                                        <th key=\"actions\">ìž‘ì—…</th>\n                                    </tr>\n                                    </thead>\n                                    <tbody>\n                                        {trimData.map(item => (\n                                            <tr key={item.code}>\n                                                <td>{item.code}</td>\n                                                <td>{item.name}</td>\n                                                <td>{item.unit}</td>\n                                                <td>\n                                                    <button className=\"action-btn edit-btn\" onClick={() => openModal('trimPortSize', 'edit', item)}>ìˆ˜ì •</button>\n                                                    <button className=\"action-btn delete-btn\" onClick={() => handleDelete('trimPortSize', item)}>ì‚­ì œ</button>\n                                                </td>\n                                            </tr>\n                                        ))}\n                                    </tbody>\n                                </table>\n                            </div>\n                        )}\n                    </div>\n                </div>\n            )\n        }\n        return (\n            <div className=\"content-wrapper\">\n                <div className=\"section-selector\">\n                    <h3>Trim ì„¹ì…˜ ì„ íƒ</h3>\n                    <div className=\"section-buttons\">\n                        {trimSections.map((section) => (\n                            <button\n                                key={section.id}\n                                className={`section-button ${selectedTrimSection === section.id ? 'active' : ''}`}\n                                onClick={() => setSelectedTrimSection(section.id)}\n                            >\n                                {section.name}\n                            </button>\n                        ))}\n                    </div>\n                </div>\n                <div className=\"table-area\"> {/* Using table-area for single column layout for Trim */} \n                    <div className=\"table-header\">\n                        <h3>{currentTrimSection?.name}</h3>\n                        <div className=\"controls\">\n                            <input type=\"text\" placeholder=\"ê²€ìƒ‰...\" className=\"search-input\"/>\n                            <button className=\"control-btn\" onClick={fetchData}>ìƒˆë¡œê³ ì¹¨</button>\n                            <button className=\"control-btn add-btn\" onClick={() => openModal(currentTrimSection.id as 'trimType' | 'trimSeries' | 'trimPortSize' | 'trimForm' | 'trimMaterial' | 'trimOption', 'add')}>+ ì¶”ê°€</button>\n                        </div>\n                    </div>\n                    <table>\n                        <thead>\n                            <tr>\n                                {currentTrimSection?.columns && currentTrimSection.columns.map(col => <th key={col.key}>{col.label}</th>)}\n                                <th>ìž‘ì—…</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {trimData.map((item, index) => (\n                                <tr key={currentTrimSection.id === 'trimPortSize' ? `${item.code}-${item.unit}-${index}` : `${item.code}-${index}`}>\n                                    <td>{item.code}</td>\n                                    <td>{item.name}</td>\n                                    {currentTrimSection.id === 'trimPortSize' && <td>{item.unit}</td>} {/* Conditionally render unit for Port Size */}\n                                    <td>\n                                        <button className=\"action-btn edit-btn\" onClick={(e) => { e.stopPropagation(); openModal(currentTrimSection.id as 'trimType' | 'trimSeries' | 'trimPortSize' | 'trimForm' | 'trimMaterial' | 'trimOption', 'edit', item); }}>ìˆ˜ì •</button>\n                                        <button className=\"action-btn delete-btn\" onClick={(e) => { e.stopPropagation(); handleDelete(currentTrimSection.id as 'trimType' | 'trimSeries' | 'trimPortSize' | 'trimForm' | 'trimMaterial' | 'trimOption', item); }}>ì‚­ì œ</button>\n                                    </td>\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        );\n      case 'act':\n        const currentActSection = actuatorSections.find(s => s.id === selectedActSection);\n        if (!currentActSection) return null; // Should not happen\n\n        return (\n            <div className=\"content-wrapper\">\n                <div className=\"section-selector\">\n                    <h3>Actuator ì„¹ì…˜ ì„ íƒ</h3>\n                    <div className=\"section-buttons\">\n                        {actuatorSections.map((section) => (\n                        <button\n                            key={section.id}\n                            className={`section-button ${selectedActSection === section.id ? 'active' : ''}`}\n                            onClick={() => {\n                                setSelectedActSection(section.id);\n                                setSelectedActSeriesCode(null); // Reset selected series when changing act sections\n                            }}\n                        >\n                            {section.name}\n                        </button>\n                        ))}\n                    </div>\n                </div>\n                {selectedActSection === 'actSeries' ? (\n                    <div className=\"accessory-grid\"> {/* Reusing accessory-grid for two columns */} \n                        <div className=\"table-area\">\n                            <div className=\"table-header\">\n                                <h3>Series</h3>\n                                <div className=\"controls\">\n                                    <input type=\"text\" placeholder=\"ê²€ìƒ‰...\" className=\"search-input\"/>\n                                    <button className=\"control-btn\" onClick={fetchData}>ìƒˆë¡œê³ ì¹¨</button>\n                                    <button className=\"control-btn add-btn\" onClick={() => openModal('actSeries', 'add')}>+ ì¶”ê°€</button>\n                                </div>\n                            </div>\n                            <table>\n                                <thead>\n                                    <tr>\n                                        <th key=\"code\">Code*</th>\n                                        <th key=\"name\">NAME</th>\n                                        <th key=\"actions\">ìž‘ì—…</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {actSeriesData.map(item => (\n                                        <tr \n                                            key={item.code} \n                                            onClick={() => handleActSeriesSelect(item.code)}\n                                            className={selectedActSeriesCode === item.code ? 'selected' : ''}\n                                        >\n                                            <td>{item.code}</td>\n                                            <td>{item.name}</td>\n                                            <td>\n                                                <button className=\"action-btn edit-btn\" onClick={(e) => { e.stopPropagation(); openModal('actSeries', 'edit', item); }}>ìˆ˜ì •</button>\n                                                <button className=\"action-btn delete-btn\" onClick={(e) => { e.stopPropagation(); handleDelete('actSeries', item); }}>ì‚­ì œ</button>\n                                            </td>\n                                        </tr>\n                                    ))}\n                                </tbody>\n                            </table>\n                        </div>\n                        {selectedActSeriesCode && (\n                            <div className=\"table-area\">\n                                <div className=\"table-header\">\n                                    <h3>Size</h3>\n                                    <div className=\"controls\">\n                                        <input type=\"text\" placeholder=\"ê²€ìƒ‰...\" className=\"search-input\"/>\n                                        <button className=\"control-btn\" onClick={() => selectedActSeriesCode && fetchData()}>ìƒˆë¡œê³ ì¹¨</button>\n                                        <button className=\"control-btn add-btn\" onClick={() => openModal('actSize', 'add')} disabled={!selectedActSeriesCode}>+ ì¶”ê°€</button>\n                                    </div>\n                                </div>\n                                <table>\n                                    <thead>\n                                        <tr>\n                                            <th key=\"code\">Code*</th>\n                                            <th key=\"name\">NAME</th>\n                                            <th key=\"actions\">ìž‘ì—…</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        {actSizeData\n                                            .filter(item => item.seriesCode === selectedActSeriesCode) // Filter sizes by selected series\n                                            .map(item => (\n                                                <tr key={item.code}>\n                                                    <td>{item.code}</td>\n                                                    <td>{item.name}</td>\n                                                    <td>\n                                                        <button className=\"action-btn edit-btn\" onClick={() => openModal('actSize', 'edit', item)}>ìˆ˜ì •</button>\n                                                        <button className=\"action-btn delete-btn\" onClick={() => handleDelete('actSize', item)}>ì‚­ì œ</button>\n                                                    </td>\n                                                </tr>\n                                            ))}\n                                    </tbody>\n                                </table>\n                            </div>\n                        )}\n                    </div>\n                ) : (\n                    <div className=\"table-area\">\n                        <div className=\"table-header\">\n                            <h3>{currentActSection?.name}</h3>\n                            <div className=\"controls\">\n                                <input type=\"text\" placeholder=\"ê²€ìƒ‰...\" className=\"search-input\"/>\n                                <button className=\"control-btn\" onClick={fetchData}>ìƒˆë¡œê³ ì¹¨</button>\n                                <button className=\"control-btn add-btn\" onClick={() => openModal(currentActSection.id === 'actType' ? 'actType' : 'actHW', 'add')}>+ ì¶”ê°€</button>\n                            </div>\n                        </div>\n                        <table>\n                            <thead>\n                                <tr>\n                                    {currentActSection?.columns && currentActSection.columns.map(col => <th key={col.key}>{col.label}</th>)}\n                                    <th>ìž‘ì—…</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {(selectedActSection === 'actType' ? actTypeData : actHWData).map(item => (\n                                    <tr key={item.code}>\n                                        <td>{item.code}</td>\n                                        <td>{item.name}</td>\n                                        <td>\n                                            <button className=\"action-btn edit-btn\" onClick={() => openModal(currentActSection.id === 'actType' ? 'actType' : 'actHW', 'edit', item)}>ìˆ˜ì •</button>\n                                            <button className=\"action-btn delete-btn\" onClick={() => handleDelete(currentActSection.id === 'actType' ? 'actType' : 'actHW', item)}>ì‚­ì œ</button>\n                                        </td>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                    </div>\n                )}\n            </div>\n        );\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className=\"new-accessory-management-page\">\n      <div className=\"main-tabs-container\">\n        <h3>ëŒ€ë¶„ë¥˜ ì„ íƒ</h3>\n        <div className=\"main-tabs\">\n          {tabs.map((tab) => (\n            <button\n              key={tab.id}\n              className={`main-tab-button ${activeTab === tab.id ? 'active' : ''}`}\n              onClick={() => setActiveTab(tab.id as 'body' | 'trim' | 'act' | 'accessory')}\n            >\n              {tab.name}\n            </button>\n          ))}\n        </div>\n      </div>\n      {renderContent()}\n      {renderModal()}\n    </div>\n  );\n};\n\nexport default NewAccessoryManagementPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}